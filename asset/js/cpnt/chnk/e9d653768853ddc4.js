(self.webpackChunkpropovoice=self.webpackChunkpropovoice||[]).push([[2987],{9494:(t,e,n)=>{"use strict";n.d(e,{X:()=>u,_:()=>d});var r=n(4942),a=n(15861),o=n(64687),i=n.n(o),s=n(91358);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){(0,s.V)((function(){!function(t,e){var n={name:t.name,mimeType:"image/*"},r=new FormData;r.append("metadata",new Blob([JSON.stringify(n)],{type:"application/json"})),r.append("file",t),h("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",r,f,[e])}(t,e)}))}function d(t){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.V)((0,a.Z)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.gapi.auth.getToken().access_token;case 2:return n=t.sent,t.next=5,fetch("https://www.googleapis.com/drive/v2/files/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n),Accept:"application/json"}}).then((function(t){return console.log(t)}));case 5:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t,e,n,r){var a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=window.gapi.auth.getToken().access_token,s=new XMLHttpRequest;s.open(t,e),s.setRequestHeader("Authorization","Bearer "+i),s.responseType="json",s.onload=function(t){o.push(t),r.apply(a,o)},s.send(n)}function f(t,e){var n=e.target.response.id;t((function(t){return l(l({},t),{},{url:"https://drive.google.com/uc?export=view&id=".concat(n)})})),console.log("File uploaded successfully");h("post","https://www.googleapis.com/drive/v3/files/".concat(n,"/permissions"),new Blob([JSON.stringify({role:"reader",type:"anyone"})],{type:"application/json"}),v,[n])}function v(t){console.log("The file id ".concat(t," is public now!!!"))}},91358:(t,e,n)=>{"use strict";n.d(e,{$:()=>u,V:()=>m});var r,a=n(15861),o=n(64687),i=n.n(o),s=n(12816),c=n(72132),l=function(t,e,n){var r=document.createElement("script");r.async=!0,r.defer=!0,r.src=e,r.id=t,r.onload=n,document.body.appendChild(r)},u=function(){var t=(0,a.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.Z.get("settings","tab=google_api_oauth2").then((function(t){if(!t.data.success||""===t.data.data.client_id||""===t.data.data.api_key)throw c.Am.error("Please setup Google Client ID and Api key in Settings!"),new Error("Please setup Google Client ID and Api key in Settings!");localStorage.setItem("g_client_id",t.data.data.client_id),localStorage.setItem("g_api_key",t.data.data.api_key)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function d(){window.gapi.load("client:auth2",p)}function p(){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("g_api_key"),"https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest",t.next=4,window.gapi.client.init({apiKey:e,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]});case 4:!0;case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){var t=localStorage.getItem("g_client_id");r=google.accounts.oauth2.initTokenClient({client_id:t,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file",callback:""}),!0}var v=function(t){return new Promise((function(e){return setTimeout(e,t)}))};function m(t){return g.apply(this,arguments)}function g(){return g=(0,a.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:return l("gapi","https://apis.google.com/js/api.js",d),l("gsi","https://accounts.google.com/gsi/client",f),t.next=6,v(500);case 6:if(r.callback=function(){var t=(0,a.Z)(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n.error){t.next=2;break}throw n;case 2:return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),null!==window.gapi.client.getToken()){t.next=12;break}return t.next=10,r.requestAccessToken({prompt:"consent"});case 10:t.next=14;break;case 12:return t.next=14,r.requestAccessToken({prompt:""});case 14:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}},19968:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(93324),a=n(67294),o=n(12968),i=n(59249),s=n(72132),c=n(12816),l=n(85893);const u=function(t){var e=(0,a.useRef)(),n=(0,a.useState)(!1),u=(0,r.Z)(n,2),d=u[0],p=u[1],h=(0,a.useCallback)((function(){return p(!1)}),[]);(0,o.Z)(e,h);var f=t.row,v=t.project,m=t.boardView,g=ndpv,y=g.i18n,b=g.caps.includes("ndpv_client_role"),w=!0;v&&b&&m&&(w=!1);return(0,l.jsxs)("div",{className:"pv-action-content",children:[(0,l.jsx)("button",{className:d?"pv-active":"",onClick:function(){return p((function(t){return!t}))},style:{padding:"0 5px"},children:(0,l.jsx)(i.I8,{})}),d&&(0,l.jsxs)("div",{className:"pv-dropdown-content pv-show",ref:e,children:[w&&t.handleOverview&&(0,l.jsx)("a",{onClick:function(){p(!1),t.handleOverview(f.id)},children:y.ov}),!b&&t.editEntry&&(0,l.jsx)("a",{onClick:function(){p(!1),t.editEntry("edit",f)},children:y.edit}),!b&&(0,l.jsx)("a",{onClick:function(){if(p(!1),f.file&&f.url){var e=new URL(f.url),n=new URLSearchParams(e.search).get("id");t.deleteEntry("singleDrive",[f.id,n])}else t.deleteEntry("single",f.id)},children:y.del}),t.resendPassword&&t.resendPassword.show&&(0,l.jsx)("a",{onClick:function(){var e,n,r;p(!1),e=f.id,n=t.resendPassword.from,r={id:e,from:n,type:"resend-password"},c.Z.add("actions",r,"pro").then((function(t){t.data.success?s.Am.success("Password resent"):t.data.data.forEach((function(t){s.Am.error(t)}))}))},children:"Resend Password"})]})]})}},55103:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(11358),a=n.n(r),o=n(85893);const i=function(t){return(0,o.jsx)("div",{className:"pv-pagination-content",children:(0,o.jsx)(a(),{previousClassName:"pv-previous",nextClassName:"pv-next",disabledClassName:"pv-disabled",previousLabel:(0,o.jsx)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none",children:(0,o.jsx)("path",{d:"M7.5 12.833L1.667 7 7.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),nextLabel:(0,o.jsx)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none",children:(0,o.jsx)("path",{d:"M1.5 12.833L7.333 7 1.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),breakLabel:(0,o.jsx)("svg",{width:15,height:15,viewBox:"0 0 24 24",fill:"none",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12a2 2 0 10-4 0 2 2 0 004 0zM14 12a2 2 0 10-4 0 2 2 0 004 0zM21 12a2 2 0 10-4 0 2 2 0 004 0z",fill:"#718096"})}),breakClassName:"break",forcePage:t.forcePage,pageCount:t.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:t.onPageChange,containerClassName:"pv-pagination",activeClassName:"pv-active"})})}},22987:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>N});var r=n(67294),a=n(16636),o=n(55103),i=n(15671),s=n(43144),c=n(97326),l=n(60136),u=n(82963),d=n(61120),p=n(4942),h=n(58842),f=n(80589),v=n(72360),m=n(85893);function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){(0,p.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,d.Z)(t);if(e){var a=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}const w=function(t){(0,l.Z)(n,t);var e=b(n);function n(t){var r;return(0,i.Z)(this,n),r=e.call(this,t),(0,p.Z)((0,c.Z)(r),"handleChange",(function(t){var e=t.target,n=e.name,a="checkbox"===e.type?e.checked:e.value;r.setState({form:y(y({},r.state.form),{},(0,p.Z)({},n,a))})})),(0,p.Z)((0,c.Z)(r),"handleSubmit",(function(t){if(t.preventDefault(),wage.length>0)(0,f.Z)();else{var e=t.nativeEvent.submitter,n=y({},r.state.form);n.attach_ids.length>0&&(n.attach_ids=n.attach_ids.map((function(t){return t.id}))),n.receiver_type=e&&"ndpv-client"===e.id?1:2,r.props.handleSubmit(n,"new"),r.setState({form:{id:null,tab_id:r.props.tab_id,text:"",receiver_type:null,attach_ids:[]}})}})),(0,p.Z)((0,c.Z)(r),"handleAttachChange",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=y({},r.state.form);if(e){var a=n.attach_ids.filter((function(e){return e.id!==t}));n.attach_ids=a}else n.attach_ids.push(t);r.setState({form:n})})),r.initState={id:null,tab_id:r.props.tab_id,text:"",receiver_type:null,attach_ids:[]},r.state={form:r.initState},r}return(0,s.Z)(n,[{key:"render",value:function(){var t=this,e=ndpv,n=e.i18n,r=e.caps,a=this.state.form.attach_ids,o=this.props.path,i=r.includes("ndpv_client_role"),s=this.props.taskMod;return(0,m.jsx)("div",{className:"pv-chat-history",style:{padding:20},children:(0,m.jsxs)("form",{onSubmit:this.handleSubmit,className:"pv-textarea",children:[(0,m.jsx)("textarea",{id:"field-text",type:"text",required:!0,name:"text",value:this.state.form.text,placeholder:s?n.write_comment:n.write_msg,onChange:this.handleChange,onKeyPress:function(e){"Enter"===e.key&&t.handleSubmit(e)},rows:2}),(0,m.jsxs)("div",{className:"pv-button-content",children:[(0,m.jsx)(h.Z,{data:a,changeHandler:this.handleAttachChange,multiple:!0,clipOnly:!0},a),(0,m.jsxs)("div",{className:"pv-button",children:[!i&&"project"==o&&(0,m.jsx)("button",{type:"submit",id:"ndpv-team",className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-hover-shadow pv-mr-10",children:n.send_team}),"project"==o&&(0,m.jsx)("button",{type:"submit",id:"ndpv-client",className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-color-white pv-bg-shadow",children:i?n.send:n.reply_client}),!i&&"project"!=o&&(0,m.jsxs)("button",{type:"submit",id:"ndpv-team",className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-color-white pv-bg-shadow",children:[s?n.comment:n.send," ",(0,m.jsx)(v.Z,{blueBtn:!0})]})]})]})]})})}}]),n}(r.Component);var x=n(59249);n(8975);function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){(0,p.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,d.Z)(t);if(e){var a=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var O=function(t){(0,l.Z)(n,t);var e=_(n);function n(t){var r;return(0,i.Z)(this,n),r=e.call(this,t),(0,p.Z)((0,c.Z)(r),"handleChange",(function(t){var e=t.target,n=e.name,a=e.value;r.setState({form:k(k({},r.state.form),{},(0,p.Z)({},n,a))})})),(0,p.Z)((0,c.Z)(r),"editData",(function(){"edit"==r.props.modalType?r.state.form.id!=r.props.data.id&&r.setState({form:r.props.data}):null!=r.state.form.id&&r.setState({form:r.initialState})})),(0,p.Z)((0,c.Z)(r),"handleSubmit",(function(t){t.preventDefault();var e=k({},r.state.form);r.props.handleSubmit(e),r.setState({form:r.initialState})})),r.initialState={id:null,tab_id:r.props.tab_id,text:""},r.state={form:r.initialState},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.editData()}},{key:"componentDidUpdate",value:function(){this.editData()}},{key:"render",value:function(){var t=this,e=this.state.form,n=ndpv.i18n,r=this.props.taskMod,a=r?n.edit_comment:n.edit_msg;return(0,m.jsx)("div",{className:"pv-overlay pv-show",children:(0,m.jsxs)("div",{className:"pv-modal-content",children:[(0,m.jsxs)("div",{className:"pv-modal-header pv-gradient",children:[(0,m.jsx)("span",{className:"pv-close",onClick:function(){return t.props.close()},children:(0,m.jsx)(x.mm,{})}),(0,m.jsxs)("h2",{className:"pv-modal-title",children:[a," "]})]}),(0,m.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,m.jsx)("div",{className:"pv-content",children:(0,m.jsx)("div",{className:"pv-form-style-one",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{htmlFor:"form-text",children:r?n.comment:n.msg}),(0,m.jsx)("textarea",{id:"form-text",required:!0,name:"text",value:e.text,onChange:this.handleChange})]})})})}),(0,m.jsx)("div",{className:"pv-modal-footer",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col",children:(0,m.jsx)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:function(){return t.props.close()},children:n.cancel})}),(0,m.jsx)("div",{className:"col",children:(0,m.jsx)("button",{type:"submit",className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-btn-big pv-float-right pv-color-white",children:n.upd})})]})})]})]})})}}]),n}(r.Component);const P=O;var S=n(19968),Z=n(34743),E=function(t){var e=(0,r.useRef)(null);(0,r.useEffect)((function(){e.current.scrollTop=e.current.scrollHeight}),[t.tableData]);var n=ndpv.caps.includes("ndpv_client_role"),a=t.tableData.map((function(e,a){return(0,m.jsxs)("li",{children:[e.date_format&&(0,m.jsx)("p",{children:(0,m.jsx)("span",{className:"pv-message-data-time",children:e.date_format})}),(0,m.jsxs)("div",{className:"pv-message-data",children:[(0,m.jsxs)("div",{className:"pv-time-content",children:[(0,m.jsx)("span",{className:"pv-time",children:e.date_ago}),e.canEdit&&(0,m.jsx)(S.Z,{row:e,editEntry:t.editEntry,deleteEntry:t.deleteEntry})]}),(0,m.jsx)("img",{src:ndpv.assetImgUri+"avatar.png",alt:"avatar"}),(0,m.jsxs)("div",{className:"pv-about",children:[(0,m.jsxs)("div",{className:"pv-name",children:[e.name,(0,m.jsx)("span",{className:"pv-badge pv-ml",style:{background:"ndpv_client_role"==e.role?"#39D68A":"#25A8FF",marginLeft:5},children:e.role_title})]}),(0,m.jsx)("div",{className:"pv-message",style:(o=e.role,i=!1,n||"ndpv_client_role"==o||(i=!0),n&&"ndpv_client_role"==o&&(i=!0),i?{background:"transparent",padding:0}:{}),children:e.text}),(0,m.jsx)("div",{className:"pv-msg-attach",children:(0,m.jsx)("ul",{children:e.attachs.map((function(t,e){return(0,m.jsxs)(r.Fragment,{children:["pdf"==t.type&&(0,m.jsx)("li",{className:"pv-attach-pdf",children:(0,m.jsxs)("a",{href:t.url,target:"_blank",children:[(0,m.jsx)("span",{className:"pv-pdf-icon",children:(0,m.jsxs)("svg",{width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("path",{d:"M8.023 4.102a.958.958 0 01-.957-.957V0H2.172C1.342 0 .668.675.668 1.504v10.992c0 .83.675 1.504 1.504 1.504h7.656c.83 0 1.504-.675 1.504-1.504V4.102H8.023zM2.91 9.844H4.9a.41.41 0 010 .82H2.91a.41.41 0 010-.82zM2.5 8.066a.41.41 0 01.41-.41h6.016a.41.41 0 010 .82H2.91a.41.41 0 01-.41-.41zM8.926 5.47a.41.41 0 010 .82H2.91a.41.41 0 010-.82h6.016z",fill:"#718096"}),(0,m.jsx)("path",{d:"M7.887 3.144c0 .076.061.137.136.137h3.126a1.499 1.499 0 00-.287-.375L8.225.41A1.508 1.508 0 007.887.17v2.974z",fill:"#718096"})]})}),(0,m.jsx)("span",{className:"pv-pdf-name",children:t.name}),(0,m.jsx)("span",{className:"pv-download-pdf",children:(0,m.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M1 10v1.5A1.5 1.5 0 002.5 13h9a1.5 1.5 0 001.5-1.5V10m-3-3l-3 3m0 0L4 7m3 3V1",stroke:"#718096",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),"pdf"!=t.type&&(0,m.jsx)("li",{children:(0,m.jsx)("div",{style:{width:100,display:"inline-block"},children:(0,m.jsx)(Z.Z,{small:t.url,large:t.url})})})]},e)}))})})]})]})]},a);var o,i})),o=t.taskMod;return(0,m.jsx)("div",{ref:e,className:"pv-chat-history",style:o?{}:{maxHeight:450,overflowY:"auto",padding:30,paddingBottom:0},children:(0,m.jsx)("ul",{children:a})})};const L=function(t){var e=t.tableData,n=t.editEntry,r=t.checkedBoxes,a=t.deleteEntry,o=t.taskMod,i=t.scrollBottom;return(0,m.jsx)(m.Fragment,{children:e.length>0&&(0,m.jsx)(E,{tableData:e,editEntry:n,checkedBoxes:r,deleteEntry:a,taskMod:o,scrollBottom:i})})};const N=(0,n(2730).Z)((function(t){var e=(0,r.useRef)(null),n=t.state,i=n.lists,s=n.checkedBoxes,c=n.searchVal;(0,r.useEffect)((function(){if(!wage.length){t.getLists(),e.current.scrollTop=e.current.scrollHeight;var n=setInterval((function(){t.getLists()}),15e3);return function(){return clearInterval(n)}}}),[]),(0,r.useEffect)((function(){e.current.scrollTop=e.current.scrollHeight}),[i]);var l=t.taskMod,u={};return l&&(u={marginTop:"15px",background:"#fff",padding:"20px",flex:"1",overflow:"auto"}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{ref:e,style:u,children:[t.state.formModal&&(0,m.jsx)(P,{tab_id:t.tab_id,handleSubmit:t.handleSubmit,modalType:t.state.formModalType,data:t.state.list,close:t.closeForm,taskMod:l}),l&&(wage.length>0||!t.state.preloader&&!(i.length>0))&&(0,m.jsx)("p",{style:{color:"#718096"},children:ndpv.i18n.no_comment}),!wage.length&&(0,m.jsx)(m.Fragment,{children:t.state.preloader?(0,m.jsx)(a.Z,{}):(0,m.jsx)(L,{tableData:i,searchVal:c,editEntry:t.openForm,checkedBoxes:{data:s,handle:t.handleCheckbox},deleteEntry:t.deleteEntry,taskMod:l})}),(0,m.jsx)("div",{className:"pv-pagination-content-two",children:t.state.totalPage>1&&(0,m.jsx)(o.Z,{forcePage:t.state.currentPage-1,pageCount:t.state.totalPage,onPageChange:t.handlePageClick})})]}),(0,m.jsx)(w,{handleSubmit:function(e,n){t.handleSubmit(e,n)},tab_id:t.tab_id,path:t.path,taskMod:l})]})}),"message","Messages","",!0)},2730:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r=n(15861),a=n(93324),o=n(15671),i=n(43144),s=n(97326),c=n(60136),l=n(82963),u=n(61120),d=n(4942),p=n(64687),h=n.n(p),f=n(67294),v=n(72132),m=n(12754),g=n(9494),y=n(5274),b=n(20915),w=n(85893);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){(0,d.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}const _=function(t,e,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";l||(l=e+"s");var u=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]?b.XE:b.JW)+l,p=function(e){(0,c.Z)(p,e);var l=k(p);function p(t){var e;return(0,o.Z)(this,p),e=l.call(this,t),(0,d.Z)((0,s.Z)(e),"getLists",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n={page:e.state.currentPage,per_page:e.state.perPage};e.props.tab_id&&(n.tab_id=e.props.tab_id),e.props.dashboard&&(n.dashboard=e.props.dashboard),e.props.module_id&&(n.module_id=e.props.module_id),t&&(t=Object.entries(t).reduce((function(t,e){var n=(0,a.Z)(e,2),r=n[0],o=n[1];return o?(t[r]=o,t):t}),{}),n=j(j({},n),t));var r=new URLSearchParams(n).toString(),o=y.Z.get("".concat(u,"/?").concat(r),b.r);o.then((function(t){var n=t.data.data.result,r=t.data.data.total,a=!n.length,o={};t.data.data.hasOwnProperty("extra")&&(o=t.data.data.extra),e.setState({lists:n,extra:o,preloader:!1,empty:a,total:r,totalPage:Math.ceil(r/e.state.perPage)})}));return o})),(0,d.Z)((0,s.Z)(e),"handleSearch",(function(t){var n=t.target.value;e.setState({searchVal:n},(function(){e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout((function(){e.getLists({s:e.state.searchVal})}),300)}))})),(0,d.Z)((0,s.Z)(e),"showItem",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t.target.value;e.setState({perPage:r},(function(){e.getLists(n)}))})),(0,d.Z)((0,s.Z)(e),"handleSubmit",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.state.formModalType;n&&(a=n),e.setState({submitPreloader:!0}),"new"==a?y.Z.post(u,t,b.r).then((function(t){t.data.success?(e.setState({formModal:!1,submitPreloader:!1}),v.Am.success(ndpv.i18n.aAdd),e.getLists(r)):(e.setState({submitPreloader:!1}),t.data.data.forEach((function(t){v.Am.error(t)})))})):y.Z.put("".concat(u,"/").concat(t.id),t,b.r).then((function(t){t.data.success?(e.setState({formModal:!1,submitPreloader:!1}),v.Am.success(ndpv.i18n.aUpd),e.getLists(r)):(e.setState({submitPreloader:!1}),t.data.data.forEach((function(t){v.Am.error(t)})))}))})),(0,d.Z)((0,s.Z)(e),"deleteEntry",function(){var t=(0,r.Z)(h().mark((function t(n,r){var a,o,i=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.length>2&&void 0!==i[2]?i[2]:null,a=i.length>3&&void 0!==i[3]?i[3]:null,!confirm(ndpv.i18n.aConf)){t.next=9;break}if("singleDrive"!=n){t.next=7;break}return t.next=6,(0,g._)(r[1]);case 6:r=r[0];case 7:o="single"==n||"singleDrive"==n?r:e.state.checkedBoxes.toString(),y.Z.delete("".concat(u,"/").concat(o),b.r).then((function(t){t.data.success?(v.Am.success(ndpv.i18n.aDel),"single"!=n&&e.setState({checkedBoxes:[]}),e.getLists(a)):t.data.data.forEach((function(t){v.Am.error(t)}))}));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),(0,d.Z)((0,s.Z)(e),"openForm",(function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"new"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new")?e.setState({formModal:!0,formModalType:"new"}):(t.hasOwnProperty("start_date")&&t.start_date&&(t.start_date=new Date(t.start_date)),t.hasOwnProperty("due_date")&&t.due_date&&(t.due_date=new Date(t.due_date)),e.setState({formModal:!0,formModalType:"edit",list:t}))})),(0,d.Z)((0,s.Z)(e),"closeForm",(function(){"new"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new")?e.setState({formModal:!1}):e.setState({searchModal:!1})})),(0,d.Z)((0,s.Z)(e),"handleCheckbox",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.state.checkedBoxes;if("single"==n)t.target.checked?(a.push(r),e.setState({checkedBoxes:a})):(a.splice(a.indexOf(r),1),e.setState({checkedBoxes:a}));else if(t.target.checked){var o=[];e.state.lists.map((function(t){o.push(t.id)})),e.setState({checkedBoxes:o})}else e.setState({checkedBoxes:[]})})),(0,d.Z)((0,s.Z)(e),"handlePageClick",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t.selected+1,a=r*e.state.perPage;e.setState({currentPage:r,offset:a},(function(){e.getLists(n)}))})),e.state={title:n,empty:!1,submitPreloader:!1,preloader:!0,formModal:!1,searchModal:!1,formModalType:"new",list:{id:null},extra:{},lists:[],checkedBoxes:[],offset:0,perPage:10,total:1,totalPage:1,currentPage:1,searchVal:""},e.timeout=0,e}return(0,i.Z)(p,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return(0,w.jsx)(t,j(j({},this.props),{},{state:this.state,openForm:this.openForm,closeForm:this.closeForm,showItem:this.showItem,getLists:this.getLists,handleCheckbox:this.handleCheckbox,uncheckAll:function(){return e.setState({checkedBoxes:[]})},handleSubmit:this.handleSubmit,handleSearch:this.handleSearch,handlePageClick:this.handlePageClick,deleteEntry:this.deleteEntry}))}}]),p}(f.Component);return p.contextType=m.Z,p}},17061:(t,e,n)=>{var r=n(18698).default;function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=a=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var e,n={},o=Object.prototype,i=o.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function p(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(e){p=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var a=e&&e.prototype instanceof w?e:w,o=Object.create(a.prototype),i=new D(r||[]);return s(o,"_invoke",{value:E(t,n,i)}),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=h;var v="suspendedStart",m="suspendedYield",g="executing",y="completed",b={};function w(){}function x(){}function j(){}var k={};p(k,l,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(M([])));O&&O!==o&&i.call(O,l)&&(k=O);var P=j.prototype=w.prototype=Object.create(k);function S(t){["next","throw","return"].forEach((function(e){p(t,e,(function(t){return this._invoke(e,t)}))}))}function Z(t,e){function n(a,o,s,c){var l=f(t[a],t,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,c)}))}c(l.arg)}var a;s(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,a){n(t,r,e,a)}))}return a=a?a.then(o,o):o()}})}function E(t,n,r){var a=v;return function(o,i){if(a===g)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===v)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=g;var l=f(t,n,r);if("normal"===l.type){if(a=r.done?y:m,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=y,r.method="throw",r.arg=l.arg)}}}function L(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(i.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(r(t)+" is not iterable")}return x.prototype=j,s(P,"constructor",{value:j,configurable:!0}),s(j,"constructor",{value:x,configurable:!0}),x.displayName=p(j,d,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,p(t,d,"GeneratorFunction")),t.prototype=Object.create(P),t},n.awrap=function(t){return{__await:t}},S(Z.prototype),p(Z.prototype,u,(function(){return this})),n.AsyncIterator=Z,n.async=function(t,e,r,a,o){void 0===o&&(o=Promise);var i=new Z(h(t,e,r,a),o);return n.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(P),p(P,d,"Generator"),p(P,l,(function(){return this})),p(P,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=M,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},n}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},18698:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},64687:(t,e,n)=>{var r=n(17061)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},15861:(t,e,n)=>{"use strict";function r(t,e,n,r,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function s(t){r(i,a,o,s,c,"next",t)}function c(t){r(i,a,o,s,c,"throw",t)}s(void 0)}))}}n.d(e,{Z:()=>a})}}]);