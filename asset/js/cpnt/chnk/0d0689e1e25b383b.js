(self.webpackChunkpropovoice=self.webpackChunkpropovoice||[]).push([[5800],{9494:(e,t,n)=>{"use strict";n.d(t,{X:()=>d,_:()=>u});var r=n(4942),a=n(15861),i=n(64687),s=n.n(i),o=n(91358);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){(0,o.V)((function(){!function(e,t){var n={name:e.name,mimeType:"image/*"},r=new FormData;r.append("metadata",new Blob([JSON.stringify(n)],{type:"application/json"})),r.append("file",e),p("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",r,f,[t])}(e,t)}))}function u(e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.V)((0,a.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.auth.getToken().access_token;case 2:return n=e.sent,e.next=5,fetch("https://www.googleapis.com/drive/v2/files/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n),Accept:"application/json"}}).then((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n,r){var a=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=window.gapi.auth.getToken().access_token,o=new XMLHttpRequest;o.open(e,t),o.setRequestHeader("Authorization","Bearer "+s),o.responseType="json",o.onload=function(e){i.push(e),r.apply(a,i)},o.send(n)}function f(e,t){var n=t.target.response.id;e((function(e){return l(l({},e),{},{url:"https://drive.google.com/uc?export=view&id=".concat(n)})})),console.log("File uploaded successfully");p("post","https://www.googleapis.com/drive/v3/files/".concat(n,"/permissions"),new Blob([JSON.stringify({role:"reader",type:"anyone"})],{type:"application/json"}),v,[n])}function v(e){console.log("The file id ".concat(e," is public now!!!"))}},91358:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,V:()=>m});var r,a=n(15861),i=n(64687),s=n.n(i),o=n(12816),c=n(72132),l=function(e,t,n){var r=document.createElement("script");r.async=!0,r.defer=!0,r.src=t,r.id=e,r.onload=n,document.body.appendChild(r)},d=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.get("settings","tab=google_api_oauth2").then((function(e){if(!e.data.success||""===e.data.data.client_id||""===e.data.data.api_key)throw c.Am.error("Please setup Google Client ID and Api key in Settings!"),new Error("Please setup Google Client ID and Api key in Settings!");localStorage.setItem("g_client_id",e.data.data.client_id),localStorage.setItem("g_api_key",e.data.data.api_key)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function u(){window.gapi.load("client:auth2",h)}function h(){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("g_api_key"),"https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest",e.next=4,window.gapi.client.init({apiKey:t,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]});case 4:!0;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){var e=localStorage.getItem("g_client_id");r=google.accounts.oauth2.initTokenClient({client_id:e,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file",callback:""}),!0}var v=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function m(e){return g.apply(this,arguments)}function g(){return g=(0,a.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return l("gapi","https://apis.google.com/js/api.js",u),l("gsi","https://accounts.google.com/gsi/client",f),e.next=6,v(500);case 6:if(r.callback=function(){var e=(0,a.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n.error){e.next=2;break}throw n;case 2:return e.next=4,t();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),null!==window.gapi.client.getToken()){e.next=12;break}return e.next=10,r.requestAccessToken({prompt:"consent"});case 10:e.next=14;break;case 12:return e.next=14,r.requestAccessToken({prompt:""});case 14:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}},19968:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(93324),a=n(67294),i=n(12968),s=n(59249),o=n(72132),c=n(12816),l=n(85893);const d=function(e){var t=(0,a.useRef)(),n=(0,a.useState)(!1),d=(0,r.Z)(n,2),u=d[0],h=d[1],p=(0,a.useCallback)((function(){return h(!1)}),[]);(0,i.Z)(t,p);var f=e.row,v=e.project,m=e.boardView,g=ndpv,x=g.i18n,y=g.caps.includes("ndpv_client_role"),j=!0;v&&y&&m&&(j=!1);return(0,l.jsxs)("div",{className:"pv-action-content",children:[(0,l.jsx)("button",{className:u?"pv-active":"",onClick:function(){return h((function(e){return!e}))},style:{padding:"0 5px"},children:(0,l.jsx)(s.I8,{})}),u&&(0,l.jsxs)("div",{className:"pv-dropdown-content pv-show",ref:t,children:[j&&e.handleOverview&&(0,l.jsx)("a",{onClick:function(){h(!1),e.handleOverview(f.id)},children:x.ov}),!y&&e.editEntry&&(0,l.jsx)("a",{onClick:function(){h(!1),e.editEntry("edit",f)},children:x.edit}),!y&&(0,l.jsx)("a",{onClick:function(){if(h(!1),f.file&&f.url){var t=new URL(f.url),n=new URLSearchParams(t.search).get("id");e.deleteEntry("singleDrive",[f.id,n])}else e.deleteEntry("single",f.id)},children:x.del}),e.resendPassword&&e.resendPassword.show&&(0,l.jsx)("a",{onClick:function(){var t,n,r;h(!1),t=f.id,n=e.resendPassword.from,r={id:t,from:n,type:"resend-password"},c.Z.add("actions",r,"pro").then((function(e){e.data.success?o.Am.success("Password resent"):e.data.data.forEach((function(e){o.Am.error(e)}))}))},children:"Resend Password"})]})]})}},57314:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>se});var r=n(93324),a=n(67294),i=n(16636),s=n(72132),o=n(4942),c=n(12968),l=n(12816),d=n(30381),u=n.n(d),h=n(85893);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=(0,a.lazy)((function(){return n.e(7666).then(n.bind(n,37666))}));const m=function(e){var t={id:null,tab_id:e.tab_id,title:"",status_id:"",type_id:"",priority_id:"",start_date:!1,due_date:!1,date:!1},n=(0,a.useState)(t),i=(0,r.Z)(n,2),s=i[0],d=i[1],p=(0,a.useState)([]),m=(0,r.Z)(p,2),g=m[0],x=m[1],y=(0,a.useState)([]),j=(0,r.Z)(y,2),b=j[0],C=j[1],k=(0,a.useState)([]),w=(0,r.Z)(k,2),_=w[0],Z=w[1],L=(0,a.useState)(!1),O=(0,r.Z)(L,2),S=O[0],N=O[1],D=(0,a.useState)(!1),P=(0,r.Z)(D,2),E=P[0],M=P[1],T=(0,a.useRef)(),R=(0,a.useCallback)((function(){return N(!1)}),[]);(0,c.Z)(T,R);var B=(0,a.useRef)(),F=(0,a.useCallback)((function(){return M(!1)}),[]);(0,c.Z)(B,F),(0,a.useEffect)((function(){l.Z.get("taxonomies","taxonomy=task_status,task_type,task_priority").then((function(t){if(t.data.success){var n=f({},s),r=t.data.data.task_status,a=t.data.data.task_type,i=t.data.data.task_priority;n.status_id=r[0],n.type_id=a[0],n.priority_id=i[0],d(n),x(r),C(a),Z(i),e.setTaxonomies({status:r,types:a,priorities:i})}}))}),[]);var V=function(e,t,n){e.preventDefault(),"type_id"==n?N(!1):M(!1),d(f(f({},s),{},(0,o.Z)({},n,t)))},A=ndpv.i18n;return(0,h.jsx)("form",{onSubmit:function(n){n.preventDefault();var r=f({},s);if(r.status_id&&(r.status_id=parseInt(r.status_id.id)),r.due_date){var a=u()(r.due_date).format("YYYY-MM-DD");r.due_date=a}r.type_id&&(r.type_id=parseInt(r.type_id.id)),r.priority_id&&(r.priority_id=parseInt(r.priority_id.id)),e.handleSubmit(r,"new");var i=f({},t);i.status_id=g[0],i.type_id=b[0],i.priority_id=_[0],d(i)},className:"",children:(0,h.jsxs)("div",{className:"pv-tab-buttons-group",children:[(0,h.jsx)("div",{className:"pv-activity-field",children:(0,h.jsx)("input",{id:"field-title",type:"text",required:!0,name:"title",value:s.title,placeholder:A.add+" "+A.task,onChange:function(e){var t=e.target,n=t.name,r="checkbox"===t.type?t.checked:t.value;d(f(f({},s),{},(0,o.Z)({},n,r)))}})}),(0,h.jsxs)("div",{className:"pv-tab-buttons",children:[(0,h.jsx)("div",{className:"pv-action-content",children:(0,h.jsx)(v,{date:s.due_date,label:A.due_date,type:"due_date",place:"task",onDateChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=f({},s);"start_date"==t?n.start_date=e:n.due_date=e,d(n)}})}),(0,h.jsxs)("div",{className:"pv-action-content",ref:T,children:[(0,h.jsxs)("button",{className:"pv-task-btn",type:"button",onClick:function(){return N((function(e){return!e}))},children:[s.type_id&&s.type_id.icon&&(0,h.jsx)("img",{src:s.type_id.icon.src}),s.type_id&&!s.type_id.icon&&(0,h.jsx)("svg",{width:16,height:20,viewBox:"0 0 16 20",fill:"none",children:(0,h.jsx)("path",{d:"M5 3H3C2.46957 3 1.96086 3.21071 1.58579 3.58579C1.21071 3.96086 1 4.46957 1 5V17C1 17.5304 1.21071 18.0391 1.58579 18.4142C1.96086 18.7893 2.46957 19 3 19H13C13.5304 19 14.0391 18.7893 14.4142 18.4142C14.7893 18.0391 15 17.5304 15 17V5C15 4.46957 14.7893 3.96086 14.4142 3.58579C14.0391 3.21071 13.5304 3 13 3H11M5 3C5 3.53043 5.21071 4.03914 5.58579 4.41421C5.96086 4.78929 6.46957 5 7 5H9C9.53043 5 10.0391 4.78929 10.4142 4.41421C10.7893 4.03914 11 3.53043 11 3M5 3C5 2.46957 5.21071 1.96086 5.58579 1.58579C5.96086 1.21071 6.46957 1 7 1H9C9.53043 1 10.0391 1.21071 10.4142 1.58579C10.7893 1.96086 11 2.46957 11 3M5 12L7 14L11 10",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),S&&(0,h.jsx)("div",{className:"pv-dropdown-content pv-show",children:b&&b.map((function(e,t){return(0,h.jsxs)("a",{onClick:function(t){return V(t,e,"type_id")},children:[e.icon&&(0,h.jsx)("img",{src:e.icon.src}),e.label]},t)}))})]}),(0,h.jsxs)("div",{className:"pv-action-content",ref:B,children:[(0,h.jsx)("button",{className:"pv-task-btn",type:"button",onClick:function(){return M((function(e){return!e}))},children:(0,h.jsx)("svg",{width:18,height:18,viewBox:"0 0 20 20",fill:"none",children:(0,h.jsx)("path",{d:"M10 1.5V7M1 19V15V19ZM1 15V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H9.5L10.5 2H19L16 8L19 14H10.5L9.5 13H3C2.46957 13 1.96086 13.2107 1.58579 13.5858C1.21071 13.9609 1 14.4696 1 15V15Z",stroke:s.priority_id&&s.priority_id.color?s.priority_id.color:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),E&&(0,h.jsx)("div",{className:"pv-dropdown-content pv-show",children:_&&_.map((function(e,t){return(0,h.jsxs)("a",{onClick:function(t){return V(t,e,"priority_id")},children:[(0,h.jsxs)("svg",{ref:function(e){return e&&e.style.setProperty("top","8px","important")},width:24,height:24,viewBox:"0 0 24 24",fill:"none",children:[(0,h.jsx)("path",{d:"M3.75 20.25V4.5",stroke:e.color?e.color:"#CBD5E0",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),(0,h.jsx)("path",{d:"M3.75 15.75C9.75 11.25 14.25 20.25 20.25 15.75V4.49997C14.25 8.99997 9.75 -3.40939e-05 3.75 4.49997",fill:e.color?e.color:"#CBD5E0"})]}),e.label]},t)}))})]}),(0,h.jsx)("button",{type:"submit",className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-bg-shadow pv-br-4",children:A.save})]})]})})};var g,x=n(15861),y=n(15671),j=n(43144),b=n(97326),C=n(60136),k=n(82963),w=n(61120),_=n(64687),Z=n.n(_),L=n(59249),O=n(91358),S=function(e,t){g=e,(0,O.V)((function(){N(t)}))},N=function(){var e=(0,x.Z)(Z().mark((function e(t){var n,r;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=crypto.randomUUID(),r={summary:g.summary,description:"",start:{dateTime:g.start.dateTime.toISOString(),timeZone:"America/Los_Angeles"},end:{dateTime:g.end.dateTime.toISOString(),timeZone:"America/Los_Angeles"},attendees:g.attendees,conferenceData:{createRequest:{requestId:n,conferenceSolutionKey:{type:"hangoutsMeet"}}}},gapi.client.calendar.events.insert({calendarId:"primary",resource:r,conferenceDataVersion:1}).execute((function(e){g.form.google_meet=e.hangoutLink,t(e.hangoutLink)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=n(1425),P=n(89062),E=n(45697),M=n.n(E);const T=function(e){var t=(0,a.useRef)(),n=(0,a.useState)(!1),i=(0,r.Z)(n,2),s=i[0],o=i[1],l=(0,a.useState)(""),d=(0,r.Z)(l,2),u=d[0],p=d[1];(0,c.Z)(t,close),(0,a.useEffect)((function(){}),[]);var f=function(){null==e.index?e.changeHandler(u):e.changeHandler(e.index,u),o(!1)};return(0,h.jsxs)(h.Fragment,{children:[s&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{type:"text",ref:t,onChange:function(e){p(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&f()},name:"text",value:u}),(0,h.jsx)("span",{className:"pv-cursor-pointer",style:{marginLeft:"5px",alignSelf:"center"},children:(0,h.jsx)("svg",{width:15,height:15,onClick:f,xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"3.4 5.6 17.6 13.4",enableBackground:"new 3.4 5.6 17.6 13.4",xmlSpace:"preserve",children:(0,h.jsx)("path",{d:"M9,16.2L4.8,12l-1.4,1.4L9,19L21,7l-1.4-1.4L9,16.2z"})})})]}),!s&&(0,h.jsxs)("label",{onClick:function(){p(e.value),o(!0)},children:[e.value,(0,h.jsx)("span",{className:"pv-mt-3 pv-ml-5",children:(0,h.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",children:[(0,h.jsx)("path",{d:"M5.79375 13.4999H3C2.86739 13.4999 2.74022 13.4473 2.64645 13.3535C2.55268 13.2597 2.5 13.1326 2.5 12.9999V10.2062C2.49978 10.1413 2.51236 10.0769 2.53702 10.0169C2.56169 9.95682 2.59796 9.90222 2.64375 9.85619L10.1438 2.3562C10.1903 2.30895 10.2457 2.27144 10.3069 2.24583C10.3681 2.22022 10.4337 2.20703 10.5 2.20703C10.5663 2.20703 10.632 2.22022 10.6931 2.24583C10.7543 2.27144 10.8097 2.30895 10.8563 2.3562L13.6438 5.1437C13.691 5.19022 13.7285 5.24568 13.7541 5.30684C13.7797 5.368 13.7929 5.43364 13.7929 5.49995C13.7929 5.56625 13.7797 5.63189 13.7541 5.69305C13.7285 5.75421 13.691 5.80967 13.6438 5.85619L6.14375 13.3562C6.09773 13.402 6.04313 13.4383 5.98307 13.4629C5.92301 13.4876 5.85868 13.5002 5.79375 13.4999V13.4999Z",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,h.jsx)("path",{d:"M8.5 4L12 7.5",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]})},R=function(e){var t=(0,a.useRef)(),n=(0,a.useState)(!1),i=(0,r.Z)(n,2),s=i[0],o=i[1],l=(0,a.useCallback)((function(){return o(!1)}),[]);(0,c.Z)(t,l);var d=e.row,u=ndpv.i18n;return(0,h.jsxs)("div",{className:"pv-action-content pv-action-btn pv-bg-shadow",children:[(0,h.jsx)("button",{className:s?"dpv-active":"",onClick:function(e){e.preventDefault(),o((function(e){return!e}))},children:(0,h.jsxs)("svg",{width:20,height:20,viewBox:"0 0 22 13",fill:"none",children:[(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 10.8954 6.10457 10 5 10C3.89543 10 3 10.8954 3 12C3 13.1046 3.89543 14 5 14C6.10457 14 7 13.1046 7 12Z",fill:"#718096"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12Z",fill:"#718096"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12C21 10.8954 20.1046 10 19 10C17.8954 10 17 10.8954 17 12C17 13.1046 17.8954 14 19 14C20.1046 14 21 13.1046 21 12Z",fill:"#718096"})]})}),s&&(0,h.jsxs)("div",{className:"pv-dropdown-content pv-show",ref:t,children:[(0,h.jsx)("a",{onClick:function(){o(!1),e.editEntry("edit",d)},children:u.edit}),(0,h.jsx)("a",{onClick:function(){o(!1),e.deleteEntry()},children:u.del})]})]})};var B=n(80589),F=n(72360);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,w.Z)(e);if(t){var a=(0,w.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,k.Z)(this,n)}}var I=function(e){(0,C.Z)(n,e);var t=H(n);function n(e){var r;return(0,y.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,b.Z)(r),"handleChecklistLabel",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.state.checklist[e].label=t;var n=r.state.checklist;r.setState({checklist:n}),r.handlePros()})),(0,o.Z)((0,b.Z)(r),"handleChange",(function(e,t){return function(n){var a=n.target,i=a.name,s=a.value,c=r.state.checklist[e].items.map((function(e,n){return t!==n?e:A(A({},e),{},(0,o.Z)({},i,s))}));r.state.checklist[e].items=c;var l=r.state.checklist;r.setState({checklist:l}),r.handlePros()}})),(0,o.Z)((0,b.Z)(r),"addChecklist",(function(e){if(e.preventDefault(),wage.length>0)(0,B.Z)();else{var t=r.state.checklist;t.push({label:"Checklist",items:[]}),r.setState({checklist:t})}})),(0,o.Z)((0,b.Z)(r),"handleNewItem",(function(e,t){if(wage.length>0)(0,B.Z)();else{r.state.checklist[t].newItem=e.target.value;var n=r.state.checklist;r.setState({checklist:n}),r.handlePros()}})),(0,o.Z)((0,b.Z)(r),"addItem",(function(e,t){e.preventDefault();var n=r.state.checklist[t].items,a=r.state.checklist[t].newItem;if(a){n.push({text:a,done:!1}),r.state.checklist[t].newItem="";var i=r.state.checklist;r.setState({checklist:i})}})),(0,o.Z)((0,b.Z)(r),"handlePros",(function(){r.props.changeHandler(r.state.checklist)})),(0,o.Z)((0,b.Z)(r),"doneHandler",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,P.Z)(r.state.checklist),a=n[e].items[t];a.done=!a.done,r.setState({checklist:n},(function(){r.handlePros()}))})),(0,o.Z)((0,b.Z)(r),"deleteHandler",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,P.Z)(r.state.checklist);null===t?n.splice(e,1):n[e].items.splice(t,1);r.setState({checklist:n},(function(){r.handlePros()}))})),(0,o.Z)((0,b.Z)(r),"doneCount",(function(e,t){var n=r.state.checklist[e].items;return t?n.filter((function(e){return!0===e.done})).length:n.length})),(0,o.Z)((0,b.Z)(r),"render",(function(){var e=r.state.checklist,t=r.state.itemEdit;return(0,h.jsxs)(h.Fragment,{children:[e.map((function(e,n){return(0,h.jsxs)("div",{className:"pv-checklist pv-mb-15",children:[(0,h.jsxs)("div",{className:"pv-checklist-head",children:[(0,h.jsx)(T,{value:e.label,index:n,changeHandler:r.handleChecklistLabel},n),wage.length>0&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(F.Z,{})}),(0,h.jsxs)("span",{children:[r.doneCount(n,!0)," ",ndpv.i18n.task_done_out," ",r.doneCount(n,!1)]}),(0,h.jsx)("div",{className:"pv-close-icon",onClick:function(){return r.deleteHandler(n)},children:(0,h.jsx)("svg",{width:15,height:15,viewBox:"0 0 10 10",fill:"none",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.19499 1.20353C1.31989 1.07854 1.48926 1.00833 1.66585 1.00833C1.84245 1.00833 2.01182 1.07854 2.13671 1.20353L4.99584 4.06553L7.85496 1.20353C7.9164 1.13985 7.98988 1.08906 8.07114 1.05412C8.15239 1.01919 8.23979 1.00079 8.32822 1.00003C8.41665 0.999256 8.50434 1.01612 8.58619 1.04964C8.66804 1.08316 8.7424 1.13267 8.80493 1.19526C8.86747 1.25786 8.91692 1.33229 8.95041 1.41422C8.98389 1.49615 9.00074 1.58394 8.99997 1.67246C8.99921 1.76098 8.98083 1.84846 8.94593 1.9298C8.91103 2.01113 8.86029 2.08469 8.79668 2.14619L5.93756 5.00819L8.79668 7.87019C8.91799 7.99593 8.98512 8.16433 8.98361 8.33913C8.98209 8.51392 8.91205 8.68113 8.78857 8.80474C8.66508 8.92834 8.49804 8.99846 8.32342 8.99997C8.1488 9.00149 7.98057 8.9343 7.85496 8.81286L4.99584 5.95086L2.13671 8.81286C2.01111 8.9343 1.84287 9.00149 1.66825 8.99997C1.49363 8.99846 1.32659 8.92834 1.20311 8.80474C1.07963 8.68113 1.00958 8.51392 1.00807 8.33913C1.00655 8.16433 1.07368 7.99593 1.19499 7.87019L4.05412 5.00819L1.19499 2.14619C1.07014 2.02117 1 1.85163 1 1.67486C1 1.49808 1.07014 1.32854 1.19499 1.20353Z",fill:"#4A5568",stroke:"#4A5568",strokeWidth:"0.2"})})})]}),(0,h.jsxs)("div",{className:"pv-checklist-content",children:[(0,h.jsx)("ul",{children:e.items.map((function(e,a){return(0,h.jsxs)("li",{children:[(0,h.jsx)("input",{type:"checkbox",id:n+"-task-"+a,value:e.done,checked:e.done,onChange:function(){return r.doneHandler(n,a)}}),(0,h.jsx)("label",{htmlFor:n+"-task-"+a,style:{textDecoration:e.done?"line-through":""},children:t&&t.checklist==n&&t.list==a?(0,h.jsx)("input",{type:"text",name:"text",value:e.text,onChange:r.handleChange(n,a),onKeyPress:function(e){"Enter"===e.key&&r.setState({itemEdit:!1})}}):e.text}),(0,h.jsx)(R,{row:e,editEntry:function(){r.setState({itemEdit:{checklist:n,list:a}})},deleteEntry:function(){return r.deleteHandler(n,a)}})]},a)}))}),(0,h.jsx)("input",{type:"text",placeholder:"Write new "+e.label+" item",value:e.newItem,onChange:function(e){return r.handleNewItem(e,n)},onKeyPress:function(e){"Enter"===e.key&&r.addItem(e,n)}})]})]},n)})),(0,h.jsxs)("button",{className:"pv-btn pv-btn-small",style:{color:"#718096",marginTop:10},onClick:function(e){return r.addChecklist(e)},children:[(0,h.jsxs)("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",children:[(0,h.jsx)("path",{d:"M1.875 6H10.125",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}),(0,h.jsx)("path",{d:"M6 1.875V10.125",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]}),ndpv.i18n.add_checklist,wage.length>0&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(F.Z,{})})]})]})})),r.state={edit:!1,itemEdit:!1,checklist:[{label:"Checklist",items:[],newItem:""}]},r}return(0,j.Z)(n,[{key:"componentDidMount",value:function(){!this.state.edit&&this.props.data&&this.setState({edit:!0,checklist:this.props.data})}},{key:"componentDidUpdate",value:function(){!this.state.edit&&this.props.data&&this.setState({edit:!0,checklist:this.props.data})}}]),n}(a.Component);I.propTypes={title:M().string};const Y=I;var G=n(82299),W=n(79655);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,w.Z)(e);if(t){var a=(0,w.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,k.Z)(this,n)}}var K=(0,a.lazy)((function(){return n.e(7666).then(n.bind(n,37666))})),X=(0,a.lazy)((function(){return n.e(957).then(n.bind(n,50957))})),J=(0,a.lazy)((function(){return n.e(6298).then(n.bind(n,22987))})),$=function(e){(0,C.Z)(n,e);var t=z(n);function n(e){var r;return(0,y.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,b.Z)(r),"myRef",a.createRef()),(0,o.Z)((0,b.Z)(r),"handleChange",(function(e){var t=e.target,n=t.name,a=t.value;r.setState({form:q(q({},r.state.form),{},(0,o.Z)({},n,a))},(function(){r.updateRequest(!0)}))})),(0,o.Z)((0,b.Z)(r),"isGMeetActive",(function(){l.Z.get("settings","tab=google_api_oauth2").then((function(e){e.data.success&&r.setState({form:q(q({},r.state.form),{},{is_gmeet_active:e.data.data.is_gmeet_active})})}))})),(0,o.Z)((0,b.Z)(r),"handleClickOutside",(function(e){r.myRef.current.contains(e.target)||r.props.close()})),(0,o.Z)((0,b.Z)(r),"editData",(function(){"edit"==r.props.modalType?r.state.form.id!=r.props.data.id&&r.setState({form:r.props.data}):null!=r.state.form.id&&r.setState({form:r.initialState})})),(0,o.Z)((0,b.Z)(r),"handleChecklistChange",(function(e){var t=q({},r.state.form);t.checklist=e,r.setState({form:t},(function(){r.updateRequest()}))})),(0,o.Z)((0,b.Z)(r),"updateRequest",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout((function(){var t=q({},r.state.form),n=t.status_id.id;if(delete t.priority_id,delete t.status_id,delete t.type_id,t.start_date){var a=u()(t.start_date).format("YYYY-MM-DD");t.start_date=a}if(t.end_date){var i=u()(t.end_date).format("YYYY-MM-DD");t.end_date=i}l.Z.edit("tasks",t.id,t).then((function(t){t.data.success&&e&&r.props.reload({status_id:n})}))}),300)})),(0,o.Z)((0,b.Z)(r),"handleSubmit",(function(e){e.preventDefault();var t=q({},r.state.form);t.status_id&&(t.status_id=t.status_id.id),delete t.priority_id,delete t.type_id,r.props.handleSubmit(t),r.setState({form:r.initialState})})),(0,o.Z)((0,b.Z)(r),"handleTaskStatusChange",(function(e){var t=q({},r.state.form),n={};if(r.props.activeTab&&(n=r.props.activeTab),"done"==e){var a=r.props.taxonomies.status.find((function(t){return t.type===e}));t.status_id=a,r.setState({form:t},(function(){var e={};t.status_id&&(e.status_id=t.status_id.id),l.Z.edit("tasks",t.id,e).then((function(e){e.data.success&&r.props.reload({status_id:n})}))}))}else t.status_id=e,r.setState({form:t})})),(0,o.Z)((0,b.Z)(r),"handleTaskTaxDone",(function(){var e={};r.props.activeTab&&(e=r.props.activeTab),r.props.reload({status_id:e})})),(0,o.Z)((0,b.Z)(r),"onDateChange",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=q({},r.state.form);"date"==t?n.start_date=e:n.due_date=e,r.setState({form:n},(function(){r.updateRequest(!0)}))})),(0,o.Z)((0,b.Z)(r),"getContactEmail",(0,x.Z)(Z().mark((function e(){var t,n;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=location.href,n=t.includes("lead")?"leads":"contacts",e.abrupt("return",l.Z.getS(n,r.props.tab_id).then((function(e){return e.data.data.person?e.data.data.person.email:e.data.data.org?e.data.data.org.email:""})));case 3:case"end":return e.stop()}}),e)})))),(0,o.Z)((0,b.Z)(r),"generateFakeDate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Date(e);return n.setDate(n.getDate()+t),n})),(0,o.Z)((0,b.Z)(r),"updateGoogleMeet",(function(e){var t=q({},r.state.form);r.setState({form:q(q({},t),{},{google_meet:e})}),delete t.priority_id,delete t.status_id,delete t.type_id,l.Z.edit("tasks",t.id,t)})),(0,o.Z)((0,b.Z)(r),"generateGoogleMeetLink",function(){var e=(0,x.Z)(Z().mark((function e(t){var n,a,i,s;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=r.state.form,a=n.start_date,i=n.due_date,a||(a=r.generateFakeDate()),i||(i=r.generateFakeDate(a,1)),e.t0=n,e.t1=n.title,e.t2={dateTime:a},e.t3={dateTime:i},e.next=12,r.getContactEmail();case 12:e.t4=e.sent,e.t5={email:e.t4},e.t6=[e.t5],s={form:e.t0,type:"tasks",summary:e.t1,start:e.t2,end:e.t3,attendees:e.t6},S(s,r.updateGoogleMeet);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.initialState={id:null,tab_id:r.props.tab_id,title:"",google_meet:"",is_gmeet_active:!1,status_id:null,type_id:null,priority_id:null,desc:"",note:"",checklist:null},r.state={form:r.initialState,dropdown:null},r.timeout=0,r}return(0,j.Z)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),this.isGMeetActive(),this.editData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(){this.editData()}},{key:"render",value:function(){var e=this,t=this.state.form,n=ndpv.i18n;return(0,h.jsx)("div",{className:"pv-overlay",children:(0,h.jsxs)("div",{className:"pv-modal-content",ref:this.myRef,style:{maxWidth:1040,borderTopRightRadius:"0%",borderBottomRightRadius:"0%"},children:[(0,h.jsx)("span",{className:"pv-close",style:{top:"5%"},onClick:function(){return e.props.close()},children:(0,h.jsx)(L.mm,{})}),(0,h.jsxs)("div",{className:"pv-modal-task pv-modal-task-discussion",children:[(0,h.jsx)("div",{className:"pv-modal-task-content",style:{height:690},children:(0,h.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,h.jsx)("div",{className:"dpv-content",children:(0,h.jsxs)("div",{className:"pv-form-style-one",children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-lg",children:t.id&&(0,h.jsx)(D.Z,{onChange:this.handleTaskStatusChange,onDone:this.handleTaskTaxDone,id:t.id,data:t.status_id,taxonomy:"task_status",title:n.status,color:!0},t.status_id.id)}),(0,h.jsx)("div",{className:"col-lg",children:t.status_id&&"done"!=t.status_id.type&&(0,h.jsxs)("button",{className:"pv-btn pv-btn-medium pv-float-right pv-bg-green",onClick:function(){return e.handleTaskStatusChange("done")},children:[(0,h.jsx)("svg",{width:13,height:10,viewBox:"0 0 13 10",fill:"none",children:(0,h.jsx)("path",{d:"M11.5 1.5L4.5 8.5L1 5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),n.mark," ",n.done]})})]}),(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"col-lg",children:[(0,h.jsx)("label",{htmlFor:"title",children:n.title}),(0,h.jsx)("input",{id:"title",className:"pv-title-field",type:"text",name:"title",value:t.title,onChange:this.handleChange})]})}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md",children:[(0,h.jsx)("label",{htmlFor:"field-start_date",children:n.start_date}),(0,h.jsx)("div",{className:"pv-field-date",children:(0,h.jsx)(K,{date:t.start_date,label:n.start_date,type:"date",onDateChange:this.onDateChange})})]}),(0,h.jsxs)("div",{className:"col-md",children:[(0,h.jsx)("label",{htmlFor:"field-start_date",children:n.due_date}),(0,h.jsx)("div",{className:"pv-field-date",children:(0,h.jsx)(K,{date:t.due_date,label:n.due_date,type:"due_date",onDateChange:this.onDateChange})})]})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsxs)("label",{htmlFor:"form-desc",children:[n.task," ",n.type,":"]}),(0,h.jsx)("div",{className:"pv-field-action",children:t.id&&(0,h.jsx)(D.Z,{id:t.id,data:t.type_id,taxonomy:"task_type",title:n.type,color:!0})})]}),(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsxs)("label",{htmlFor:"form-desc",children:[n.task," ",n.prior,":"]}),(0,h.jsx)("div",{className:"pv-field-action pv-field-task-priority",children:t.id&&(0,h.jsx)(D.Z,{id:t.id,data:t.priority_id,taxonomy:"task_priority",title:n.prior,onDone:this.handleTaskTaxDone,color:!0})})]})]}),this.state.form.is_gmeet_active&&this.props.tab_id&&!wage.length&&(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"col-lg",children:[(0,h.jsxs)("label",{htmlFor:"google_meet",children:[n.meeting," ",n.link]}),(0,h.jsx)("input",{type:"text",id:"google_meet",name:"google_meet",value:t.google_meet,onChange:this.handleChange}),(0,h.jsx)("div",{className:"pv-buttons pv-mt-15",children:(0,h.jsxs)("button",{className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-shadow pv-mr-10",onClick:this.generateGoogleMeetLink,children:[(0,h.jsxs)("svg",{width:17,height:14,viewBox:"0 0 17 14",fill:"none",children:[(0,h.jsx)("path",{d:"M4.5 0.399902L0.5 4.3999L2.5 5.63793L4.5 4.3999L5.62941 2.3999L4.5 0.399902Z",fill:"#FF2820"}),(0,h.jsx)("path",{d:"M4.5 4.3999H0.5V9.5999L2.5 10.6982L4.5 9.5999V4.3999Z",fill:"#0084FF"}),(0,h.jsx)("path",{d:"M0.5 9.59985V12.2665C0.5 12.9999 1.1 13.5999 1.83334 13.5999H4.5L5.62941 11.4767L4.5 9.59985H0.5Z",fill:"#0066DD"}),(0,h.jsx)("path",{d:"M15.6738 1.82014L13.1999 3.77986V3.79995L12.3931 6.88026L13.1999 9.99755L15.6628 11.9798C15.9933 12.257 16.4999 12.0241 16.4999 11.5916V2.20833C16.4999 1.77576 16.0043 1.54286 15.6738 1.82014Z",fill:"#00AD3C"}),(0,h.jsx)("path",{d:"M13.2 3.77981V1.71793C13.2 0.993027 12.6128 0.399902 11.895 0.399902H9.285H4.5V4.3999H9.4V6.9999L12.0326 6.70662L13.2 3.77981Z",fill:"#FFBA00"}),(0,h.jsx)("path",{d:"M9.4 9.6H4.5V13.6H9.285H11.895C12.6128 13.6 13.2 13.0078 13.2 12.2839V10L11.894 7.31684L9.4 7V9.6Z",fill:"#00AD3C"}),(0,h.jsx)("path",{d:"M9.3999 6.99988L13.1999 9.99988V3.77979L9.3999 6.99988Z",fill:"#00831E"})]}),n.add," Google ",n.meet]})})]})}),(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"col",children:[(0,h.jsx)("label",{htmlFor:"form-desc",children:n.desc}),(0,h.jsx)("textarea",{id:"form-desc",name:"desc",value:t.desc,onChange:this.handleChange})]})}),(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col",children:(0,h.jsx)(Y,{data:t.checklist,changeHandler:this.handleChecklistChange})})})]})}),(0,h.jsx)("div",{className:"pv-modal-footer",style:{padding:0},children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col",children:(0,h.jsx)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:function(){return e.props.close()},children:n.cancel})}),(0,h.jsx)("div",{className:"col",children:(0,h.jsx)("button",{type:"submit",className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-btn-big pv-float-right pv-color-white",children:n.save})})]})})]})}),(0,h.jsxs)("div",{className:"pv-modal-discussion-content",style:{height:690},children:[(0,h.jsx)("div",{className:"pv-modal-discussion-head-area",children:(0,h.jsxs)("div",{className:"pv-modal-discussion-head",children:[(0,h.jsxs)("div",{className:"pv-modal-discussion-info",children:[(0,h.jsxs)("p",{children:[n.task_creator,":"]}),(0,h.jsx)("p",{style:{fontWeight:500},children:this.props.data.author})]}),(0,h.jsxs)("div",{className:"pv-modal-discussion-info",children:[(0,h.jsxs)("p",{children:[n.created_at,":"]}),(0,h.jsx)("p",{children:this.props.data.date})]}),(0,h.jsxs)("div",{className:"pv-modal-discussion-info",children:[(0,h.jsxs)("p",{children:[n.source,": ",(0,h.jsx)(F.Z,{blueBtn:!0})]}),(0,h.jsx)("p",{children:!wage.length&&this.props.data.tab_title&&(0,h.jsxs)(W.rU,{to:"/"+this.props.data.tab_url,children:[(0,h.jsx)("svg",{style:{top:1,marginRight:5},width:10,height:10,viewBox:"0 0 12 12",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.97636 1.90264C8.11473 1.75937 8.28025 1.6451 8.46326 1.56648C8.64626 1.48787 8.84309 1.44649 9.04226 1.44476C9.24143 1.44303 9.43895 1.48098 9.62329 1.5564C9.80764 1.63182 9.97512 1.7432 10.116 1.88404C10.2568 2.02488 10.3682 2.19236 10.4436 2.3767C10.519 2.56105 10.557 2.75857 10.5552 2.95774C10.5535 3.15691 10.5121 3.35374 10.4335 3.53674C10.3549 3.71975 10.2406 3.88527 10.0974 4.02364L7.84736 6.27364C7.56607 6.55484 7.18461 6.71282 6.78686 6.71282C6.38912 6.71282 6.00766 6.55484 5.72636 6.27364C5.58491 6.13702 5.39546 6.06142 5.19881 6.06313C5.00217 6.06484 4.81406 6.14372 4.675 6.28277C4.53594 6.42183 4.45707 6.60994 4.45536 6.80658C4.45365 7.00323 4.52925 7.19268 4.66586 7.33414C5.22845 7.89655 5.99137 8.21249 6.78686 8.21249C7.58236 8.21249 8.34528 7.89655 8.90786 7.33414L11.1579 5.08414C11.7043 4.51833 12.0067 3.76052 11.9999 2.97393C11.9931 2.18734 11.6775 1.4349 11.1213 0.87868C10.5651 0.322456 9.81266 0.00694867 9.02607 0.000113408C8.23948 -0.00672185 7.48167 0.295661 6.91586 0.842135L5.79086 1.96714C5.71923 2.03632 5.6621 2.11908 5.62279 2.21058C5.58348 2.30209 5.56279 2.4005 5.56193 2.50008C5.56106 2.59967 5.58004 2.69843 5.61775 2.7906C5.65546 2.88277 5.71115 2.96651 5.78157 3.03693C5.85199 3.10735 5.93573 3.16304 6.0279 3.20075C6.12007 3.23846 6.21883 3.25744 6.31841 3.25657C6.418 3.25571 6.51641 3.23502 6.60792 3.19571C6.69942 3.15641 6.78218 3.09927 6.85136 3.02764L7.97636 1.90264ZM4.22636 5.65264C4.50766 5.37143 4.88912 5.21346 5.28686 5.21346C5.68461 5.21346 6.06607 5.37143 6.34736 5.65264C6.41655 5.72427 6.49931 5.7814 6.59081 5.82071C6.68231 5.86002 6.78073 5.88071 6.88031 5.88157C6.9799 5.88244 7.07866 5.86346 7.17083 5.82575C7.263 5.78804 7.34674 5.73235 7.41716 5.66193C7.48758 5.59151 7.54327 5.50777 7.58098 5.4156C7.61869 5.32343 7.63767 5.22467 7.6368 5.12508C7.63594 5.0255 7.61525 4.92709 7.57594 4.83558C7.53663 4.74408 7.4795 4.66132 7.40786 4.59214C6.84528 4.02972 6.08236 3.71378 5.28686 3.71378C4.49137 3.71378 3.72845 4.02972 3.16586 4.59214L0.915865 6.84214C0.629334 7.11888 0.400787 7.44991 0.24356 7.81592C0.0863335 8.18193 0.00357472 8.57559 0.00011327 8.97393C-0.00334818 9.37227 0.0725569 9.76731 0.2234 10.136C0.374242 10.5047 0.597002 10.8396 0.87868 11.1213C1.16036 11.403 1.49531 11.6258 1.864 11.7766C2.23269 11.9274 2.62773 12.0033 3.02607 11.9999C3.42441 11.9964 3.81807 11.9137 4.18408 11.7564C4.55009 11.5992 4.88112 11.3707 5.15786 11.0841L6.28286 9.95914C6.3545 9.88995 6.41163 9.80719 6.45094 9.71569C6.49025 9.62419 6.51094 9.52577 6.5118 9.42619C6.51267 9.3266 6.49369 9.22784 6.45598 9.13567C6.41827 9.0435 6.36258 8.95976 6.29216 8.88934C6.22174 8.81892 6.138 8.76323 6.04583 8.72552C5.95366 8.68781 5.8549 8.66883 5.75531 8.6697C5.65573 8.67056 5.55731 8.69125 5.46581 8.73056C5.37431 8.76987 5.29155 8.827 5.22236 8.89864L4.09736 10.0236C3.95899 10.1669 3.79348 10.2812 3.61047 10.3598C3.42747 10.4384 3.23064 10.4798 3.03147 10.4815C2.8323 10.4832 2.63478 10.4453 2.45043 10.3699C2.26609 10.2944 2.09861 10.1831 1.95777 10.0422C1.81693 9.90139 1.70555 9.73391 1.63013 9.54957C1.55471 9.36522 1.51676 9.1677 1.51849 8.96853C1.52022 8.76936 1.5616 8.57254 1.64021 8.38953C1.71883 8.20652 1.8331 8.04101 1.97636 7.90264L4.22636 5.65264Z",fill:"#718096"})}),this.props.data.tab_title]})})]}),(0,h.jsx)("div",{className:"pv-avatar-group",children:this.props.data.id&&(0,h.jsx)(a.Suspense,{fallback:(0,h.jsx)(G.Z,{}),children:(0,h.jsx)(X,{tab_id:this.props.data.id,parent_tab_id:this.props.tab_id,inForm:!0,avatarGroup:!0})})})]})}),t.id&&(0,h.jsx)(J,{tab_id:t.id,path:"task",taskMod:!0})]})]})]})})}}]),n}(a.Component),Q=n(94803),ee=n.n(Q),te=n(19968);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e){return e.tableData.map((function(t,n){var r=-1!==e.checkedBoxes.data.indexOf(t.id);return(0,h.jsxs)("div",{className:"pv-accordion-table-list "+(e.dashboard?"pv-mt-15 pv-mb-15":""),children:[!e.dashboard&&(0,h.jsx)("div",{className:"pv-checkbox",style:{display:"none"},children:(0,h.jsx)("input",{type:"checkbox",value:t.id,checked:r,onChange:function(n){return e.checkedBoxes.handle(n,"single",t.id)}})}),(0,h.jsxs)("ul",{style:{padding:e.dashboard?"16px 10px 9px 0px":""},children:[(0,h.jsxs)("li",{style:{width:"45%"},className:"pv-cursor-pointer",onClick:function(){return e.editEntry("edit",t)},children:[(0,h.jsxs)("div",{className:"pv-task-type "+(e.dashboard?"pv-mt-10":""),children:[t.type_id.icon&&(0,h.jsx)("img",{src:t.type_id.icon.src}),!t.type_id.icon&&(0,h.jsx)("img",{src:ndpv.assetImgUri+"task-type/task.png",alt:""})]}),(0,h.jsxs)("div",{className:"pv-task-type-text",children:[(0,h.jsx)("h4",{children:t.title}),(0,h.jsxs)("p",{children:[(t.start_date||t.due_date)&&(0,h.jsxs)("span",{style:{marginRight:10},children:[(0,h.jsxs)("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",children:[(0,h.jsx)("path",{d:"M6 10.5C8.48528 10.5 10.5 8.48528 10.5 6C10.5 3.51472 8.48528 1.5 6 1.5C3.51472 1.5 1.5 3.51472 1.5 6C1.5 8.48528 3.51472 10.5 6 10.5Z",stroke:"#718096",strokeMiterlimit:10}),(0,h.jsx)("path",{d:"M6 3.375V6H8.625",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})]}),t.start_date&&(0,h.jsx)(ee(),{format:"YYYY-MM-DD",children:t.start_date}),t.start_date&&t.due_date&&" - ",t.due_date&&(0,h.jsx)(ee(),{format:"YYYY-MM-DD",children:t.due_date})]}),e.source&&t.tab_title&&(0,h.jsxs)(W.rU,{to:"/"+t.tab_url,children:[(0,h.jsx)("svg",{style:{top:1},width:10,height:10,viewBox:"0 0 12 12",children:(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.97636 1.90264C8.11473 1.75937 8.28025 1.6451 8.46326 1.56648C8.64626 1.48787 8.84309 1.44649 9.04226 1.44476C9.24143 1.44303 9.43895 1.48098 9.62329 1.5564C9.80764 1.63182 9.97512 1.7432 10.116 1.88404C10.2568 2.02488 10.3682 2.19236 10.4436 2.3767C10.519 2.56105 10.557 2.75857 10.5552 2.95774C10.5535 3.15691 10.5121 3.35374 10.4335 3.53674C10.3549 3.71975 10.2406 3.88527 10.0974 4.02364L7.84736 6.27364C7.56607 6.55484 7.18461 6.71282 6.78686 6.71282C6.38912 6.71282 6.00766 6.55484 5.72636 6.27364C5.58491 6.13702 5.39546 6.06142 5.19881 6.06313C5.00217 6.06484 4.81406 6.14372 4.675 6.28277C4.53594 6.42183 4.45707 6.60994 4.45536 6.80658C4.45365 7.00323 4.52925 7.19268 4.66586 7.33414C5.22845 7.89655 5.99137 8.21249 6.78686 8.21249C7.58236 8.21249 8.34528 7.89655 8.90786 7.33414L11.1579 5.08414C11.7043 4.51833 12.0067 3.76052 11.9999 2.97393C11.9931 2.18734 11.6775 1.4349 11.1213 0.87868C10.5651 0.322456 9.81266 0.00694867 9.02607 0.000113408C8.23948 -0.00672185 7.48167 0.295661 6.91586 0.842135L5.79086 1.96714C5.71923 2.03632 5.6621 2.11908 5.62279 2.21058C5.58348 2.30209 5.56279 2.4005 5.56193 2.50008C5.56106 2.59967 5.58004 2.69843 5.61775 2.7906C5.65546 2.88277 5.71115 2.96651 5.78157 3.03693C5.85199 3.10735 5.93573 3.16304 6.0279 3.20075C6.12007 3.23846 6.21883 3.25744 6.31841 3.25657C6.418 3.25571 6.51641 3.23502 6.60792 3.19571C6.69942 3.15641 6.78218 3.09927 6.85136 3.02764L7.97636 1.90264ZM4.22636 5.65264C4.50766 5.37143 4.88912 5.21346 5.28686 5.21346C5.68461 5.21346 6.06607 5.37143 6.34736 5.65264C6.41655 5.72427 6.49931 5.7814 6.59081 5.82071C6.68231 5.86002 6.78073 5.88071 6.88031 5.88157C6.9799 5.88244 7.07866 5.86346 7.17083 5.82575C7.263 5.78804 7.34674 5.73235 7.41716 5.66193C7.48758 5.59151 7.54327 5.50777 7.58098 5.4156C7.61869 5.32343 7.63767 5.22467 7.6368 5.12508C7.63594 5.0255 7.61525 4.92709 7.57594 4.83558C7.53663 4.74408 7.4795 4.66132 7.40786 4.59214C6.84528 4.02972 6.08236 3.71378 5.28686 3.71378C4.49137 3.71378 3.72845 4.02972 3.16586 4.59214L0.915865 6.84214C0.629334 7.11888 0.400787 7.44991 0.24356 7.81592C0.0863335 8.18193 0.00357472 8.57559 0.00011327 8.97393C-0.00334818 9.37227 0.0725569 9.76731 0.2234 10.136C0.374242 10.5047 0.597002 10.8396 0.87868 11.1213C1.16036 11.403 1.49531 11.6258 1.864 11.7766C2.23269 11.9274 2.62773 12.0033 3.02607 11.9999C3.42441 11.9964 3.81807 11.9137 4.18408 11.7564C4.55009 11.5992 4.88112 11.3707 5.15786 11.0841L6.28286 9.95914C6.3545 9.88995 6.41163 9.80719 6.45094 9.71569C6.49025 9.62419 6.51094 9.52577 6.5118 9.42619C6.51267 9.3266 6.49369 9.22784 6.45598 9.13567C6.41827 9.0435 6.36258 8.95976 6.29216 8.88934C6.22174 8.81892 6.138 8.76323 6.04583 8.72552C5.95366 8.68781 5.8549 8.66883 5.75531 8.6697C5.65573 8.67056 5.55731 8.69125 5.46581 8.73056C5.37431 8.76987 5.29155 8.827 5.22236 8.89864L4.09736 10.0236C3.95899 10.1669 3.79348 10.2812 3.61047 10.3598C3.42747 10.4384 3.23064 10.4798 3.03147 10.4815C2.8323 10.4832 2.63478 10.4453 2.45043 10.3699C2.26609 10.2944 2.09861 10.1831 1.95777 10.0422C1.81693 9.90139 1.70555 9.73391 1.63013 9.54957C1.55471 9.36522 1.51676 9.1677 1.51849 8.96853C1.52022 8.76936 1.5616 8.57254 1.64021 8.38953C1.71883 8.20652 1.8331 8.04101 1.97636 7.90264L4.22636 5.65264Z",fill:"#718096"})}),t.tab_title]})]})]})]}),(0,h.jsx)("li",{style:{width:"20%"},children:(0,h.jsx)(D.Z,{onDone:e.reload,id:t.id,data:t.status_id,list:e.taxonomies.status,taxonomy:"task_status",title:ndpv.i18n.status,small:!0,color:!0},t.id)}),(0,h.jsx)("li",{style:{width:"20%"},children:(0,h.jsx)(D.Z,{id:t.id,data:t.priority_id,list:e.taxonomies.priorities,taxonomy:"task_priority",title:ndpv.i18n.prior,small:!0,color:!0},t.id)}),(0,h.jsx)("li",{children:(0,h.jsx)(te.Z,{row:t,editEntry:e.editEntry,deleteEntry:e.deleteEntry})})]})]},n)}))};const ie=function(e){return(0,h.jsx)(h.Fragment,{children:e.tableData.length>0&&(0,h.jsx)("div",{className:"pv-table-wrap pv-p-m",children:(0,h.jsx)("div",{className:"pv-accordion-table-list-area",children:(0,h.jsx)(ae,re({},e))})})})};const se=(0,n(2730).Z)((function(e){(0,a.useEffect)((function(){e.getLists()}),[]);var t,n,o=(0,a.useState)(null),c=(0,r.Z)(o,2),d=c[0],u=c[1],p=(0,a.useState)({status:[],types:[],priorities:[]}),f=(0,r.Z)(p,2),v=f[0],g=f[1],x=e.state,y=x.lists,j=x.checkedBoxes,b=x.searchVal,C=!1;y.hasOwnProperty("today")&&(y.today.length>0&&(t=!0),!y.today.length&&y.other.length>0&&(n=!0),!y.today.length&&!y.other.length&&y.unschedule.length>0&&(C=!0));var k=function(){e.getLists({status_id:d})},w=function(e,t){confirm(ndpv.i18n.aConf)&&l.Z.del("tasks",t).then((function(e){e.data.success?(s.Am.success(ndpv.i18n.aDel),k()):e.data.data.forEach((function(e){s.Am.error(e)}))}))},_=ndpv.i18n;return(0,h.jsxs)("div",{className:"",children:[(0,h.jsx)(m,{handleSubmit:function(t,n){e.handleSubmit(t,n),v.status.length&&u(v.status[0].id)},setTaxonomies:g,tab_id:e.tab_id}),e.state.formModal&&(0,h.jsx)($,{activeTab:d,tab_id:e.tab_id,reload:e.getLists,taxonomies:v,handleSubmit:e.handleSubmit,modalType:e.state.formModalType,data:e.state.list,close:e.closeForm},d),!e.dashboard&&(0,h.jsxs)("div",{className:"pv-small-button-group",children:[(0,h.jsx)("h3",{className:"pv-title-small",children:_.myw}),y.task_status&&y.task_status.map((function(t,n){return(0,h.jsx)("button",{className:"pv-btn pv-btn-small pv-bg-stroke pv-bg-hover-shadow "+(d==t.id||!d&&0==n?"pv-active":""),onClick:function(){u(t.id),e.getLists({status_id:t.id})},children:t.label},n)}))]}),e.state.preloader?(0,h.jsx)(i.Z,{}):(0,h.jsxs)(h.Fragment,{children:[e.dashboard&&(0,h.jsx)("div",{style:{marginTop:"15px"}}),e.dashboard&&(0,h.jsx)(ie,{dashboard:!0,source:e.source,reload:k,tableData:y.latest,taxonomies:v,searchVal:b,editEntry:e.openForm,checkedBoxes:{data:j,handle:e.handleCheckbox},handleSubmit:e.handleSubmit,deleteEntry:w}),!e.dashboard&&(0,h.jsxs)("div",{className:"pv-accordion",children:[y.today.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{type:"radio",name:"pv-accordion",defaultChecked:t,id:"pv-task-today"}),(0,h.jsxs)("section",{className:"pv-accordion-table",children:[(0,h.jsxs)("label",{className:"pv-accordion-title",htmlFor:"pv-task-today",children:[(0,h.jsx)("span",{className:"pv-down-angle",children:(0,h.jsx)("svg",{width:11,height:7,viewBox:"0 0 11 7",fill:"none",children:(0,h.jsx)("path",{d:"M9.72339 1.53915L5.72339 5.53915L1.72339 1.53915",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,h.jsx)("b",{children:_.today})]}),(0,h.jsx)("label",{className:"pv-table-close",htmlFor:"pv-acc-close"}),(0,h.jsx)("div",{className:"pv-accordion-content",children:(0,h.jsx)(ie,{source:e.source,reload:k,tableData:y.today,taxonomies:v,searchVal:b,editEntry:e.openForm,checkedBoxes:{data:j,handle:e.handleCheckbox},handleSubmit:e.handleSubmit,deleteEntry:w})})]})]}),y.other.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{type:"radio",name:"pv-accordion",defaultChecked:n,id:"pv-task-other"}),(0,h.jsxs)("section",{className:"pv-accordion-table",children:[(0,h.jsxs)("label",{className:"pv-accordion-title",htmlFor:"pv-task-other",children:[(0,h.jsx)("span",{className:"pv-down-angle",children:(0,h.jsx)("svg",{width:11,height:7,viewBox:"0 0 11 7",fill:"none",children:(0,h.jsx)("path",{d:"M9.72339 1.53915L5.72339 5.53915L1.72339 1.53915",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,h.jsx)("b",{children:_.othrday})]}),(0,h.jsx)("label",{className:"pv-table-close",htmlFor:"pv-acc-close"}),(0,h.jsx)("div",{className:"pv-accordion-content",children:(0,h.jsx)(ie,{source:e.source,reload:k,tableData:y.other,taxonomies:v,searchVal:b,editEntry:e.openForm,checkedBoxes:{data:j,handle:e.handleCheckbox},deleteEntry:w})})]})]}),y.unschedule.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{type:"radio",name:"pv-accordion",defaultChecked:C,id:"pv-task-unschedule"}),(0,h.jsxs)("section",{className:"pv-accordion-table",children:[(0,h.jsxs)("label",{className:"pv-accordion-title",htmlFor:"pv-task-unschedule",children:[(0,h.jsx)("span",{className:"pv-down-angle",children:(0,h.jsx)("svg",{width:11,height:7,viewBox:"0 0 11 7",fill:"none",children:(0,h.jsx)("path",{d:"M9.72339 1.53915L5.72339 5.53915L1.72339 1.53915",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,h.jsx)("b",{children:_.unskd})]}),(0,h.jsx)("label",{className:"pv-table-close",htmlFor:"pv-acc-close"}),(0,h.jsx)("div",{className:"pv-accordion-content",children:(0,h.jsx)(ie,{source:e.source,reload:k,tableData:y.unschedule,taxonomies:v,searchVal:b,editEntry:e.openForm,checkedBoxes:{data:j,handle:e.handleCheckbox},deleteEntry:w})})]})]}),(0,h.jsx)("input",{type:"radio",name:"pv-accordion",id:"pv-acc-close"})]})]})]})}),"task",ndpv.i18n.task)},2730:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(15861),a=n(93324),i=n(15671),s=n(43144),o=n(97326),c=n(60136),l=n(82963),d=n(61120),u=n(4942),h=n(64687),p=n.n(h),f=n(67294),v=n(72132),m=n(12754),g=n(9494),x=n(5274),y=n(20915),j=n(85893);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var a=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}const w=function(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";l||(l=t+"s");var d=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]?y.XE:y.JW)+l,h=function(t){(0,c.Z)(h,t);var l=k(h);function h(e){var t;return(0,i.Z)(this,h),t=l.call(this,e),(0,u.Z)((0,o.Z)(t),"getLists",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n={page:t.state.currentPage,per_page:t.state.perPage};t.props.tab_id&&(n.tab_id=t.props.tab_id),t.props.dashboard&&(n.dashboard=t.props.dashboard),t.props.module_id&&(n.module_id=t.props.module_id),e&&(e=Object.entries(e).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return i?(e[r]=i,e):e}),{}),n=C(C({},n),e));var r=new URLSearchParams(n).toString(),i=x.Z.get("".concat(d,"/?").concat(r),y.r);i.then((function(e){var n=e.data.data.result,r=e.data.data.total,a=!n.length,i={};e.data.data.hasOwnProperty("extra")&&(i=e.data.data.extra),t.setState({lists:n,extra:i,preloader:!1,empty:a,total:r,totalPage:Math.ceil(r/t.state.perPage)})}));return i})),(0,u.Z)((0,o.Z)(t),"handleSearch",(function(e){var n=e.target.value;t.setState({searchVal:n},(function(){t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.getLists({s:t.state.searchVal})}),300)}))})),(0,u.Z)((0,o.Z)(t),"showItem",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.target.value;t.setState({perPage:r},(function(){t.getLists(n)}))})),(0,u.Z)((0,o.Z)(t),"handleSubmit",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.state.formModalType;n&&(a=n),t.setState({submitPreloader:!0}),"new"==a?x.Z.post(d,e,y.r).then((function(e){e.data.success?(t.setState({formModal:!1,submitPreloader:!1}),v.Am.success(ndpv.i18n.aAdd),t.getLists(r)):(t.setState({submitPreloader:!1}),e.data.data.forEach((function(e){v.Am.error(e)})))})):x.Z.put("".concat(d,"/").concat(e.id),e,y.r).then((function(e){e.data.success?(t.setState({formModal:!1,submitPreloader:!1}),v.Am.success(ndpv.i18n.aUpd),t.getLists(r)):(t.setState({submitPreloader:!1}),e.data.data.forEach((function(e){v.Am.error(e)})))}))})),(0,u.Z)((0,o.Z)(t),"deleteEntry",function(){var e=(0,r.Z)(p().mark((function e(n,r){var a,i,s=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>2&&void 0!==s[2]?s[2]:null,a=s.length>3&&void 0!==s[3]?s[3]:null,!confirm(ndpv.i18n.aConf)){e.next=9;break}if("singleDrive"!=n){e.next=7;break}return e.next=6,(0,g._)(r[1]);case 6:r=r[0];case 7:i="single"==n||"singleDrive"==n?r:t.state.checkedBoxes.toString(),x.Z.delete("".concat(d,"/").concat(i),y.r).then((function(e){e.data.success?(v.Am.success(ndpv.i18n.aDel),"single"!=n&&t.setState({checkedBoxes:[]}),t.getLists(a)):e.data.data.forEach((function(e){v.Am.error(e)}))}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,u.Z)((0,o.Z)(t),"openForm",(function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"new"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new")?t.setState({formModal:!0,formModalType:"new"}):(e.hasOwnProperty("start_date")&&e.start_date&&(e.start_date=new Date(e.start_date)),e.hasOwnProperty("due_date")&&e.due_date&&(e.due_date=new Date(e.due_date)),t.setState({formModal:!0,formModalType:"edit",list:e}))})),(0,u.Z)((0,o.Z)(t),"closeForm",(function(){"new"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new")?t.setState({formModal:!1}):t.setState({searchModal:!1})})),(0,u.Z)((0,o.Z)(t),"handleCheckbox",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.state.checkedBoxes;if("single"==n)e.target.checked?(a.push(r),t.setState({checkedBoxes:a})):(a.splice(a.indexOf(r),1),t.setState({checkedBoxes:a}));else if(e.target.checked){var i=[];t.state.lists.map((function(e){i.push(e.id)})),t.setState({checkedBoxes:i})}else t.setState({checkedBoxes:[]})})),(0,u.Z)((0,o.Z)(t),"handlePageClick",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.selected+1,a=r*t.state.perPage;t.setState({currentPage:r,offset:a},(function(){t.getLists(n)}))})),t.state={title:n,empty:!1,submitPreloader:!1,preloader:!0,formModal:!1,searchModal:!1,formModalType:"new",list:{id:null},extra:{},lists:[],checkedBoxes:[],offset:0,perPage:10,total:1,totalPage:1,currentPage:1,searchVal:""},t.timeout=0,t}return(0,s.Z)(h,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this;return(0,j.jsx)(e,C(C({},this.props),{},{state:this.state,openForm:this.openForm,closeForm:this.closeForm,showItem:this.showItem,getLists:this.getLists,handleCheckbox:this.handleCheckbox,uncheckAll:function(){return t.setState({checkedBoxes:[]})},handleSubmit:this.handleSubmit,handleSearch:this.handleSearch,handlePageClick:this.handlePageClick,deleteEntry:this.deleteEntry}))}}]),h}(f.Component);return h.contextType=m.Z,h}},17061:(e,t,n)=>{var r=n(18698).default;function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=a=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},i=Object.prototype,s=i.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof j?t:j,i=Object.create(a.prototype),s=new E(r||[]);return o(i,"_invoke",{value:S(e,n,s)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var v="suspendedStart",m="suspendedYield",g="executing",x="completed",y={};function j(){}function b(){}function C(){}var k={};h(k,l,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(M([])));_&&_!==i&&s.call(_,l)&&(k=_);var Z=C.prototype=j.prototype=Object.create(k);function L(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,i,o,c){var l=f(e[a],e,i);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==r(u)&&s.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(u).then((function(e){d.value=e,o(d)}),(function(e){return n("throw",e,o,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}})}function S(e,n,r){var a=v;return function(i,s){if(a===g)throw new Error("Generator is already running");if(a===x){if("throw"===i)throw s;return{value:t,done:!0}}for(r.method=i,r.arg=s;;){var o=r.delegate;if(o){var c=N(o,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===v)throw a=x,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=g;var l=f(e,n,r);if("normal"===l.type){if(a=r.done?x:m,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=x,r.method="throw",r.arg=l.arg)}}}function N(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,N(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(s.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return b.prototype=C,o(Z,"constructor",{value:C,configurable:!0}),o(C,"constructor",{value:b,configurable:!0}),b.displayName=h(C,u,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,h(e,u,"GeneratorFunction")),e.prototype=Object.create(Z),e},n.awrap=function(e){return{__await:e}},L(O.prototype),h(O.prototype,d,(function(){return this})),n.AsyncIterator=O,n.async=function(e,t,r,a,i){void 0===i&&(i=Promise);var s=new O(p(e,t,r,a),i);return n.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},L(Z),h(Z,u,"Generator"),h(Z,l,(function(){return this})),h(Z,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=M,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return o.type="throw",o.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=s.call(i,"catchLoc"),l=s.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},n}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},18698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},64687:(e,t,n)=>{var r=n(17061)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},15861:(e,t,n)=>{"use strict";function r(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function o(e){r(s,a,i,o,c,"next",e)}function c(e){r(s,a,i,o,c,"throw",e)}o(void 0)}))}}n.d(t,{Z:()=>a})}}]);