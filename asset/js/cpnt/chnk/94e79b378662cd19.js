(self.webpackChunkpropovoice=self.webpackChunkpropovoice||[]).push([[2518],{96422:(e,t,n)=>{"use strict";n.d(t,{H:()=>u,W:()=>d});var r=n(64467),a=n(10467),o=n(54756),i=n.n(o),s=n(80595);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){(0,s.h)((function(){!function(e,t){var n={name:e.name,mimeType:"image/*"},r=new FormData;r.append("metadata",new Blob([JSON.stringify(n)],{type:"application/json"})),r.append("file",e),h("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",r,f,[t])}(e,t)}))}function d(e){return p.apply(this,arguments)}function p(){return(p=(0,a.A)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.h)((0,a.A)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.gapi.auth.getToken().access_token;case 2:return n=e.sent,e.next=5,fetch("https://www.googleapis.com/drive/v2/files/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(n),Accept:"application/json"}}).then((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n,r){var a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=window.gapi.auth.getToken().access_token,s=new XMLHttpRequest;s.open(e,t),s.setRequestHeader("Authorization","Bearer "+i),s.responseType="json",s.onload=function(e){o.push(e),r.apply(a,o)},s.send(n)}function f(e,t){var n=t.target.response.id;e((function(e){return l(l({},e),{},{url:"https://drive.google.com/uc?export=view&id=".concat(n)})})),console.log("File uploaded successfully");h("post","https://www.googleapis.com/drive/v3/files/".concat(n,"/permissions"),new Blob([JSON.stringify({role:"reader",type:"anyone"})],{type:"application/json"}),v,[n])}function v(e){console.log("The file id ".concat(e," is public now!!!"))}},80595:(e,t,n)=>{"use strict";n.d(t,{O:()=>u,h:()=>m});var r,a=n(10467),o=n(54756),i=n.n(o),s=n(67885),c=n(21241),l=function(e,t,n){var r=document.createElement("script");r.async=!0,r.defer=!0,r.src=t,r.id=e,r.onload=n,document.body.appendChild(r)},u=function(){var e=(0,a.A)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.A.get("settings","tab=google_api_oauth2").then((function(e){if(!e.data.success||""===e.data.data.client_id||""===e.data.data.api_key)throw c.oR.error("Please setup Google Client ID and Api key in Settings!"),new Error("Please setup Google Client ID and Api key in Settings!");localStorage.setItem("g_client_id",e.data.data.client_id),localStorage.setItem("g_api_key",e.data.data.api_key)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function d(){window.gapi.load("client:auth2",p)}function p(){return h.apply(this,arguments)}function h(){return(h=(0,a.A)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("g_api_key"),"https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest",e.next=4,window.gapi.client.init({apiKey:t,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]});case 4:!0;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){var e=localStorage.getItem("g_client_id");r=google.accounts.oauth2.initTokenClient({client_id:e,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file",callback:""}),!0}var v=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function m(e){return g.apply(this,arguments)}function g(){return g=(0,a.A)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return l("gapi","https://apis.google.com/js/api.js",d),l("gsi","https://accounts.google.com/gsi/client",f),e.next=6,v(500);case 6:if(r.callback=function(){var e=(0,a.A)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n.error){e.next=2;break}throw n;case 2:return e.next=4,t();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),null!==window.gapi.client.getToken()){e.next=12;break}return e.next=10,r.requestAccessToken({prompt:"consent"});case 10:e.next=14;break;case 12:return e.next=14,r.requestAccessToken({prompt:""});case 14:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}},21364:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(3453),a=n(96540),o=n(74717),i=n(65128),s=n(21241),c=n(67885),l=n(74848);const u=function(e){var t=(0,a.useRef)(),n=(0,a.useState)(!1),u=(0,r.A)(n,2),d=u[0],p=u[1],h=(0,a.useCallback)((function(){return p(!1)}),[]);(0,o.A)(t,h);var f=e.row,v=e.project,m=e.boardView,g=ndpv,y=g.i18n,b=g.caps.includes("ndpv_client_role"),w=!0;v&&b&&m&&(w=!1);return(0,l.jsxs)("div",{className:"pv-action-content",children:[(0,l.jsx)("button",{className:d?"pv-active":"",onClick:function(){return p((function(e){return!e}))},style:{padding:"0 5px"},children:(0,l.jsx)(i.ff,{})}),d&&(0,l.jsxs)("div",{className:"pv-dropdown-content pv-show",ref:t,children:[w&&e.handleOverview&&(0,l.jsx)("a",{onClick:function(){p(!1),e.handleOverview(f.id)},children:y.ov}),!b&&e.editEntry&&(0,l.jsx)("a",{onClick:function(){p(!1),e.editEntry("edit",f)},children:y.edit}),!b&&(0,l.jsx)("a",{onClick:function(){if(p(!1),f.file&&f.url){var t=new URL(f.url),n=new URLSearchParams(t.search).get("id");e.deleteEntry("singleDrive",[f.id,n])}else e.deleteEntry("single",f.id)},children:y.del}),e.resendPassword&&e.resendPassword.show&&(0,l.jsx)("a",{onClick:function(){var t,n,r;p(!1),t=f.id,n=e.resendPassword.from,r={id:t,from:n,type:"resend-password"},c.A.add("actions",r,"pro").then((function(e){e.data.success?s.oR.success("Password resent"):e.data.data.forEach((function(e){s.oR.error(e)}))}))},children:"Resend Password"})]})]})}},75267:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(49764),a=n.n(r),o=n(74848);const i=function(e){return(0,o.jsx)("div",{className:"pv-pagination-content",children:(0,o.jsx)(a(),{previousClassName:"pv-previous",nextClassName:"pv-next",disabledClassName:"pv-disabled",previousLabel:(0,o.jsx)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none",children:(0,o.jsx)("path",{d:"M7.5 12.833L1.667 7 7.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),nextLabel:(0,o.jsx)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none",children:(0,o.jsx)("path",{d:"M1.5 12.833L7.333 7 1.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),breakLabel:(0,o.jsx)("svg",{width:15,height:15,viewBox:"0 0 24 24",fill:"none",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12a2 2 0 10-4 0 2 2 0 004 0zM14 12a2 2 0 10-4 0 2 2 0 004 0zM21 12a2 2 0 10-4 0 2 2 0 004 0z",fill:"#718096"})}),breakClassName:"break",forcePage:e.forcePage,pageCount:e.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e.onPageChange,containerClassName:"pv-pagination",activeClassName:"pv-active"})})}},62518:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var r=n(96540),a=n(10366),o=n(75267),i=n(23029),s=n(92901),c=n(56822),l=n(53954),u=n(9417),d=n(85501),p=n(64467),h=n(19203),f=n(68735),v=n(80407),m=n(74848);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,p.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t=(0,l.A)(t),(0,c.A)(e,w()?Reflect.construct(t,n||[],(0,l.A)(e).constructor):t.apply(e,n))}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w=function(){return!!e})()}const x=function(e){function t(e){var n;return(0,i.A)(this,t),n=b(this,t,[e]),(0,p.A)((0,u.A)(n),"handleChange",(function(e){var t=e.target,r=t.name,a="checkbox"===t.type?t.checked:t.value;n.setState({form:y(y({},n.state.form),{},(0,p.A)({},r,a))})})),(0,p.A)((0,u.A)(n),"handleSubmit",(function(e){if(e.preventDefault(),wage.length>0)(0,f.A)();else{var t=e.nativeEvent.submitter,r=y({},n.state.form);r.attach_ids.length>0&&(r.attach_ids=r.attach_ids.map((function(e){return e.id}))),r.receiver_type=t&&"ndpv-client"===t.id?1:2,n.props.handleSubmit(r,"new"),n.setState({form:{id:null,tab_id:n.props.tab_id,text:"",receiver_type:null,attach_ids:[]}})}})),(0,p.A)((0,u.A)(n),"handleAttachChange",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=y({},n.state.form);if(t){var a=r.attach_ids.filter((function(t){return t.id!==e}));r.attach_ids=a}else r.attach_ids.push(e);n.setState({form:r})})),n.initState={id:null,tab_id:n.props.tab_id,text:"",receiver_type:null,attach_ids:[]},n.state={form:n.initState},n}return(0,d.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this,t=ndpv,n=t.i18n,r=t.caps,a=this.state.form.attach_ids,o=this.props.path,i=r.includes("ndpv_client_role"),s=this.props.taskMod;return(0,m.jsx)("div",{className:"pv-chat-history",style:{padding:20},children:(0,m.jsxs)("form",{onSubmit:this.handleSubmit,className:"pv-textarea",children:[(0,m.jsx)("textarea",{id:"field-text",type:"text",required:!0,name:"text",value:this.state.form.text,placeholder:s?n.write_comment:n.write_msg,onChange:this.handleChange,onKeyPress:function(t){"Enter"===t.key&&e.handleSubmit(t)},rows:2}),(0,m.jsxs)("div",{className:"pv-button-content",children:[(0,m.jsx)(h.A,{data:a,changeHandler:this.handleAttachChange,multiple:!0,clipOnly:!0},a),(0,m.jsxs)("div",{className:"pv-button",children:[!i&&"project"==o&&(0,m.jsx)("button",{type:"submit",id:"ndpv-team",className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-hover-shadow pv-mr-10",children:n.send_team}),"project"==o&&(0,m.jsx)("button",{type:"submit",id:"ndpv-client",className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-color-white pv-bg-shadow",children:i?n.send:n.reply_client}),!i&&"project"!=o&&(0,m.jsxs)("button",{type:"submit",id:"ndpv-team",className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-color-white pv-bg-shadow",children:[s?n.comment:n.send," ",(0,m.jsx)(v.A,{blueBtn:!0})]})]})]})]})})}}]),t}(r.Component);var j=n(65128);n(17604);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,p.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t=(0,l.A)(t),(0,c.A)(e,O()?Reflect.construct(t,n||[],(0,l.A)(e).constructor):t.apply(e,n))}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}var S=function(e){function t(e){var n;return(0,i.A)(this,t),n=A(this,t,[e]),(0,p.A)((0,u.A)(n),"handleChange",(function(e){var t=e.target,r=t.name,a=t.value;n.setState({form:_(_({},n.state.form),{},(0,p.A)({},r,a))})})),(0,p.A)((0,u.A)(n),"editData",(function(){"edit"==n.props.modalType?n.state.form.id!=n.props.data.id&&n.setState({form:n.props.data}):null!=n.state.form.id&&n.setState({form:n.initialState})})),(0,p.A)((0,u.A)(n),"handleSubmit",(function(e){e.preventDefault();var t=_({},n.state.form);n.props.handleSubmit(t),n.setState({form:n.initialState})})),n.initialState={id:null,tab_id:n.props.tab_id,text:""},n.state={form:n.initialState},n}return(0,d.A)(t,e),(0,s.A)(t,[{key:"componentDidMount",value:function(){this.editData()}},{key:"componentDidUpdate",value:function(){this.editData()}},{key:"render",value:function(){var e=this,t=this.state.form,n=ndpv.i18n,r=this.props.taskMod,a=r?n.edit_comment:n.edit_msg;return(0,m.jsx)("div",{className:"pv-overlay pv-show",children:(0,m.jsxs)("div",{className:"pv-modal-content",children:[(0,m.jsxs)("div",{className:"pv-modal-header pv-gradient",children:[(0,m.jsx)("span",{className:"pv-close",onClick:function(){return e.props.close()},children:(0,m.jsx)(j.OM,{})}),(0,m.jsxs)("h2",{className:"pv-modal-title",children:[a," "]})]}),(0,m.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,m.jsx)("div",{className:"pv-content",children:(0,m.jsx)("div",{className:"pv-form-style-one",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{htmlFor:"form-text",children:r?n.comment:n.msg}),(0,m.jsx)("textarea",{id:"form-text",required:!0,name:"text",value:t.text,onChange:this.handleChange})]})})})}),(0,m.jsx)("div",{className:"pv-modal-footer",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col",children:(0,m.jsx)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:function(){return e.props.close()},children:n.cancel})}),(0,m.jsx)("div",{className:"col",children:(0,m.jsx)("button",{type:"submit",className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-btn-big pv-float-right pv-color-white",children:n.upd})})]})})]})]})})}}]),t}(r.Component);const P=S;var E=n(21364),L=n(51945),N=function(e){var t=(0,r.useRef)(null);(0,r.useEffect)((function(){t.current.scrollTop=t.current.scrollHeight}),[e.tableData]);var n=ndpv.caps.includes("ndpv_client_role"),a=e.tableData.map((function(t,a){return(0,m.jsxs)("li",{children:[t.date_format&&(0,m.jsx)("p",{children:(0,m.jsx)("span",{className:"pv-message-data-time",children:t.date_format})}),(0,m.jsxs)("div",{className:"pv-message-data",children:[(0,m.jsxs)("div",{className:"pv-time-content",children:[(0,m.jsx)("span",{className:"pv-time",children:t.date_ago}),t.canEdit&&(0,m.jsx)(E.A,{row:t,editEntry:e.editEntry,deleteEntry:e.deleteEntry})]}),(0,m.jsx)("img",{src:ndpv.assetImgUri+"avatar.png",alt:"avatar"}),(0,m.jsxs)("div",{className:"pv-about",children:[(0,m.jsxs)("div",{className:"pv-name",children:[t.name,(0,m.jsx)("span",{className:"pv-badge pv-ml",style:{background:"ndpv_client_role"==t.role?"#39D68A":"#25A8FF",marginLeft:5},children:t.role_title})]}),(0,m.jsx)("div",{className:"pv-message",style:(o=t.role,i=!1,n||"ndpv_client_role"==o||(i=!0),n&&"ndpv_client_role"==o&&(i=!0),i?{background:"transparent",padding:0}:{}),children:t.text}),(0,m.jsx)("div",{className:"pv-msg-attach",children:(0,m.jsx)("ul",{children:t.attachs.map((function(e,t){return(0,m.jsxs)(r.Fragment,{children:["pdf"==e.type&&(0,m.jsx)("li",{className:"pv-attach-pdf",children:(0,m.jsxs)("a",{href:e.url,target:"_blank",children:[(0,m.jsx)("span",{className:"pv-pdf-icon",children:(0,m.jsxs)("svg",{width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("path",{d:"M8.023 4.102a.958.958 0 01-.957-.957V0H2.172C1.342 0 .668.675.668 1.504v10.992c0 .83.675 1.504 1.504 1.504h7.656c.83 0 1.504-.675 1.504-1.504V4.102H8.023zM2.91 9.844H4.9a.41.41 0 010 .82H2.91a.41.41 0 010-.82zM2.5 8.066a.41.41 0 01.41-.41h6.016a.41.41 0 010 .82H2.91a.41.41 0 01-.41-.41zM8.926 5.47a.41.41 0 010 .82H2.91a.41.41 0 010-.82h6.016z",fill:"#718096"}),(0,m.jsx)("path",{d:"M7.887 3.144c0 .076.061.137.136.137h3.126a1.499 1.499 0 00-.287-.375L8.225.41A1.508 1.508 0 007.887.17v2.974z",fill:"#718096"})]})}),(0,m.jsx)("span",{className:"pv-pdf-name",children:e.name}),(0,m.jsx)("span",{className:"pv-download-pdf",children:(0,m.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M1 10v1.5A1.5 1.5 0 002.5 13h9a1.5 1.5 0 001.5-1.5V10m-3-3l-3 3m0 0L4 7m3 3V1",stroke:"#718096",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),"pdf"!=e.type&&(0,m.jsx)("li",{children:(0,m.jsx)("div",{style:{width:100,display:"inline-block"},children:(0,m.jsx)(L.A,{small:e.url,large:e.url})})})]},t)}))})})]})]})]},a);var o,i})),o=e.taskMod;return(0,m.jsx)("div",{ref:t,className:"pv-chat-history",style:o?{}:{maxHeight:450,overflowY:"auto",padding:30,paddingBottom:0},children:(0,m.jsx)("ul",{children:a})})};const C=function(e){var t=e.tableData,n=e.editEntry,r=e.checkedBoxes,a=e.deleteEntry,o=e.taskMod,i=e.scrollBottom;return(0,m.jsx)(m.Fragment,{children:t.length>0&&(0,m.jsx)(N,{tableData:t,editEntry:n,checkedBoxes:r,deleteEntry:a,taskMod:o,scrollBottom:i})})};const M=(0,n(40469).A)((function(e){var t=(0,r.useRef)(null),n=e.state,i=n.lists,s=n.checkedBoxes,c=n.searchVal;(0,r.useEffect)((function(){if(!wage.length){e.getLists(),t.current.scrollTop=t.current.scrollHeight;var n=setInterval((function(){e.getLists()}),15e3);return function(){return clearInterval(n)}}}),[]),(0,r.useEffect)((function(){t.current.scrollTop=t.current.scrollHeight}),[i]);var l=e.taskMod,u={};return l&&(u={marginTop:"15px",background:"#fff",padding:"20px",flex:"1",overflow:"auto"}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{ref:t,style:u,children:[e.state.formModal&&(0,m.jsx)(P,{tab_id:e.tab_id,handleSubmit:e.handleSubmit,modalType:e.state.formModalType,data:e.state.list,close:e.closeForm,taskMod:l}),l&&(wage.length>0||!e.state.preloader&&!(i.length>0))&&(0,m.jsx)("p",{style:{color:"#718096"},children:ndpv.i18n.no_comment}),!wage.length&&(0,m.jsx)(m.Fragment,{children:e.state.preloader?(0,m.jsx)(a.A,{}):(0,m.jsx)(C,{tableData:i,searchVal:c,editEntry:e.openForm,checkedBoxes:{data:s,handle:e.handleCheckbox},deleteEntry:e.deleteEntry,taskMod:l})}),(0,m.jsx)("div",{className:"pv-pagination-content-two",children:e.state.totalPage>1&&(0,m.jsx)(o.A,{forcePage:e.state.currentPage-1,pageCount:e.state.totalPage,onPageChange:e.handlePageClick})})]}),(0,m.jsx)(x,{handleSubmit:function(t,n){e.handleSubmit(t,n)},tab_id:e.tab_id,path:e.path,taskMod:l})]})}),"message","Messages","",!0)},40469:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(10467),a=n(3453),o=n(23029),i=n(92901),s=n(56822),c=n(53954),l=n(9417),u=n(85501),d=n(64467),p=n(54756),h=n.n(p),f=n(96540),v=n(21241),m=n(9127),g=n(96422),y=n(57536),b=n(90285),w=n(74848);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,d.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t=(0,c.A)(t),(0,s.A)(e,_()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}const A=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";s||(s=t+"s");var c=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]?b.BB:b.y0)+s,p=function(t){function s(e){var t;return(0,o.A)(this,s),t=k(this,s,[e]),(0,d.A)((0,l.A)(t),"getLists",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n={page:t.state.currentPage,per_page:t.state.perPage};t.props.tab_id&&(n.tab_id=t.props.tab_id),t.props.dashboard&&(n.dashboard=t.props.dashboard),t.props.module_id&&(n.module_id=t.props.module_id),e&&(e=Object.entries(e).reduce((function(e,t){var n=(0,a.A)(t,2),r=n[0],o=n[1];return o?(e[r]=o,e):e}),{}),n=j(j({},n),e));var r=new URLSearchParams(n).toString(),o=y.A.get("".concat(c,"/?").concat(r),b.Sh);o.then((function(e){var n=e.data.data.result,r=e.data.data.total,a=!n.length,o={};e.data.data.hasOwnProperty("extra")&&(o=e.data.data.extra),t.setState({lists:n,extra:o,preloader:!1,empty:a,total:r,totalPage:Math.ceil(r/t.state.perPage)})}));return o})),(0,d.A)((0,l.A)(t),"handleSearch",(function(e){var n=e.target.value;t.setState({searchVal:n},(function(){t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.getLists({s:t.state.searchVal})}),300)}))})),(0,d.A)((0,l.A)(t),"showItem",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.target.value;t.setState({perPage:r},(function(){t.getLists(n)}))})),(0,d.A)((0,l.A)(t),"handleSubmit",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.state.formModalType;n&&(a=n),t.setState({submitPreloader:!0}),"new"==a?y.A.post(c,e,b.Sh).then((function(e){e.data.success?(t.setState({formModal:!1,submitPreloader:!1}),v.oR.success(ndpv.i18n.aAdd),t.getLists(r)):(t.setState({submitPreloader:!1}),e.data.data.forEach((function(e){v.oR.error(e)})))})):y.A.put("".concat(c,"/").concat(e.id),e,b.Sh).then((function(e){e.data.success?(t.setState({formModal:!1,submitPreloader:!1}),v.oR.success(ndpv.i18n.aUpd),t.getLists(r)):(t.setState({submitPreloader:!1}),e.data.data.forEach((function(e){v.oR.error(e)})))}))})),(0,d.A)((0,l.A)(t),"deleteEntry",function(){var e=(0,r.A)(h().mark((function e(n,r){var a,o,i=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length>2&&void 0!==i[2]?i[2]:null,a=i.length>3&&void 0!==i[3]?i[3]:null,!confirm(ndpv.i18n.aConf)){e.next=9;break}if("singleDrive"!=n){e.next=7;break}return e.next=6,(0,g.W)(r[1]);case 6:r=r[0];case 7:o="single"==n||"singleDrive"==n?r:t.state.checkedBoxes.toString(),y.A.delete("".concat(c,"/").concat(o),b.Sh).then((function(e){e.data.success?(v.oR.success(ndpv.i18n.aDel),"single"!=n&&t.setState({checkedBoxes:[]}),t.getLists(a)):e.data.data.forEach((function(e){v.oR.error(e)}))}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,d.A)((0,l.A)(t),"openForm",(function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"new"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new")?t.setState({formModal:!0,formModalType:"new"}):(e.hasOwnProperty("start_date")&&e.start_date&&(e.start_date=new Date(e.start_date)),e.hasOwnProperty("due_date")&&e.due_date&&(e.due_date=new Date(e.due_date)),t.setState({formModal:!0,formModalType:"edit",list:e}))})),(0,d.A)((0,l.A)(t),"closeForm",(function(){"new"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new")?t.setState({formModal:!1}):t.setState({searchModal:!1})})),(0,d.A)((0,l.A)(t),"handleCheckbox",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.state.checkedBoxes;if("single"==n)e.target.checked?(a.push(r),t.setState({checkedBoxes:a})):(a.splice(a.indexOf(r),1),t.setState({checkedBoxes:a}));else if(e.target.checked){var o=[];t.state.lists.map((function(e){o.push(e.id)})),t.setState({checkedBoxes:o})}else t.setState({checkedBoxes:[]})})),(0,d.A)((0,l.A)(t),"handlePageClick",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.selected+1,a=r*t.state.perPage;t.setState({currentPage:r,offset:a},(function(){t.getLists(n)}))})),t.state={title:n,empty:!1,submitPreloader:!1,preloader:!0,formModal:!1,searchModal:!1,formModalType:"new",list:{id:null},extra:{},lists:[],checkedBoxes:[],offset:0,perPage:10,total:1,totalPage:1,currentPage:1,searchVal:""},t.timeout=0,t}return(0,u.A)(s,t),(0,i.A)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this;return(0,w.jsx)(e,j(j({},this.props),{},{state:this.state,openForm:this.openForm,closeForm:this.closeForm,showItem:this.showItem,getLists:this.getLists,handleCheckbox:this.handleCheckbox,uncheckAll:function(){return t.setState({checkedBoxes:[]})},handleSubmit:this.handleSubmit,handleSearch:this.handleSearch,handlePageClick:this.handlePageClick,deleteEntry:this.deleteEntry}))}}]),s}(f.Component);return p.contextType=m.A,p}},4633:(e,t,n)=>{var r=n(73738).default;function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=a=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,i=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var a=t&&t.prototype instanceof w?t:w,o=Object.create(a.prototype),i=new M(r||[]);return s(o,"_invoke",{value:E(e,n,i)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=h;var v="suspendedStart",m="suspendedYield",g="executing",y="completed",b={};function w(){}function x(){}function j(){}var k={};p(k,l,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(D([])));A&&A!==o&&i.call(A,l)&&(k=A);var O=j.prototype=w.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,c){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var a;s(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}})}function E(e,n,r){var a=v;return function(o,i){if(a===g)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===v)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=g;var l=f(e,n,r);if("normal"===l.type){if(a=r.done?y:m,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=y,r.method="throw",r.arg=l.arg)}}}function L(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(i.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(r(e)+" is not iterable")}return x.prototype=j,s(O,"constructor",{value:j,configurable:!0}),s(j,"constructor",{value:x,configurable:!0}),x.displayName=p(j,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,p(e,d,"GeneratorFunction")),e.prototype=Object.create(O),e},n.awrap=function(e){return{__await:e}},S(P.prototype),p(P.prototype,u,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,r,a,o){void 0===o&&(o=Promise);var i=new P(h(e,t,r,a),o);return n.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),p(O,d,"Generator"),p(O,l,(function(){return this})),p(O,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},73738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},54756:(e,t,n)=>{var r=n(4633)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},10467:(e,t,n)=>{"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,c,"next",e)}function c(e){r(i,a,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,{A:()=>a})}}]);