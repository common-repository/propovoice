"use strict";(globalThis.webpackChunkpropovoice=globalThis.webpackChunkpropovoice||[]).push([[162],{60235:(e,t,a)=>{a.d(t,{BB:()=>l,Sh:()=>i,y0:()=>n});const n=`${ndpv.apiUrl}ndpv/v1/`,l=`${ndpv.apiUrl}ndpvp/v1/`,i={headers:{"content-type":"application/json","X-WP-NONCE":ndpv.nonce,"Cache-Control":"no-cache"}}},74263:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(57536),l=a(60235);const i=l.y0+"media",s={...l.Sh,"Content-Type":"multipart/form-data","Cache-Control":"no-cache"},r={getAll:(e="")=>n.A.get(`${i}/?${e}`,l.Sh),getAttachment:e=>n.A.get(`${i}/attachment/${e}`,l.Sh),getDefaultAttachment:e=>n.A.get(`${i}/attachment/${e}/default/get`,l.Sh),setDefaultAttachment:(e,t)=>n.A.get(`${i}/attachment/${e}/default/set/${t}`,l.Sh),get:e=>n.A.get(`${i}/${e}`,l.Sh),create:e=>n.A.post(i,e,{headers:s}),update:(e,t)=>n.A.put(`${i}/${e}`,t,{headers:s}),remove:e=>n.A.delete(`${i}/${e}`,l.Sh),findByArg:e=>n.A.get(`${i}?title=${e}`,l.Sh)}},46129:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(51609),l=a(56303),i=a(7834),s=a(36478),r=a(53417);const o=e=>{const{nameLabel:t=ndpv.i18n.name}=e,a=(0,n.useRef)(),o=(0,n.useRef)(),{form:c,setForm:m,setErrorFields:d}=(0,n.useContext)(s.cK),[p,h]=(0,n.useState)([]),[v,u]=(0,n.useState)([]),[g,E]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),y=(0,n.useCallback)((()=>E(!1)),[]);(0,i.A)(a,y);const C=(0,n.useCallback)((()=>b(!1)),[]);(0,i.A)(o,C);let w=0;(0,n.useEffect)((()=>{}),[]);const N=t=>{const{name:a,value:n}=t.target;if(n.length<1)return E(!1),h([]),void("first_name"==a?e.onChange("","person"):e.onChange("","org"));"first_name"==a?e.onChange(n,"person"):e.onChange(n,"org"),w&&clearTimeout(w),w=setTimeout((()=>{"first_name"==a?l.A.get("persons","first_name="+n).then((e=>{let t=e.data.data.result;E(!0),h(t)})):l.A.get("organizations","name="+n).then((e=>{let t=e.data.data.result;b(!0),u(t)}))}),300)},x=(t,a,n)=>{t.preventDefault(),e.onSelect(a,n),"person"==n?(E(!1),h([])):(b(!1),u([]))},S=ndpv.i18n,_=(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{style:{position:"relative"},className:"col-lg"},(0,n.createElement)(r.EY,{id:"first_name",wrapperClassName:"",label:t,type:"text",name:"first_name",autoComplete:"off",disabled:e.fromClient,value:e.first_name,onChange:N,validation:{required:{value:!0,message:"Name field is required"}}}),(0,n.createElement)("div",{style:{position:"absolute",bottom:0,left:"15px",zIndex:9999},className:"pv-field-search",ref:a},(0,n.createElement)("div",{className:"pv-action-content"},g&&(0,n.createElement)("div",{className:"pv-dropdown-content pv-show"},(0,n.createElement)("button",{style:{color:"#4c6fff"},onClick:e=>x(e,null,"person")},"+ ",S.add," '",e.first_name,"' ",S.as," ",S.new," ",S.ct),p.map(((e,t)=>(0,n.createElement)("a",{key:t,onClick:t=>x(t,e,"person")},e.first_name)))))))),k=(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{style:{position:"relative"},className:"col-lg"},(0,n.createElement)(r.EY,{wrapperClassName:"",label:S.org,id:"org_name",type:"text",name:"org_name",autoComplete:"off",disabled:e.fromClient,value:e.org_name,onChange:N,validation:{},group:"contact"}),(0,n.createElement)("div",{style:{position:"absolute",bottom:0,left:"15px",zIndex:9999},className:"pv-field-search",ref:o},(0,n.createElement)("div",{className:"pv-action-content"},f&&(0,n.createElement)("div",{className:"pv-dropdown-content pv-show"},(0,n.createElement)("button",{style:{color:"#4c6fff"},onClick:e=>x(e,null,"org")},"+ ",S.add," '",e.org_name,"' ",S.as," ",S.new," ",S.org),v.map(((e,t)=>(0,n.createElement)("a",{key:t,onClick:t=>x(t,e,"org")},e.name))))))));return(0,n.createElement)("div",{className:"row"},!e.personLast&&_,k,e.personLast&&_)}},92536:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(51609),l=a.n(n),i=a(21241),s=a(74263),r=a(51945);function o({label:e=ndpv.i18n.upload,btnClass:t="",imgClass:a="",data:o,multiple:c,clipOnly:m,readOnly:d,...p}){const[h,v]=(0,n.useState)(!1),u=l().createRef(),g=e=>{confirm(ndpv.i18n.aConf)&&(p.multiple?p.changeHandler(e,!0):p.changeHandler(null),s.A.remove(e).then((e=>{e.data.success||e.data.data.forEach((function(e){i.oR.error(e)}))})))},E=e=>{e.preventDefault(),p.library?v(!0):u.current.click()};let f=void 0===p.remove;return(0,n.createElement)("div",{className:"pv-field-logo-wrap "+a},!1,o&&!c&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"pv-field-logo"},"application/pdf"==o.type?(0,n.createElement)("a",{href:o.src,target:"_blank"},o.name):(0,n.createElement)("div",{style:{width:p.small?40:100,display:"inline-block"}},(0,n.createElement)(r.A,{small:o.src,large:o.src})),f&&(0,n.createElement)("span",{className:"pv-field-logo-close",onClick:()=>g(o.id)},"×"))),c&&o.length>0&&(0,n.createElement)(n.Fragment,null,o&&o.map(((e,t)=>(0,n.createElement)("div",{className:"pv-field-logo",key:t,style:{marginRight:10}},"application/pdf"==e.type?e.name:(0,n.createElement)("img",{src:e.src,width:p.small?"40":"100"}),f&&(0,n.createElement)("span",{className:"pv-field-logo-close",onClick:()=>g(e.id)},"×"))))),!p.viewOnly&&(!o||c)&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("input",{type:"file",ref:u,onChange:e=>{(e=>{p.isSelectedFile&&p.selectedFile(e.target.files[0])})(e),(e=>{const t=new FormData;t.append("file",e);const a=p.attach_type||"ndpv";t.append("attach_type",a);let n=void 0!==p.permission;t.append("permission",n),s.A.create(t).then((e=>{e.data.success?p.changeHandler(e.data.data):e.data.data.forEach((function(e){i.oR.error(e)}))}))})(e.target.files[0])},style:{display:"none"}}),!m&&(0,n.createElement)("button",{className:"pv-btn pv-bg-stroke pv-bg-hover-stroke "+t,onClick:e=>E(e),style:{padding:p.padding?p.padding:"10px 20px",border:"1px solid #E2E8F0"},disabled:d},(0,n.createElement)("svg",{width:25,height:25,viewBox:"0 0 14 14",fill:"none"},(0,n.createElement)("path",{d:"M3.66824 10.0907C3.01193 10.0915 2.37842 9.85536 1.88909 9.42768C1.39976 9 1.08901 8.41081 1.01638 7.773C0.943746 7.13518 1.11434 6.49358 1.49547 5.97112C1.87661 5.44866 2.44148 5.08208 3.08188 4.94161C2.89659 4.09662 3.06217 3.21426 3.5422 2.48865C4.02223 1.76304 4.77738 1.25361 5.64153 1.07243C6.50568 0.891248 7.40804 1.05316 8.1501 1.52254C8.89217 1.99193 9.41315 2.73034 9.59844 3.57533H9.66507C10.4913 3.57451 11.2883 3.87392 11.9014 4.41541C12.5146 4.9569 12.9001 5.70185 12.9831 6.50564C13.0662 7.30943 12.8408 8.11472 12.3508 8.76517C11.8608 9.41562 11.1411 9.86483 10.3314 10.0256M8.99875 8.13612L6.99981 6.1815M6.99981 6.1815L5.00087 8.13612M6.99981 6.1815V13",stroke:"#4C6FFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),(0,n.createElement)("span",null,e)),m&&(0,n.createElement)("span",{className:"pv-paper-clip",onClick:e=>E(e)},(0,n.createElement)("svg",{width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M10.5001 4.24894L3.99228 10.8661C3.77683 11.1039 3.66107 11.4154 3.66897 11.7362C3.67687 12.057 3.80782 12.3624 4.03471 12.5893C4.2616 12.8162 4.56705 12.9472 4.88783 12.9551C5.2086 12.963 5.52013 12.8472 5.75791 12.6318L13.5157 4.76457C13.9466 4.28901 14.1781 3.66595 14.1623 3.0244C14.1465 2.38286 13.8846 1.77195 13.4309 1.31817C12.9771 0.864391 12.3662 0.602491 11.7246 0.586696C11.0831 0.5709 10.46 0.802418 9.98447 1.23332L2.22666 9.10051C1.52425 9.80292 1.12964 10.7556 1.12964 11.7489C1.12964 12.7423 1.52425 13.695 2.22666 14.3974C2.92907 15.0998 3.88174 15.4944 4.8751 15.4944C5.86845 15.4944 6.82112 15.0998 7.52353 14.3974L13.9376 7.99894",stroke:"#2D3748",strokeLinecap:"round",strokeLinejoin:"round"})))))}},36478:(e,t,a)=>{a.d(t,{_H:()=>c,cK:()=>o,sf:()=>m});var n=a(51609),l=a(21241),i=a(55800),s=a(394),r=a(29425);const o=(0,n.createContext)({});function c({submitHandler:e,submitPreloader:t=!1,close:a,submitLabel:i,children:s,formTag:c=!0,isMultipart:m=!1,isPro:p=!1,showSubmitButton:h=!0}){const[v,u]=(0,n.useState)({}),[g,E]=(0,n.useState)({}),[f,b]=(0,n.useState)({}),[y,C]=(0,n.useState)(!1),[w,N]=(0,n.useState)();(0,n.useEffect)((()=>{y&&w&&(0===x(g)?e(w):l.oR.error("Invalid submission!!!"),C(!1))}),[y,g]);const x=e=>e&&"object"==typeof e?Object.values(e).reduce((function(e,t){return e+t.length}),0):0,S=e=>{e.preventDefault(),(0,r.hs)(v,u,E),C(!0),N(e)},_=(0,n.createElement)(n.Fragment,null,s,(0,n.createElement)(d,{close:a,submitPreloader:t,submitLabel:i,formTag:c,onSubmit:S,isPro:p,showSubmitButton:h}));return(0,n.createElement)(o.Provider,{value:{form:v,setForm:u,setErrorFields:E,groupFields:f,setGroupFields:b}},c?m?(0,n.createElement)("form",{onSubmit:S,encType:"multipart/form-data"},_):(0,n.createElement)("form",{onSubmit:S},_):(0,n.createElement)("div",null,_))}function m({formStyleClass:e,children:t}){return(0,n.createElement)("div",{className:"pv-content"},(0,n.createElement)("div",{className:e},t))}function d({close:e,submitPreloader:t,submitLabel:a,formTag:l,onSubmit:r,isPro:o,showSubmitButton:c}){const m=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-modal-footer"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},e&&(0,n.createElement)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:()=>e()},m.cancel)),c&&(0,n.createElement)("div",{className:"col"},(0,n.createElement)("button",{type:"submit",disabled:t,...l?{}:{onClick:r},className:"pv-btn pv-bg-blue pv-bg-hover-blue  pv-float-right pv-color-white"},t&&(0,n.createElement)(i.A,{submit:!0})," ",a||m.save,o&&(0,n.createElement)(s.A,{blueBtn:!0})))))}},8935:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(51609),l=a(81083);const i=e=>{const t=ndpv.i18n,{data:a,handleChange:i,selectCountry:s}=e;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md-6"},(0,n.createElement)("label",{htmlFor:"form-country"},t.country),(0,n.createElement)(l.wP,{value:a.country,valueType:"short",onChange:e=>s(e)})),(0,n.createElement)("div",{className:"col-md-6"},(0,n.createElement)("label",{htmlFor:"form-region"},t.state_region),(0,n.createElement)("input",{id:"form-region",type:"text",name:"region",value:a.region,onChange:i}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},(0,n.createElement)("label",{htmlFor:"form-address"},t.addr),(0,n.createElement)("input",{id:"form-address",type:"text",name:"address",value:a.address,onChange:i}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-city"},t.city),(0,n.createElement)("input",{id:"field-city",type:"text",name:"city",value:a.city,onChange:i})),(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-zip"},t.zip),(0,n.createElement)("input",{id:"field-zip",type:"text",name:"zip",value:a.zip,onChange:i}))))}},95231:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(51609),l=a(43065);const i=({label:e,type:t="button",iconName:a,size:i,cssStyle:s,handleClick:r,buttonStyle:o="default"})=>{const c={white:{button:{css:{},class:"pv-bg-stroke pv-bg-hover-stroke"},icon:"blue"},default:{button:{css:{},class:"pv-bg-blue pv-color-white pv-bg-air-white pv-bg-hover-blue"},icon:"default"}};return(0,n.createElement)("button",{type:t,style:{margin:"5px",...s,...c[o].button.css},className:"pv-btn "+{big:"pv-btn-big",medium:" pv-btn-medium"}[i]+" "+c[o].button.class,onClick:e=>{e.preventDefault(),r()}},(0,n.createElement)(l.BS,{name:a,style:c[o].icon}),e)}},97300:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(51609);const l=({style:e,id:t,name:a,label:l={},changeHandler:i,isChecked:s})=>{const r=(0,n.createElement)("input",{type:"checkbox",id:t,name:a,checked:s,onChange:i}),o=(0,n.createElement)("div",{className:"pv-field-switch"},(0,n.createElement)("label",{className:"pv-switch"},r,(0,n.createElement)("span",{className:"pv-switch-slider pv-round"}))),c="left"===l?.position?"marginRight":"marginLeft",m=l?.text&&(0,n.createElement)("label",{id:t,style:{[c]:"10px"}},l.text);return(0,n.createElement)(n.Fragment,null,"left"===l?.position&&m,"switch"===e?o:r,"right"===l?.position&&m)}},62926:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(51609),l=a(36478),i=a(29425);const s=({label:e,wrapperClassName:t="col",validation:a={},onChange:s=(()=>{}),...r})=>{var o;const{form:c,setForm:m,setErrorFields:d,setGroupFields:p}=(0,n.useContext)(l.cK),{name:h,value:v=""}=r,u=c[h]?.validation||{};(0,n.useEffect)((()=>{h in c||m((e=>({...e,[h]:{...e[h],value:v,validation:a}})))}),[]),(0,n.useEffect)((()=>{m((e=>({...e,[h]:{...e[h],value:v}})))}),[v]);const g=null!==(o=c[h]?.validation?.required?.value)&&void 0!==o&&o;return(0,n.createElement)("div",{className:t},(0,n.createElement)("label",{htmlFor:r.id},e," ",g&&(0,n.createElement)("span",{style:{color:"red"},title:"This field is required"},"*")),(0,n.createElement)("input",{onChange:e=>{m((t=>({...t,[h]:{...t[h],value:e.target.value}}))),(0,i.UF)(h,e.target.value,c,m,d),s(e)},...r}),Object.entries(u).map((([e,{error:t=""}])=>(0,n.createElement)("div",{key:e,style:{color:"#fd5870",marginTop:"4px"}},t.charAt(0).toUpperCase()+t.slice(1)))))}},53417:(e,t,a)=>{a.d(t,{$n:()=>n.A,EY:()=>i.A,Sc:()=>l.A,pV:()=>s.A});var n=a(95231),l=a(97300),i=a(62926),s=a(8935)},29425:(e,t,a)=>{a.d(t,{UF:()=>l,hs:()=>i});const n={required:"field is required",email:"is invalid"},l=(e,t,a,n,l)=>{for(const[i,r]of Object.entries(a[e].validation))s(i,r,e,t,n,l)},i=(e,t,a)=>{for(const[n,{value:l,validation:i}]of Object.entries(e))for(const[e,r]of Object.entries(i))s(e,r,n,l,t,a)},s=(e,t,a,n,l,i)=>{switch(e){case"required":r(e,t,a,n,l,i);break;case"email":o(e,t,a,n,l,i)}},r=(e,t,a,n,l,i)=>{t?.value&&0===n?.length?m(e,t,a,l,i):d(e,a,l,i,!0)},o=(e,t,a,n,l,i)=>{!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,63}$/.test(n)&&n.length>0?m(e,t,a,l,i):d(e,a,l,i,!0)},c=(e,t,a,n,l="default")=>{e((e=>(l="default"!==l?l:e[t].validation[a].value,{...e,[t]:{...e[t],validation:{...e[t].validation,[a]:{...e[t].validation[a],value:l,error:n}}}})))},m=(e,t,a,l,i)=>{var s;const r=null!==(s=t.message)&&void 0!==s?s:a+" "+n[e];c(l,a,e,r),i((t=>{const n=Array.isArray(t[a])?[...t[a],e]:[e];return{...t,[a]:[...new Set(n)]}}))},d=(e,t,a,n,l=!1)=>{c(a,t,e,"",l),n((a=>{if(a[t]&&Array.isArray(a[t])){const n=a[t].indexOf(e);-1!==n&&a[t].splice(n,1)}return a}))}},25928:(e,t,a)=>{function n(){document.getElementById("pv-pro-alert").style.display="block"}a.d(t,{A:()=>n})},394:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(51609);const l=e=>(0,n.createElement)(n.Fragment,null,wage.length>0&&(0,n.createElement)("span",{className:"pv-pro-label",onClick:()=>{document.getElementById("pv-pro-alert").style.display="block"},style:{background:e.blueBtn?"#FFEED9":"auto"}},(0,n.createElement)("svg",{width:13,height:10,viewBox:"0 0 13 10",fill:"none"},(0,n.createElement)("path",{d:"M1.71013 8.87452C1.72412 8.93204 1.7495 8.98616 1.78477 9.0337C1.82003 9.08124 1.86447 9.12123 1.91545 9.15131C1.96643 9.18139 2.02292 9.20094 2.08158 9.20882C2.14025 9.2167 2.19989 9.21274 2.257 9.19718C4.86395 8.47534 7.61803 8.47534 10.225 9.19718C10.2821 9.21274 10.3417 9.2167 10.4004 9.20882C10.4591 9.20094 10.5156 9.18139 10.5665 9.15131C10.6175 9.12123 10.6619 9.08124 10.6972 9.0337C10.7325 8.98616 10.7579 8.93204 10.7718 8.87452L12.1664 2.95187C12.1855 2.87259 12.1821 2.78954 12.1566 2.71209C12.131 2.63464 12.0843 2.56588 12.0218 2.51356C11.9592 2.46123 11.8833 2.42744 11.8025 2.41599C11.7218 2.40454 11.6395 2.41588 11.5648 2.44874L8.79763 3.67921C8.69737 3.72336 8.5843 3.72879 8.48027 3.69445C8.37624 3.6601 8.28863 3.58843 8.23435 3.49327L6.62653 0.594837C6.5887 0.526455 6.53324 0.469456 6.46592 0.429765C6.3986 0.390074 6.32187 0.369141 6.24372 0.369141C6.16557 0.369141 6.08885 0.390074 6.02153 0.429765C5.95421 0.469456 5.89874 0.526455 5.86091 0.594837L4.2531 3.49327C4.19882 3.58843 4.1112 3.6601 4.00717 3.69445C3.90314 3.72879 3.79008 3.72336 3.68982 3.67921L0.922629 2.44874C0.847988 2.41588 0.765648 2.40454 0.684901 2.41599C0.604154 2.42744 0.528216 2.46123 0.465658 2.51356C0.403099 2.56588 0.35641 2.63464 0.330861 2.71209C0.305312 2.78954 0.301919 2.87259 0.321067 2.95187L1.71013 8.87452Z",fill:"#FF6B00"})),"Pro"))},70162:(e,t,a)=>{a.r(t),a.d(t,{default:()=>se});var n=a(51609),l=a.n(n),i=a(47767),s=a(84976),r=a(58751),o=a(21241),c=a(56303),m=a(394),d=a(25928),p=a(55800),h=a(56564),v=a(7834),u=a(43065),g=(a(17604),a(46129)),E=(a(81083),a(53417)),f=a(36478);class b extends n.Component{constructor(e){super(e),this.initialState={id:null,first_name:"",org_id:"",org_name:"",email:"",web:"",mobile:"",country:"",region:"",address:"",city:"",zip:"",date:!1},this.state={form:this.initialState},this.selectCountry=this.selectCountry.bind(this)}componentDidMount(){this.editData()}componentDidUpdate(){this.editData()}editData=()=>{"edit"==this.props.modalType?this.state.form.id!=this.props.data.id&&this.setState({form:this.props.data}):null!=this.state.form.id&&this.setState({form:this.initialState})};handleChange=e=>{const{name:t,value:a}=e.target;this.setState({form:{...this.state.form,[t]:a}})};selectCountry(e){this.setState({form:{...this.state.form,country:e}})}selectRegion(e){this.setState({form:{...this.state.form,region:e}})}handleContactChange=(e,t)=>{let a={...this.state.form};"person"==t?a.first_name=e:a.org_name=e,this.setState({form:a})};handleContactSelect=(e,t)=>{let a={...this.state.form};if(!e)return"person"==t?a.person_id=null:a.org_id=null,void this.setState({form:a});"person"==t?(a.first_name=e.first_name,a.person_id=e?e.id:null,a.email=e?e.email:"",a.mobile=e?e.mobile:"",a.web=e?e.web:""):(a.org_name=e.name,a.org_id=e?e.id:null),this.setState({form:a})};handleSubmit=e=>{e.preventDefault();let t=this.state.form;"new"==this.props.modalType?c.A.add("contacts",t).then((e=>{e.data.success?(this.props.close(),o.oR.success(ndpv.i18n.aAdd),t.id=e.data.data.id,t.type=e.data.data.type,this.props.handleSubmit(t)):e.data.data.forEach((function(e){o.oR.error(e)}))})):c.A.edit("contacts",t.id,t).then((e=>{e.data.success?(this.props.close(),o.oR.success(ndpv.i18n.aUpd),this.props.handleSubmit(t)):e.data.data.forEach((function(e){o.oR.error(e)}))}))};render(){const e=this.state.form,t=ndpv.i18n,a="new"==this.props.modalType?t.add_new_ct:t.edit_ct;return(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content"},(0,n.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,n.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,n.createElement)(u.OM,null)),(0,n.createElement)("h2",{className:"pv-modal-title"},a)),(0,n.createElement)(f._H,{submitHandler:this.handleSubmit,close:this.props.close},(0,n.createElement)(f.sf,{formStyleClass:"pv-form-style-one"},(0,n.createElement)(g.A,{first_name:e.first_name,org_name:e.org_name,review:!0,onChange:this.handleContactChange,onSelect:this.handleContactSelect}),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-email"},t.email),(0,n.createElement)("input",{id:"form-email",type:"email",required:!0,name:"email",value:e.email,onChange:this.handleChange})),(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-web"},t.web),(0,n.createElement)("input",{id:"form-web",type:"text",name:"web",value:e.web,onChange:this.handleChange}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-mobile"},t.mob),(0,n.createElement)("input",{id:"form-mobile",type:"text",name:"mobile",value:e.mobile,onChange:this.handleChange}))),(0,n.createElement)(E.pV,{data:e,selectCountry:this.selectCountry,handleChange:this.handleChange})))))}}const y=e=>{var t;const a=(0,n.useRef)(),[l,i]=(0,n.useState)([]),[s,r]=(0,n.useState)([]),[o,m]=(0,n.useState)(!1),[d,p]=(0,n.useState)(!1),[h,u]=(0,n.useState)("new"),g={label:"",color:"",bg_color:""},[E,f]=(0,n.useState)(g);let y=0;const C=(0,n.useCallback)((()=>m(!1)),[]);(0,v.A)(a,C),(0,n.useEffect)((()=>{w()}),[]);const w=()=>{let e=new URLSearchParams({page:1,per_page:10}).toString();c.A.get("contacts",e).then((e=>{if(e.data.success){let t=e.data.data.result;i(t)}}))},N=ndpv.i18n;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{className:"pv-list",onClick:()=>m((e=>!e))},!e.data&&N.select+" "+N.rec,e.data&&(0,n.createElement)(n.Fragment,null,null!==(t=e.data.first_name)&&void 0!==t?t:e.data.org_name),(0,n.createElement)("svg",{style:{marginTop:6,float:"right"},width:12,height:10,viewBox:"0 0 10 6",fill:"none"},(0,n.createElement)("path",{d:"M5.00001 3.78145L8.30001 0.481445L9.24268 1.42411L5.00001 5.66678L0.757342 1.42411L1.70001 0.481445L5.00001 3.78145Z",fill:"#718096"}))),o&&(0,n.createElement)("div",{className:"pv-dropdown-content pv-show",ref:a},(0,n.createElement)("div",{className:"pv-search-field"},(0,n.createElement)("input",{type:"text",onChange:e=>{const t=e.target.value;t.length<2||(y&&clearTimeout(y),y=setTimeout((()=>{c.A.get("contacts","s="+t).then((e=>{if(e.data.success){let t=e.data.data.result;i(t)}}))}),300))},placeholder:N.search})),(0,n.createElement)("button",{onClick:e=>{((e,t,a="")=>{e.preventDefault(),p(!0),"new"==t?(u(t),f(g)):(u(t),f(a))})(e,"new")}},"+ ",N.add_new),l&&l.map(((t,a)=>(0,n.createElement)("a",{key:a,onClick:()=>{return a=t,e.onChange(a),void m(!1);var a}},"person"==t.type?t.first_name:t.org_name)))),d&&(0,n.createElement)(b,{handleSubmit:t=>{e.onChange(t),m(!1)},modalType:h,data:E,close:()=>p(!1)}))};var C=a(92536);class w extends n.Component{constructor(e){super(e),this.initialState={id:null,name:"",org_name:"",email:"",web:"",mobile:"",country:"",region:"",address:"",city:"",zip:"",logo:null,default:!0,date:!1},this.state={form:this.initialState},this.selectCountry=this.selectCountry.bind(this)}componentDidMount(){this.editData()}componentDidUpdate(){this.editData()}editData=()=>{if("edit"==this.props.modalType){if(this.state.form.id!=this.props.data.id)if(wage.length){let e=this.props.data;e.default=!0,this.setState({form:e})}else this.setState({form:this.props.data})}else if(null!=this.state.form.id)if(wage.length){let e=this.initialState;e.default=!0,this.setState({form:e})}else this.setState({form:this.initialState})};handleChange=e=>{const t=e.target,a=t.name,n="checkbox"===t.type?t.checked:t.value;this.setState({form:{...this.state.form,[a]:n}})};selectCountry(e){this.setState({form:{...this.state.form,country:e}})}handleSubmit=e=>{e.preventDefault();let t={...this.state.form};this.props.handleSubmit(t)};handleLogoChange=(e,t=null)=>{let a={...this.state.form};a.logo=e,this.setState({form:a})};render(){const e=this.state.form,t=ndpv.i18n;let a="";return"new"==this.props.modalType?a=t.new:"edit"==this.props.modalType&&(a=t.edit),(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content"},(0,n.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,n.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,n.createElement)(u.OM,null)),(0,n.createElement)("h2",{className:"pv-modal-title"},a," ",t.biz),(0,n.createElement)("p",null,t.add_new+" "+t.biz+" "+t.from+" "+t.here)),(0,n.createElement)(f._H,{submitHandler:this.handleSubmit,close:this.props.close},(0,n.createElement)(f.sf,{formStyleClass:"pv-form-style-one"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)(E.EY,{label:t.name,id:"field-name",type:"text",name:"name",value:e.name,wrapperClassName:"col-md",onChange:this.handleChange,validation:{required:{value:!0}}})),(0,n.createElement)("div",{className:"row"},(0,n.createElement)(E.EY,{label:t.email,id:"field-email",type:"email",name:"email",value:e.email,wrapperClassName:"col-md",onChange:this.handleChange,validation:{required:{value:!0},email:{value:!0}}}),(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-web"},t.web),(0,n.createElement)("input",{id:"field-web",type:"text",name:"web",value:e.web,onChange:this.handleChange}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-mobile"},t.mob),(0,n.createElement)("input",{id:"field-mobile",type:"text",name:"mobile",value:e.mobile,onChange:this.handleChange}))),(0,n.createElement)(E.pV,{data:e,selectCountry:this.selectCountry,handleChange:this.handleChange}),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},(0,n.createElement)("label",{htmlFor:"field-logo"},t.logo),(0,n.createElement)(C.A,{data:e.logo,changeHandler:this.handleLogoChange})))))))}}const N=w;class x extends n.Component{constructor(e){super(e),this.state={loaded:!1,fromList:[],from:{id:null},to:{id:null},to_type:"person",businessModal:!1,businessModalType:"new",businessData:{id:null},contactModal:!1,contactModalType:"new",contactData:{id:null}},this.timeout=0}componentDidMount(){if(this.fetchData(),this.props.editId){let e=this.props.fromData,t=this.props.toData;e&&t&&this.setState({from:e,to:t})}}fetchData=()=>{let e=new URLSearchParams({page:1,per_page:1,default:!0}).toString();const t=c.A.get("businesses",e).then((e=>{let t=e.data.data.result;if(t.length){let e={};if(e.fromList=wage.length?void 0:t,!this.props.editId){let a=t.filter((e=>!0===e.default));e.from=a.length?a[0]:t[0]}return this.setState(e),e.from}return null}));let a;if(this.props.moduleId&&!this.props.toData){const e=this.props.module,t="client"===e?"contacts":e+"s";a=c.A.getS(t,this.props.moduleId).then((e=>{const t=e.data.data;return t.person?{...t.person,type:"person"}:{...t.org,type:"org"}}))}else a=Promise.resolve(null);Promise.all([t,a]).then((([e,t])=>{t?this.props.setFromTo(e,t):e&&this.props.setFrom(e)})).catch((e=>{console.error("Error fetching data:",e)}))};handleContactSelect=e=>{this.setState({to:e}),this.props.setTo(e)};componentDidUpdate(){!this.state.loaded&&this.props.editId&&null!=this.state.to.id&&this.setState({from:this.props.fromData,to:this.props.toData,loaded:!0})}handleBusinessSubmit=e=>{"new"==this.state.businessModalType?c.A.add("businesses",e).then((t=>{t.data.success?(this.setState({businessModal:!1}),o.oR.success(ndpv.i18n.aAdd),e.id=t.data.data,this.props.setFrom(e)):t.data.data.forEach((function(e){o.oR.error(e)}))})):c.A.edit("businesses",e.id,e).then((t=>{t.data.success?(this.setState({businessModal:!1}),o.oR.success(ndpv.i18n.aUpd),this.props.setFrom(e)):t.data.data.forEach((function(e){o.oR.error(e)}))}))};handleContactSubmit=e=>{this.props.setTo(e)};render=()=>{var e;const{fromData:t,toData:a}=this.props,l=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-from-content pv-border-right pv-mt-25"},this.state.businessModal&&(0,n.createElement)(N,{handleSubmit:this.handleBusinessSubmit,modalType:this.state.businessModalType,data:this.state.businessData,close:()=>this.setState({businessModal:!1})}),this.state.contactModal&&(0,n.createElement)(b,{handleSubmit:this.handleContactSubmit,modalType:this.state.contactModalType,data:this.state.contactData,close:()=>this.setState({contactModal:!1})}),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md-6"},(0,n.createElement)("div",{className:"pv-from-to"},(0,n.createElement)("label",{className:"pv-title-small"},l.sndr),(0,n.createElement)("div",{className:"pv-from"},t?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h4",{className:"pv-title-small"},t.name,(0,n.createElement)("span",null,(0,n.createElement)("button",{className:"pv-btn pv-btn-small pv-bg-stroke pv-bg-hover-stroke pv-bg-shadow",onClick:()=>this.setState({businessData:t,businessModal:!0,businessModalType:"edit"})},l.edit))),(0,n.createElement)("address",null,t.address&&(0,n.createElement)(n.Fragment,null,t.address,",",(0,n.createElement)("br",null)),t.city&&(0,n.createElement)(n.Fragment,null,t.city,", "),t.region&&(0,n.createElement)(n.Fragment,null,t.region,", "),t.zip&&(0,n.createElement)(n.Fragment,null,t.zip,", "),t.country&&(0,n.createElement)(n.Fragment,null,(0,h.Fi)(t.country),", "),t.email&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("br",null),t.email),t.mobile&&(0,n.createElement)(n.Fragment,null,", ",t.mobile))):(0,n.createElement)(n.Fragment,null,(0,n.createElement)("a",{className:"pv-color-blue pv-text-hover-blue",style:{color:"blue",padding:"20px",display:"table",margin:"auto"},onClick:()=>this.setState({businessModal:!0,businessModalType:"new"})},l.create," ",l.new," ",l.biz))))),(0,n.createElement)("div",{className:"col-md-6"},(0,n.createElement)("div",{className:"pv-from-to pv-to"},(0,n.createElement)("div",{className:"pv-from-to-content"},(0,n.createElement)("label",{className:"pv-title-small"},l.rec),(0,n.createElement)("div",{className:"pv-sendlist pv-action-content"},!this.props.moduleId&&(0,n.createElement)(y,{data:a,onChange:this.handleContactSelect}))),(0,n.createElement)("div",{className:"pv-from"},a?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h4",{className:"pv-title-small"},"person"==a.type||a.first_name?a.first_name:null!==(e=a.org_name)&&void 0!==e?e:a.name,!1),(0,n.createElement)("address",null,a.address&&(0,n.createElement)(n.Fragment,null,a.address,",",(0,n.createElement)("br",null)),a.city&&(0,n.createElement)(n.Fragment,null,a.city,", "),a.region&&(0,n.createElement)(n.Fragment,null,a.region,", "),a.zip&&(0,n.createElement)(n.Fragment,null,a.zip,", "),a.country&&(0,n.createElement)(n.Fragment,null,(0,h.Fi)(a.country),", "),(a.city||a.region||a.zip||a.country)&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("br",null)),a.email&&(0,n.createElement)(n.Fragment,null,a.email),a.mobile&&(0,n.createElement)(n.Fragment,null,", ",a.mobile))):(0,n.createElement)(n.Fragment,null,(0,n.createElement)("a",{className:"pv-color-blue pv-text-hover-blue",style:{color:"blue",padding:"20px",display:"table",margin:"auto"},onClick:()=>this.setState({contactModal:!0,contactModalTYpe:"new"})},l.add_new)))))))}}var S=a(68951);const _=e=>{const{index:t,title:a,desc:l,qty:i,qty_type:s,qtyTypeList:r,item_tax:m,tax:d,tax_type:p,price:h}=e,v=ndpv.i18n,[u,g]=(0,n.useState)([]);(0,n.useEffect)((()=>{c.A.get("savefornext").then((e=>{g(e.data)})).catch((e=>console.log(e)))}),[]);const[E,f]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),[C,w]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{a.length<1&&C?y(!0):y(!1)}),[a,C]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)("td",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:{position:"relative"}},(0,n.createElement)("input",{onFocus:e=>{w(!0)},onBlur:e=>{w(!1)},name:"title",type:"text",placeholder:v.title,value:a,onChange:e.changeHandler(t)}),b&&(0,n.createElement)("div",{style:{left:"16px",top:"53px",width:"295px"},className:"pv-dropdown-content pv-show"},u.map(((a,l)=>(0,n.createElement)("a",{onClick:n=>((a,n)=>{a.preventDefault(),y(!1),e.handleItemsValue(t,{title:n.title,desc:n.desc,qty:n.qty,qty_type:n.qty_type.toLowerCase(),price:n.price})})(n,a),key:l,href:"#"},(0,n.createElement)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"}},(0,n.createElement)("div",null,(0,n.createElement)("div",{style:{fontWeight:"500",fontSize:"12px"}},a.title),(0,n.createElement)("div",{style:{fontSize:"8px",color:"#718096"}},a.desc)),(0,n.createElement)("div",{style:{fontSize:"10px",color:"#718096"}},"$",a.price)))))),(0,n.createElement)("br",null),(0,n.createElement)("textarea",{name:"desc",type:"text",placeholder:v.desc,value:l,onChange:e.changeHandler(t)})),(0,n.createElement)("td",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1)},(0,n.createElement)("div",{className:"pv-field-checkbox pv-field-checkbox-input"},(0,n.createElement)("input",{name:"qty",type:"number",min:"0.00",step:"1",max:"9999999.99",value:i,onChange:e.changeHandler(t),style:{width:"60px"},onFocus:e.focusHandler}),(0,n.createElement)("select",{name:"qty_type",value:s,onChange:e.changeHandler(t)},(0,n.createElement)("option",{value:""},v.select),r&&r.map(((e,t)=>{const a=e.label.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");return(0,n.createElement)("option",{key:t,value:a},e.label)}))))),(0,n.createElement)("td",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1)},(0,n.createElement)("input",{name:"price",type:"number",style:{width:"88px"},step:"0.01",min:"0.00",max:"9999999.99",value:h,onChange:e.changeHandler(t),onFocus:e.focusHandler})),(0,n.createElement)("td",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1)},e.currencyFormatter(((e,t)=>e*t)(i,h))),m&&(0,n.createElement)("td",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1)},(0,n.createElement)("div",{className:"pv-field-checkbox pv-field-checkbox-input"},(0,n.createElement)("input",{name:"tax",type:"number",min:"0.00",step:"1",max:"9999999.99",value:d,onChange:e.changeHandler(t),onFocus:e.focusHandler}),(0,n.createElement)("select",{name:"tax_type",value:p,onChange:e.changeHandler(t),ref:e=>{e&&e.style.setProperty("width","37px","important")}},(0,n.createElement)("option",{value:"percent"},"%"),(0,n.createElement)("option",{value:"fixed"},"$")))),(0,n.createElement)("td",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:{position:"relative"}},E&&!wage.length&&(0,n.createElement)("button",{onClick:()=>{let e={index:Math.random().toString(36).substring(2,7),title:a,desc:l,qty:i,qty_type:s,price:h,tax:d,tax_type:p};c.A.add("savefornext",e).then((e=>{console.log(e),c.A.get("savefornext","").then((e=>{o.oR.success("Item saved!")}))})).catch((e=>{o.oR.error("Unable to save")}))},className:"pv-btn pv-btn-small pv-bg-stroke pv-bg-hover-stroke pv-bg-shadow",style:{position:"absolute",top:"11px",left:"-69px",width:"auto"}},"Save for next"),(0,n.createElement)("span",{onClick:e.deleteHandler(t)},(0,n.createElement)("svg",{width:15,height:15,viewBox:"0 0 10 10",fill:"none"},(0,n.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.195 1.204a.666.666 0 01.942 0l2.859 2.862 2.859-2.862a.666.666 0 11.942.942l-2.86 2.862 2.86 2.862a.667.667 0 01-.942.943L4.995 5.95 2.138 8.813a.666.666 0 01-.942-.943l2.86-2.862-2.86-2.862a.667.667 0 010-.942z",fill:"#4A5568",stroke:"#A0AEC0",strokeWidth:.5})))))},k=e=>{const t=t=>{const a=t.target;let n={...e.item_label};n[a.name]=a.value,e.labelChange(n)},{id:a,desc:l,qty:i,price:s,tax:r,amount:o}=e.item_label,c=e.item_tax,m=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content pv-modal-style-two pv-modal-small"},(0,n.createElement)("div",{className:"pv-modal-header"},(0,n.createElement)("span",{className:"pv-close",onClick:()=>e.close()},(0,n.createElement)("svg",{width:25,height:25,viewBox:"0 0 16 16",fill:"none"},(0,n.createElement)("path",{d:"M12.5 3.5L3.5 12.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.createElement)("path",{d:"M12.5 12.5L3.5 3.5",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("h2",{className:"pv-modal-title"},m.item+" "+m.label+" "+m.edit)),(0,n.createElement)("div",{className:"pv-content"},(0,n.createElement)("div",{className:"pv-form-style-one"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-id"},m.id),(0,n.createElement)("input",{id:"field-id",type:"text",name:"id",value:a,onChange:e=>t(e)}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-desc"},m.desc),(0,n.createElement)("input",{id:"field-desc",type:"text",name:"desc",value:l,onChange:e=>t(e)}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-qty"},m.qty),(0,n.createElement)("input",{id:"field-qty",type:"text",name:"qty",value:i,onChange:e=>t(e)}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-price"},m.rate),(0,n.createElement)("input",{id:"field-price",type:"text",name:"price",value:s,onChange:e=>t(e)}))),c&&(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-tax"},m.tax),(0,n.createElement)("input",{id:"field-tax",type:"text",name:"tax",value:r,onChange:e=>t(e)}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-amount"},m.amt),(0,n.createElement)("input",{id:"field-amount",type:"text",name:"amount",value:o,onChange:e=>t(e)}))))),(0,n.createElement)("div",{className:"pv-modal-footer pv-mt-10"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"}),(0,n.createElement)("div",{className:"col"},(0,n.createElement)("button",{onClick:()=>e.close(),className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-btn-medium pv-float-right pv-color-white"},m.save))))))},L=(0,n.memo)((e=>{const[t,a]=(0,n.useState)(!1),[l,i]=(0,n.useState)([]);(0,n.useEffect)((()=>{e.id||c.A.get("taxonomies","taxonomy=estinv_qty_type&label_only=true").then((e=>{e.data.success&&i(e.data.data.estinv_qty_type)}))}),[]);const s=()=>{a(!t)},{items:r,item_label:o,currency:m,labelChange:d,item_tax:p,addHandler:h,reorderHandler:v,...u}=e,g=ndpv.i18n,{desc:E,qty:f,price:b,tax:y,amount:C}=o;return(0,n.createElement)(n.Fragment,null,t&&(0,n.createElement)(k,{item_label:o,item_tax:p,close:s,labelChange:d}),(0,n.createElement)("div",{className:"pv-info-table-wrap"},(0,n.createElement)("div",{className:"pv-info-table-content"},(0,n.createElement)("table",{className:"pv-table pv-info-table"},(0,n.createElement)("thead",{className:"pv-cursor-pointer",onClick:()=>s()},(0,n.createElement)("tr",null,(0,n.createElement)("th",{style:{width:"auto"}},E),(0,n.createElement)("th",{style:{width:"125px"}},f),(0,n.createElement)("th",{style:{width:"105px"}},b),(0,n.createElement)("th",{style:{width:"90px"}},C),p&&(0,n.createElement)("th",{style:{width:"125px"}},y),(0,n.createElement)("th",null,(0,n.createElement)("svg",{style:{top:4},width:24,height:24,viewBox:"0 0 24 24",fill:"none"},(0,n.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 10.8954 6.10457 10 5 10C3.89543 10 3 10.8954 3 12C3 13.1046 3.89543 14 5 14C6.10457 14 7 13.1046 7 12Z",fill:"#718096"}),(0,n.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12Z",fill:"#718096"}),(0,n.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12C21 10.8954 20.1046 10 19 10C17.8954 10 17 10.8954 17 12C17 13.1046 17.8954 14 19 14C20.1046 14 21 13.1046 21 12Z",fill:"#718096"}))))),(0,n.createElement)(S.JY,{onDragEnd:t=>{if(!t.destination)return;const a=((e,t,a)=>{const n=Array.from(e),[l]=n.splice(t,1);return n.splice(a,0,l),n})(e.items,t.source.index,t.destination.index);e.reorderHandler(a)}},(0,n.createElement)(S.gL,{droppableId:"droppable"},((t,a)=>(0,n.createElement)("tbody",{ref:t.innerRef,className:a.isDraggingOver?"WTqxQAeR1r8cb_sX6Wlw":""},e.items.map(((e,t)=>(0,n.createElement)(S.sx,{key:e.id,draggableId:e.id,index:t},((a,i)=>(0,n.createElement)("tr",{ref:a.innerRef,...a.draggableProps,...a.dragHandleProps,style:a.draggableProps.style,className:i.isDragging?"JflNBPOAyOpwySStGkjp":""},(0,n.createElement)(_,{style:{color:"red"},key:t+e.id,index:t,title:e.title,desc:e.desc,qty:e.qty,qty_type:e.qty_type,qtyTypeList:l,item_tax:p,tax:e.tax,tax_type:e.tax_type,price:e.price,...u})))))),t.placeholder))))),(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-hover-stroke pv-bg-shadow",style:{justifyContent:"center"},onClick:h},(0,n.createElement)("svg",{width:15,height:14,viewBox:"0 1 12 10",fill:"none"},(0,n.createElement)("path",{d:"M1.875 6h8.25M6 1.875v8.25",stroke:"#2D3748",strokeLinecap:"round",strokeLinejoin:"round"})),g.add," ",g.item))))})),A=e=>{const t=e.data,a=ndpv.i18n;return(0,n.createElement)(n.Fragment,null,t?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h4",{className:"pv-title-small"},a.paymentInfo,":"),(0,n.createElement)("address",{className:"pv-mb-15",dangerouslySetInnerHTML:{__html:t.name+"<br />"+t.details.replaceAll("\n","<br />")}})):"")},F=({inv:e,currencyFormatter:t,changeHandler:a,focusHandler:l})=>{const i=e.extra_field,s=()=>e.items.reduce(((e,t)=>e+t.qty*t.price),0),r=()=>e.items.reduce(((t,a)=>{let n=0;return e.item_tax&&a.tax&&("percent"==a.tax_type?n+=a.qty*a.price*(a.tax/100):n+=parseFloat(a.tax)),t+n}),0),o=()=>{let e=0,t=s(),a=r();return i.map((n=>{if("tax"==n.type){let l=n.val?n.val:0;if("percent"==n.val_type){let i=0;(n.hasOwnProperty("tax_cal")?n.tax_cal:"")||(i=a),e+=(t+i)*(l/100)}else e+=parseFloat(l)}})),e},c=()=>{let e=0,t=s(),a=r()+o();return i.map(((n,l)=>{if("fee"==n.type){let l=n.val?n.val:0;if("percent"==n.val_type){let i=0;(n.hasOwnProperty("tax_cal")?n.tax_cal:"")||(i=a),e+=(t+i)*(l/100)}else e+=parseFloat(l)}})),e},m=ndpv.i18n;let d=[],p=[],h=[],v=[];return i&&(i.map(((e,t)=>{"tax"==e.extra_amount_type||"tax"==e.type?d.push(e):"fee"==e.extra_amount_type||"fee"==e.type?p.push(e):h.push(e)})),v=[...h,...p,...d]),(0,n.createElement)("table",null,(0,n.createElement)("tbody",null,(0,n.createElement)("tr",null,(0,n.createElement)("td",null,m.subT),(0,n.createElement)("td",null,t(s()))),e.item_tax&&(0,n.createElement)("tr",null,(0,n.createElement)("td",null,m.items," ",m.tax),(0,n.createElement)("td",null,t(r()))),v.map(((e,i)=>{let m=s(),d=e.val?e.val:0;if("percent"==e.val_type){let t=e.hasOwnProperty("tax_cal")?e.tax_cal:"",a=e.hasOwnProperty("fee_cal")?e.fee_cal:"";"tax"!=e.type||t||(m+=r()),"fee"!=e.type||t||(m+=r(),m+=o()),"discount"==e.type&&(t||(m+=r(),m+=o()),a||(m+=c())),m*=d/100}else m=parseFloat(d);return(0,n.createElement)("tr",{key:i},(0,n.createElement)("td",null,e.name,(0,n.createElement)("input",{name:"extra-item-"+i,type:"number",step:"1",min:"0.00",value:e.val,onChange:t=>a(t,e),onFocus:l}),"percent"==e.val_type?"%":""),(0,n.createElement)("td",null,t(m)))})),(0,n.createElement)("tr",null,(0,n.createElement)("td",null,m.total),(0,n.createElement)("td",null,t((()=>{let t=s();return e.item_tax&&(t+=r()),t+=o(),t+=c(),t-=(()=>{let e=0,t=s(),a=r()+o(),n=c();return i.map(((l,i)=>{if("discount"==l.type){let i=l.val?l.val:0;if("percent"==l.val_type){let s=0;l.hasOwnProperty("tax_cal")&&l.tax_cal||(s=a);let r=0;(l.hasOwnProperty("fee_cal")?l.fee_cal:"")||(r=n),e+=(t+s+r)*(i/100)}else e+=parseFloat(i)}})),e})(),t})())))))},D=e=>{(0,n.useEffect)((()=>{e.currentTemplate}),[]);const t=ndpv.i18n,a=ndpv.assetImgUri+"template/";return(0,n.createElement)("div",{id:"pv-tab-template",className:"pv-invoice-tab-content"},(0,n.createElement)("h2",{className:"pv-page-title"},t.select," ",t.template),(0,n.createElement)("div",{className:"row pv-gap pv-margin-l-r"},[{id:5,est_src:"estimate-5.png",inv_src:"invoice-5.png"},{id:6,est_src:"estimate-6.png",inv_src:"invoice-6.png"},{id:7,est_src:"estimate-7.png",inv_src:"invoice-7.png"},{id:8,est_src:"estimate-8.png",inv_src:"invoice-8.png"},{id:1,est_src:"estimate-1.png",inv_src:"invoice-1.png"},{id:2,est_src:"estimate-2.png",inv_src:"invoice-2.png"},{id:3,est_src:"estimate-3.png",inv_src:"invoice-3.png"},{id:4,est_src:"estimate-4.png",inv_src:"invoice-4.png"}].map(((l,i)=>(0,n.createElement)("div",{className:"col-12 col-md-6 col-lg-3",key:i},(0,n.createElement)("div",{className:"pv-single-image-content"},(0,n.createElement)("img",{src:"invoice"==e.path?a+l.inv_src:a+l.est_src,className:"pv-single-image "+(e.currentTemplate==l.id?"pv-active":"")}),e.currentTemplate!=l.id&&(0,n.createElement)("div",{className:"pv-overflow-content"},(0,n.createElement)("a",{className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue",onClick:()=>{return t=l,void(wage.length>0&&t.pro?(0,d.A)():e.changeHandler(t,!0));var t}},t.select," ",l.pro&&(0,n.createElement)(m.A,{blueBtn:!0})),(0,n.createElement)("a",{href:"https://propovoice.com/template/preview/inv"+l.id+".html",target:"_blank",style:{display:"none"},className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-hover-stroke pv-bg-shadow"},t.full_prv))))))))};var M=a(57240),T=a.n(M),R=a(55326),P=a(71204);class H extends n.Component{constructor(e){super(e),this.state={client_url:""},this.client_url=l().createRef()}componentDidMount(){let e=this.props.data;if(null==e.fromData||null==e.toData)return void o.oR.error("First fill up necessary information, From content tab");let t=this.props.data.invoice.id,a=this.props.data.invoice.token,n=("invoice"==this.props.path?ndpv.invoice_page_url:ndpv.estimate_page_url).replace("invoice_id",t).replace("invoice_token",a);this.setState({client_url:n})}copyToClipboard=e=>{this.client_url.select(),document.execCommand("copy"),e.target.focus(),o.oR.success(ndpv.i18n.cc)};render(){const e=ndpv.i18n;let t="invoice"==this.props.path?e.inv:e.est;const a=this.state.client_url;return(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content pv-modal-style-three pv-modal-medium"},(0,n.createElement)("div",{className:"pv-modal-header"},(0,n.createElement)("h2",{className:"pv-modal-title pv-text-center"},"Share ",t),(0,n.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,n.createElement)(u.OM,null))),(0,n.createElement)("div",{className:"pv-content"},(0,n.createElement)("div",{className:"pv-form-style-one"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("div",{className:"pv-field-copy"},(0,n.createElement)("input",{type:"text",id:"name",name:"name",value:a,ref:e=>this.client_url=e,readOnly:!0}),(0,n.createElement)("span",{className:"pv-copy",onClick:this.copyToClipboard},"Copy")))),(0,n.createElement)("div",{className:"pv-field-share"},(0,n.createElement)("a",{href:"https://api.whatsapp.com/send?text="+encodeURIComponent(a),target:"_blank",className:"pv-social-icon"},(0,n.createElement)("span",{className:"pv-whatsapp",style:{background:"#E9FBEF"}},(0,n.createElement)("svg",{width:40,height:40,viewBox:"0 0 42 42",fill:"none"},(0,n.createElement)("path",{d:"M11.0516 36.2279L11.7338 36.577C14.5765 38.322 17.7601 39.1363 20.9439 39.1363C30.9498 39.1363 39.1365 30.7602 39.1365 20.5227C39.1365 15.6367 37.2034 10.8669 33.7924 7.37679C30.3813 3.88668 25.833 1.90906 20.9439 1.90906C10.938 1.90906 2.75117 10.2852 2.86494 20.6391C2.86494 24.129 3.88827 27.5029 5.59377 30.4111L6.04855 31.1093L4.22944 37.9731L11.0516 36.2279Z",fill:"#00E676"}),(0,n.createElement)("path",{d:"M35.9345 6.12972C32.0435 2.15683 26.6648 0 21.1716 0C9.49874 0 0.114514 9.42159 0.228864 20.8864C0.228864 24.5189 1.25883 28.0379 2.97555 31.2162L0 42L11.1008 39.1621C14.1907 40.865 17.6238 41.6596 21.0573 41.6596C32.6158 41.6596 42 32.2378 42 20.7732C42 15.2109 39.8256 9.98919 35.9347 6.12972H35.9345ZM21.1716 38.1407C18.0817 38.1407 14.9918 37.3462 12.3596 35.757L11.673 35.4164L5.03549 37.1191L6.75205 30.6489L6.29432 29.9677C1.25883 21.9084 3.66215 11.2378 11.9019 6.24314C20.1416 1.24863 30.7847 3.63246 35.8202 11.8054C40.8555 19.9784 38.4522 30.5352 30.2126 35.5299C27.5803 37.2325 24.376 38.1405 21.1716 38.1405V38.1407ZM31.2424 25.5408L29.9836 24.9732C29.9836 24.9732 28.1527 24.1786 27.0082 23.611C26.8937 23.611 26.7793 23.4974 26.6648 23.4974C26.3214 23.4974 26.0926 23.611 25.8637 23.7246C25.8637 23.7246 25.7494 23.838 24.1472 25.6542C24.0326 25.8813 23.8038 25.9948 23.5749 25.9948H23.4604C23.3461 25.9948 23.1172 25.8813 23.0027 25.7678L22.4304 25.5408C21.1716 24.9732 20.0273 24.292 19.1117 23.384C18.8828 23.157 18.5394 22.93 18.3106 22.703C17.5095 21.9084 16.7084 21.0002 16.1363 19.9785L16.0218 19.7515C15.9074 19.6379 15.9074 19.5245 15.7929 19.2975C15.7929 19.0705 15.7929 18.8435 15.9074 18.7299C15.9074 18.7299 16.3651 18.1623 16.7084 17.8219C16.9374 17.5947 17.0517 17.2543 17.2806 17.0273C17.5095 16.6867 17.624 16.2327 17.5095 15.8921C17.3951 15.3245 16.0218 12.2596 15.6786 11.5786C15.4495 11.238 15.2208 11.1246 14.8774 11.011H13.6186C13.3896 11.011 13.1609 11.1246 12.9319 11.1246L12.8173 11.238C12.5885 11.3516 12.3596 11.5786 12.1308 11.692C11.9019 11.9192 11.7874 12.146 11.5585 12.3732C10.7574 13.3948 10.2997 14.6434 10.2997 15.8921C10.2997 16.8001 10.5285 17.7083 10.8719 18.5029L10.9864 18.8435C12.0164 21.0002 13.3896 22.93 15.2208 24.6326L15.6786 25.0866C16.0218 25.4272 16.3651 25.6542 16.594 25.9947C18.9973 28.0381 21.7438 29.5137 24.8338 30.3083C25.1771 30.4217 25.6349 30.4217 25.9782 30.5353H27.1226C27.6948 30.5353 28.3814 30.3083 28.8393 30.0813C29.1825 29.8543 29.4114 29.8543 29.6402 29.6273L29.8692 29.4001C30.0981 29.1731 30.327 29.0597 30.5558 28.8327C30.7847 28.6057 31.0136 28.3787 31.1281 28.1515C31.3569 27.6975 31.4713 27.1299 31.5858 26.5624V25.7678C31.5858 25.7678 31.4713 25.6542 31.2424 25.5408Z",fill:"white"}))),(0,n.createElement)("p",null,"Whatsapp")),(0,n.createElement)("a",{href:"https://messenger.com",target:"_blank",className:"pv-social-icon"},(0,n.createElement)("span",{className:"pv-messenger",style:{background:"rgba(0, 123, 255, 0.1)"}},(0,n.createElement)("svg",{width:35,height:40,viewBox:"0 0 44 44",fill:"none"},(0,n.createElement)("path",{d:"M22 0C9.592 0 0 9.08634 0 21.3408C0 27.743 2.618 33.3092 6.908 37.1154C7.26 37.4014 7.48 37.8854 7.502 38.3694L7.612 42.2856C7.7 43.5396 8.954 44.3537 10.098 43.8476L14.454 41.9336C14.828 41.8016 15.246 41.7356 15.62 41.8016C17.6 42.3956 19.8 42.6816 22 42.6816C34.408 42.6816 44 33.5953 44 21.3408C44 9.08634 34.408 0 22 0ZM35.2 16.4126L28.754 26.687C27.72 28.2931 25.52 28.7111 23.98 27.501L18.832 23.6949C18.6035 23.5235 18.3256 23.4309 18.04 23.4309C17.7544 23.4309 17.4765 23.5235 17.248 23.6949L10.296 28.9751C9.372 29.7011 8.162 28.6011 8.8 27.589L15.246 17.3146C16.28 15.7086 18.48 15.2906 20.02 16.4346L25.168 20.3068C25.3965 20.4781 25.6744 20.5708 25.96 20.5708C26.2456 20.5708 26.5235 20.4781 26.752 20.3068L33.704 15.0266C34.628 14.3005 35.838 15.4006 35.2 16.4126Z",fill:"#007BFF"}))),(0,n.createElement)("p",null,"Messenger")),(0,n.createElement)("a",{href:"https://telegram.me/share/url?url="+encodeURIComponent(a),target:"_blank",className:"pv-social-icon"},(0,n.createElement)("span",{className:"pv-telegrame",style:{background:"rgba(64, 179, 224, 0.08)"}},(0,n.createElement)("svg",{width:35,height:35,viewBox:"0 0 41 36",fill:"none"},(0,n.createElement)("path",{d:"M40.0308 2.13324L33.7792 33.6521C33.7792 33.6521 32.905 35.838 30.5007 34.7888L16.0747 23.7288L10.8291 21.1935L1.99868 18.2207C1.99868 18.2207 0.643519 17.74 0.512269 16.6908C0.381019 15.6416 2.04243 15.0734 2.04243 15.0734L37.1452 1.30309C37.1452 1.30309 40.0305 0.0354299 40.0305 2.13379",fill:"#40B3E0"}),(0,n.createElement)("path",{d:"M14.9657 33.2976C14.9657 33.2976 14.5446 33.2582 14.0196 31.5968C13.4954 29.9357 10.8286 21.1928 10.8286 21.1928L32.0304 7.72875C32.0304 7.72875 33.2546 6.98555 33.2108 7.72875C33.2108 7.72875 33.4293 7.86 32.7733 8.47195C32.1179 9.08418 16.1183 23.4662 16.1183 23.4662",fill:"#1F97C6"}))),(0,n.createElement)("p",null,"Telegrame")),(0,n.createElement)("a",{href:"https://web.skype.com/share?url="+encodeURIComponent(a),target:"_blank",className:"pv-social-icon"},(0,n.createElement)("span",{className:"pv-skype",style:{background:"rgba(0, 175, 240, 0.08)"}},(0,n.createElement)("svg",{width:35,height:35,viewBox:"0 0 42 45",fill:"none"},(0,n.createElement)("path",{d:"M40.5134 24.5059C40.5001 24.5799 40.4908 24.6548 40.4768 24.7288L40.405 24.3046C40.4444 24.3707 40.4768 24.4393 40.5134 24.5059C40.7322 23.3172 40.8428 22.1111 40.844 20.9023C40.844 18.2187 40.3198 15.615 39.2843 13.1641C38.2851 10.7965 36.8558 8.67024 35.0334 6.84475C33.2136 5.01926 31.091 3.58634 28.7305 2.58495C26.2861 1.54821 23.6888 1.02277 21.0116 1.02277C19.75 1.02277 18.4861 1.1415 17.2563 1.37816C17.2536 1.37882 17.2504 1.37882 17.2469 1.37948C17.3161 1.41615 17.386 1.44888 17.4538 1.48687L17.0367 1.42141C17.1066 1.40826 17.1772 1.39345 17.2469 1.37948C15.5597 0.480218 13.6618 0 11.741 0C8.60508 0 5.65638 1.22406 3.43875 3.4477C1.22177 5.67068 0 8.62633 0 11.7699C0.00106457 13.7668 0.509448 15.7306 1.47722 17.476C1.48985 17.404 1.49855 17.3313 1.51249 17.2592L1.58435 17.676C1.54711 17.6107 1.51446 17.5426 1.47722 17.476C1.27983 18.6074 1.17993 19.7537 1.17862 20.9023C1.17862 23.5866 1.7028 26.1896 2.73837 28.6412C3.73603 31.0094 5.16616 33.1342 6.9866 34.9597C8.80901 36.7854 10.9289 38.2203 13.292 39.219C15.7365 40.2577 18.3345 40.7838 21.0116 40.7838C22.177 40.7838 23.3449 40.6771 24.4849 40.4745C24.4184 40.4372 24.3506 40.4031 24.2827 40.3638L24.7065 40.4385C24.6333 40.4524 24.5593 40.4612 24.4849 40.4745C26.2466 41.474 28.2366 41.9996 30.261 42C33.3964 42 36.3436 40.7777 38.5612 38.5536C40.7794 36.3319 42 33.3756 42 30.232C41.9989 28.2276 41.4872 26.2565 40.5134 24.5059ZM21.0907 33.0776C14.0451 33.0776 10.8929 29.6053 10.8929 27.0031C10.8929 25.6681 11.876 24.7327 13.2308 24.7327C16.246 24.7327 15.465 29.0726 21.0907 29.0726C23.9708 29.0726 25.5611 27.505 25.5611 25.9009C25.5611 24.9361 25.0863 23.8665 23.1899 23.3978L16.923 21.8297C11.876 20.5609 10.96 17.826 10.96 15.255C10.96 9.91716 15.9738 7.91291 20.6824 7.91291C25.0197 7.91291 30.1327 10.3158 30.1327 13.5181C30.1327 14.8904 28.9474 15.6883 27.593 15.6883C25.0197 15.6883 25.4933 12.1179 20.31 12.1179C17.7378 12.1179 16.3131 13.2856 16.3131 14.9563C16.3131 16.6239 18.3445 17.1566 20.1083 17.5592L24.747 18.5913C29.828 19.7261 31.1164 22.6998 31.1164 25.5007C31.1164 29.8386 27.7946 33.0776 21.0907 33.0776ZM24.2827 40.3638C24.3506 40.4031 24.4184 40.4372 24.4849 40.4745C24.5593 40.4612 24.6333 40.4524 24.7065 40.4385L24.2827 40.3638ZM40.4768 24.7288C40.4908 24.6548 40.5001 24.5799 40.5134 24.5059C40.4768 24.4393 40.4444 24.3707 40.405 24.3046L40.4768 24.7288ZM1.51249 17.2592C1.49855 17.3313 1.48985 17.404 1.47722 17.476C1.51446 17.5426 1.54711 17.6107 1.58435 17.676L1.51249 17.2592ZM17.4538 1.48687C17.386 1.44888 17.3161 1.41615 17.2469 1.37948C17.1772 1.39345 17.1066 1.40826 17.0367 1.42141L17.4538 1.48687Z",fill:"#00AFF0"}))),(0,n.createElement)("p",null,"Skype")))))))}}const I=H;var z=a(76154),B=a.n(z);class q extends n.Component{constructor(e){super(e),this.state={submitPreloader:!1,form:{invoice_id:null,path:"",fromData:{id:"",email:""},toData:{id:"",name:"",email:""},subject:"",msg:"",invoice_img:null}}}handleChange=e=>{const{name:t,value:a}=e.target;this.setState({form:{...this.state.form,[t]:a}})};convertDate=e=>B()(e).format(ndpv.date_format);calcItemsTotal=()=>this.props.data.invoice.items.reduce(((e,t)=>e+t.qty*t.price),0);calcGrandTotal=()=>{let e=this.calcItemsTotal(),t=e;return this.props.data.invoice.extra_field.map(((a,n)=>{"percent"==a.val_type?"tax"==a.type||"fee"==a.type?t+=e*(a.val/100):t-=e*(a.val/100):"tax"==a.type||"fee"==a.type?t+=parseFloat(a.val):t-=parseFloat(a.val)})),t};componentDidMount(){let e=this.props.data;if(null==e.fromData||null==e.toData)return void o.oR.error("First fill up necessary information, From content tab");let t=this.props.path,a="invoice"==t?ndpv.i18n.inv:ndpv.i18n.est,n={...this.state.form},l=e.invoice.id,i=e.invoice.currency,s=this.convertDate(e.invoice.date),r=this.convertDate(e.invoice.due_date),c=this.calcGrandTotal(),m=e.fromData.name,d="person"==e.toData.type?e.toData.first_name:e.toData.org_name;n.invoice_id=l,n.title=a,n.path="invoice"==t?"invoice":"estimate",n.fromData={id:e.fromData.id,name:m,email:e.fromData.email},n.toData={id:e.toData.id,name:d,email:e.toData.email};let p=this.props.mail,h=p.subject.replaceAll("{id}",l).replaceAll("{client_name}",d).replaceAll("{org_name}",m),v=p.msg.replaceAll("{id}",l).replaceAll("{org_name}",m).replaceAll("{client_name}",d).replaceAll("{date}",s).replaceAll("{due_date}",r).replaceAll("{amount}",c+" "+i);n.subject=h,n.msg=v,this.setState({form:n})}handleSubmit=e=>{e.preventDefault(),this.sendEmail()};sendEmail=()=>{let e={...this.state.form};e.type="sent",this.setState({submitPreloader:!0}),c.A.add("emails",e).then((e=>{this.setState({submitPreloader:!1}),e.data.success?(o.oR.success(ndpv.i18n.aMail),this.props.close()):e.data.data.forEach((function(e){o.oR.error(e)}))}))};render(){let e=this.props.path,t="invoice"==e?ndpv.i18n.inv:ndpv.i18n.est;const a=ndpv.i18n,{submitPreloader:l,form:i}=this.state;return(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content"},(0,n.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,n.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,n.createElement)(u.OM,null)),(0,n.createElement)("h2",{className:"pv-modal-title"},a.email," ",t),(0,n.createElement)("p",null,a.email," ",e," ",a.here)),(0,n.createElement)("form",{onSubmit:this.handleSubmit},(0,n.createElement)("div",{className:"pv-content"},(0,n.createElement)("div",{className:"pv-form-style-one"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-name"},a.client," ",a.name),(0,n.createElement)("input",{id:"form-name",type:"text",required:!0,readOnly:!0,name:"name",value:i.toData.name,onChange:this.handleChange})),(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-email"},a.email),(0,n.createElement)("input",{id:"form-email",type:"text",required:!0,readOnly:!0,name:"email",value:i.toData.email,onChange:this.handleChange}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},(0,n.createElement)("label",{htmlFor:"form-subject"},a.sub),(0,n.createElement)("input",{id:"form-subject",type:"text",required:!0,name:"subject",value:i.subject,onChange:this.handleChange}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},(0,n.createElement)("label",{htmlFor:"form-msg"},a.msg),(0,n.createElement)("textarea",{id:"form-msg",rows:8,name:"msg",value:i.msg,onChange:this.handleChange}))))),(0,n.createElement)("div",{className:"pv-modal-footer"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},(0,n.createElement)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:()=>this.props.close()},a.cancel)),(0,n.createElement)("div",{className:"col"},(0,n.createElement)("button",{type:"submit",disabled:l,className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-btn-big pv-float-right pv-color-white"},l&&(0,n.createElement)(p.A,{submit:!0})," ",a.send_email)))))))}}const O=e=>{let t="invoice"==e.path?ndpv.i18n.inv:ndpv.i18n.est;return e.inv&&e.inv.hasOwnProperty("status")&&("paid"==e.inv.status||"accept"==e.inv.status)?(0,n.createElement)(n.Fragment,null):(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-hover-stroke pv-bg-shadow pv-mr-5",onClick:()=>e.handleEdit()},(0,n.createElement)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none"},(0,n.createElement)("path",{d:"M12.5 3.505L11.167 4.84V1.667h-6v3.334H1.833v7.333h9.334v-1.838L12.5 9.163v3.843a.662.662 0 01-.662.661H1.162a.666.666 0 01-.662-.671V4.334l4.002-4h7.33a.67.67 0 01.668.661v2.51zm.519 1.367l.942.943-5.185 5.186-.944-.002.001-.941 5.186-5.185v-.001z",fill:"#2D3748"})),ndpv.i18n.edit," ",t)},$=e=>{const t=ndpv.i18n,a={filename:e.data.invoice.num,method:"save",resolution:P.jg.HIGH,page:{margin:P.R5.SMALL,format:"A4",orientation:"portrait"},canvas:{mimeType:"image/jpeg",qualityRatio:1},overrides:{pdf:{compress:!0},canvas:{useCORS:!0}}};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-hover-stroke pv-bg-shadow pv-mr-5",onClick:()=>(0,P.Ay)(e.content,a)},(0,n.createElement)("svg",{width:12,height:14,viewBox:"0 0 12 14",fill:"none"},(0,n.createElement)("path",{d:"M6.667 7h2L6 9.668 3.333 7.001h2V4.334h1.334v2.667zM8 1.668H1.333v10.667h9.334v-8H8V1.667zM0 .995C0 .63.298.334.666.334h8L12 3.667v9.329a.666.666 0 01-.662.671H.662A.666.666 0 010 13.006V.996z",fill:"#2D3748"})),t.down))};class j extends n.Component{constructor(e){super(e),this.state={previewHeight:"auto",mail:{subject:"",msg:""}},this.previewRef=l().createRef()}componentDidMount(){this.isPrvwLoad(),c.A.get("settings","tab=email_"+this.props.path+"_default").then((e=>{e.data.success&&this.setState({mail:e.data.data})}))}isPrvwLoad=()=>{let e=this.previewRef.current;if(e){let t="auto";t=e.clientHeight>1024?1024*Math.ceil(e.clientHeight/1024)+"px":"1024px",this.setState({previewHeight:t})}};render(){const e=ndpv.i18n;return(0,n.createElement)("div",{id:"pv-tab-share",className:"pv-invoice-tab-content"},(0,n.createElement)("h2",{className:"pv-page-title"},e.prv," ",e.nd," ",e.share),(0,n.createElement)("iframe",{id:"ndpv-invoice-print",style:{height:0,width:0,position:"absolute"}}),(0,n.createElement)("div",{className:"row justify-content-md-center",style:{overflow:"hidden"}},(0,n.createElement)("div",{className:"col-md-8",style:{margin:"50px 0 30px 0"}},(0,n.createElement)("div",{className:"",style:{width:"788px",margin:"0 auto"}},(0,n.createElement)("div",{className:"pv-float-left"},(0,n.createElement)(O,{componentRef:this.componentRef,inv:this.props.data.invoice,path:this.props.path,handleEdit:this.props.editTab}),(0,n.createElement)($,{data:this.props.data,content:()=>this.componentRef}),(0,n.createElement)(T(),{content:()=>this.componentRef,trigger:()=>(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-hover-stroke pv-bg-shadow pv-mr-5"},(0,n.createElement)("svg",{width:15,height:14,viewBox:"0 0 15 14",fill:"none"},(0,n.createElement)("path",{d:"M3.5 11.667h-2a.667.667 0 01-.667-.666V4.334a.667.667 0 01.667-.667h2V1.001a.667.667 0 01.667-.667h6.666a.667.667 0 01.667.667v2.666h2a.666.666 0 01.667.667v6.667a.667.667 0 01-.667.666h-2v1.334a.667.667 0 01-.667.666H4.167a.667.667 0 01-.667-.666v-1.334zm0-1.333v-.667a.667.667 0 01.667-.666h6.666a.667.667 0 01.667.666v.667h1.333V5.001H2.167v5.333H3.5zm1.333-8.667v2h5.334v-2H4.833zm0 8.667v2h5.334v-2H4.833zm-2-4.667h2v1.334h-2V5.667z",fill:"#2D3748"})),e.print)})),(0,n.createElement)("div",{className:"pv-float-right"},(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-hover-stroke pv-bg-shadow pv-mr-5 pv-br-4",onClick:()=>this.props.showShareModal()},(0,n.createElement)("svg",{width:14,height:12,viewBox:"0 0 14 12",fill:"none"},(0,n.createElement)("path",{d:"M6.667 8.333H5.333a6 6 0 00-5.312 3.206 6.667 6.667 0 016.645-7.207V.667l7 5.667-7 5.666V8.333zM5.333 6.999H8v2.206l3.547-2.872L8 3.46v2.205H6.667a5.321 5.321 0 00-4.038 1.849 7.325 7.325 0 012.704-.516z",fill:"#2D3748"})),e.share)))),(0,n.createElement)("div",{className:"col-md-8"},(0,n.createElement)("div",{className:"pv-inv-hidden-preview",style:{position:"absolute",left:9999},ref:this.previewRef},this.props.data.fromData&&(0,n.createElement)(R.default,{...this.props,isPrvwLoad:this.isPrvwLoad})),(0,n.createElement)("div",{className:"pv-inv-preview-wrap"},(0,n.createElement)("div",{className:"pv-inv-preview",ref:e=>this.componentRef=e},this.props.data.fromData&&(0,n.createElement)(R.default,{...this.props,height:this.state.previewHeight})))),(0,n.createElement)("div",{className:"col-md-8",style:{margin:"30px 0"}},(0,n.createElement)("div",{className:"",style:{width:"788px",margin:"0 auto"}},(0,n.createElement)("div",{className:"pv-float-left"},(0,n.createElement)(O,{componentRef:this.componentRef,inv:this.props.data.invoice,path:this.props.path,handleEdit:this.props.editTab}),(0,n.createElement)($,{data:this.props.data,content:()=>this.componentRef}),(0,n.createElement)(T(),{content:()=>this.componentRef,trigger:()=>(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-hover-stroke pv-bg-shadow pv-mr-5"},(0,n.createElement)("svg",{width:15,height:14,viewBox:"0 0 15 14",fill:"none"},(0,n.createElement)("path",{d:"M3.5 11.667h-2a.667.667 0 01-.667-.666V4.334a.667.667 0 01.667-.667h2V1.001a.667.667 0 01.667-.667h6.666a.667.667 0 01.667.667v2.666h2a.666.666 0 01.667.667v6.667a.667.667 0 01-.667.666h-2v1.334a.667.667 0 01-.667.666H4.167a.667.667 0 01-.667-.666v-1.334zm0-1.333v-.667a.667.667 0 01.667-.666h6.666a.667.667 0 01.667.666v.667h1.333V5.001H2.167v5.333H3.5zm1.333-8.667v2h5.334v-2H4.833zm0 8.667v2h5.334v-2H4.833zm-2-4.667h2v1.334h-2V5.667z",fill:"#2D3748"})),e.print)})),(0,n.createElement)("div",{className:"pv-float-right"},(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-hover-stroke pv-bg-shadow pv-mr-5 pv-br-4",onClick:()=>this.props.showShareModal()},(0,n.createElement)("svg",{width:14,height:12,viewBox:"0 0 14 12",fill:"none"},(0,n.createElement)("path",{d:"M6.667 8.333H5.333a6 6 0 00-5.312 3.206 6.667 6.667 0 016.645-7.207V.667l7 5.667-7 5.666V8.333zM5.333 6.999H8v2.206l3.547-2.872L8 3.46v2.205H6.667a5.321 5.321 0 00-4.038 1.849 7.325 7.325 0 012.704-.516z",fill:"#2D3748"})),e.share),(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-hover-blue pv-bg-blue pv-bg-shadow pv-br-4",style:{position:"relative",top:"-2px"},onClick:()=>this.props.showEmailModal()},e.send_email,(0,n.createElement)("svg",{className:"pv-ml-10 pv-mr-0",width:6,height:12,viewBox:"0 0 6 9",fill:"none"},(0,n.createElement)("path",{d:"M3.8 4.24267L0.5 0.942667L1.44267 0L5.68533 4.24267L1.44267 8.48533L0.5 7.54267L3.8 4.24267Z",fill:"white"}))))))),this.props.shareModal&&(0,n.createElement)(I,{data:this.props.data,path:this.props.path,close:this.props.closeShareModal}),this.props.emailModal&&(0,n.createElement)(q,{data:this.props.data,mail:this.state.mail,path:this.props.path,close:this.props.closeEmailModal}))}}function V({title:e,children:t,buttons:a=[],showModal:l,setShowModal:i=(()=>{}),isFileSelected:s}){const r=(0,n.createElement)("div",{className:"pv-modal-header"},(0,n.createElement)("h2",{className:"pv-modal-title pv-text-center"},e),(0,n.createElement)("span",{className:"pv-close",onClick:()=>i(!1)},(0,n.createElement)(u.BS,{name:"x",style:"blue"}))),o=(0,n.createElement)("div",{style:{padding:"0 50px 30px"}},a.filter((e=>!!s||"insert"!==e.slug&&"remove"!==e.slug)).map(((e,t)=>(0,n.createElement)(E.$n,{key:t,...e}))));return(0,n.createElement)(n.Fragment,null,l&&(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content"},r,(0,n.createElement)("div",{className:"pv-content",style:{paddingBottom:"30px",textAlign:"left"}},(0,n.createElement)("div",null,t)),o)))}var U=a(74263);function Z({title:e,attachType:t,showModal:a,setShowModal:l,changeHandler:i,setMedia:s}){const[r,c]=(0,n.useState)([]),[m,d]=(0,n.useState)({id:"",src:"",type:""}),p=(0,n.useRef)(null);(0,n.useEffect)((()=>{h(t)}),[m]);const h=e=>{U.A.getAttachment(e).then((e=>{c(e.data)}))},v=[{label:"Remove",slug:"remove",iconName:"x",size:"medium",handleClick:()=>{m.id?confirm("Are you sure to remove?")&&U.A.remove(m.id).then((e=>{d({}),h(t)})):o.oR.error("Select a image first!!!")}},{label:"Upload",slug:"upload",iconName:"upload",size:"medium",handleClick:()=>{p.current.click()}},{label:"Insert",slug:"insert",iconName:"tick",size:"medium",handleClick:()=>{m.id?(((e,t)=>{U.A.setDefaultAttachment(e,t).then((e=>{}))})(t,m.id),i(m),s(m),l(!1)):o.oR.error("Select a image first!!!")}}];return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(V,{title:e,buttons:v,showModal:a,setShowModal:l,isFileSelected:m.id},r.map((e=>{const t=e.ID===m?.id?{border:"2px solid green",padding:"2px"}:{border:"1px solid #dfdfdf",padding:"3px"};return(0,n.createElement)(W,{key:e.ID,imgData:{id:e.ID,src:e.guid,type:e.post_mime_type},setSelectedFile:d,wrapperStyle:t})}))),(0,n.createElement)("input",{type:"file",ref:p,onChange:e=>{(e=>{const a=new FormData;a.append("file",e),a.append("attach_type",t),a.append("permission",!0),U.A.create(a).then((e=>{if(e.data.success){const t=e.data.data;d({id:t.id,src:t.src,type:t.type})}else e.data.data.forEach((function(e){o.oR.error(e)}))}))})(e.target.files[0])},style:{display:"none"}}))}function W({imgData:e,setSelectedFile:t,wrapperStyle:a}){return(0,n.createElement)("div",{style:{display:"inline-block",margin:"5px",...a}},(0,n.createElement)("img",{src:e.src,width:"120",height:"32",onClick:()=>{t(e)}}))}function G({data:e,changeHandler:t,handleRemoveSign:a}){const[l,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(e);(0,n.useEffect)((()=>{e?.id||o()}),[]);const o=()=>{U.A.getDefaultAttachment("signature").then((e=>{if(e.data){const a=e.data,n={id:a?.ID,src:a?.guid,type:a?.post_mime_type};r(n),t(n)}}))},c=()=>{i(!0)},m=(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"pv-field-logo ",style:{position:"relative",border:"1px solid #dfdfdf",padding:"2px",display:"inline-block"}},(0,n.createElement)("img",{src:s?.src,width:"300",height:"80"}),(0,n.createElement)("div",{className:"pv-field-logo-close",style:{position:"absolute",top:"-5px",right:"-5px",cursor:"pointer",zIndex:"10",textAlign:"center",border:"1px solid #dfdfdf",borderRadius:"50%",backgroundColor:"white",width:"22px",height:"22px"},onClick:()=>{r(null),t(null)}},"×"))),d=ndpv.i18n;return(0,n.createElement)(n.Fragment,null,!s&&(()=>{const e=ndpv.i18n;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(E.$n,{label:e.authSign,iconName:"upload",handleClick:c,buttonStyle:"white",size:"medium"}))})(),s&&m,l&&(0,n.createElement)(Z,{title:d.authSign,attachType:"signature",showModal:l,setShowModal:i,changeHandler:t,setMedia:r}))}const Y=(0,n.lazy)((()=>Promise.all([a.e(2719),a.e(4428)]).then(a.bind(a,94428)))),K=(0,n.lazy)((()=>Promise.all([a.e(1294),a.e(8043)]).then(a.bind(a,38043)))),J=(0,n.lazy)((()=>Promise.resolve().then(a.bind(a,55326)))),Q=(0,n.lazy)((()=>a.e(8541).then(a.bind(a,78541)))),X=(0,n.lazy)((()=>a.e(7848).then(a.bind(a,97848)))),ee=(0,n.lazy)((()=>a.e(1433).then(a.bind(a,41433)))),te=(0,n.lazy)((()=>a.e(7532).then(a.bind(a,97532)))),ae=(0,n.lazy)((()=>a.e(7722).then(a.bind(a,77722)))),ne=(0,n.lazy)((()=>a.e(5235).then(a.bind(a,85235))));class le extends n.Component{constructor(e){super(e);const t=ndpv.i18n;this.state={preload:!0,submitPreloader:!1,title:"",tabs:[{id:"template",text:t.select+" "+t.template},{id:"info",text:t.add+" "+t.con},{id:"preview",text:t.prv+" "+t.nd+" "+t.share}],sidebarActive:"",currentTab:"",currentTabIndex:null,msg:{saveTxt:ndpv.i18n.save},shareModal:!1,emailModal:!1,fromData:null,toData:null,paymentBankData:null,prefix:"",invoice:{id:null,num:"",token:"",style:{primary_color:"#4c6fff",body_font:"",title_font:""},date:new Date,due_date:new Date,currency:"USD",lang:"en",template:null,from:null,to:null,to_type:"",module_id:null,project:{id:null,title:"",desc:""},top_sections:null,item_label:{id:t.id,desc:t.desc,qty:t.qty,price:t.rate,tax:t.tax,amount:t.amt},items:[{id:"init",title:"",desc:"",qty:1,qty_type:"",price:0,tax:0,tax_type:"fixed"}],paid:0,item_tax:!1,extra_field:[],payment_methods:{},reminder:{status:!1,due_date:!1,before:[],after:[]},recurring:{status:!1,interval_type:"week",interval_in:"month",interval:1,limit_type:0,limit:5,subscription:!1,send_me:!1,delivery:1},sections:null,attach:[],sign:null},wc:!1,qty_type:"",previewHeight:"",previewScale:""},this.setSidebarActive=this.setSidebarActive.bind(this),this.sidebarRef=l().createRef(),this.reminderRef=l().createRef(),this.recurringRef=l().createRef()}isPrvwLoad=()=>{let e=document.getElementById("pv-right-sidebar");e&&setTimeout((()=>{let t=Math.min(e.clientWidth/796,e.clientHeight/1122);this.state.previewScale!=t&&this.setState({previewScale:t})}),700)};componentDidMount(){let e="invoice"==this.props.path?ndpv.i18n.inv:ndpv.i18n.est,t="invoice"==this.props.path?"invoice":"estimate";if(this.props.id)"preview"==this.props.tab?this.setState({title:e,currentTab:"preview",currentTabIndex:2}):this.setState({title:e,currentTab:"info",currentTabIndex:1}),this.updateEdit(),this.getData(this.props.id,!0);else{this.getData("0?path="+t,!1);let a=new Date,n=new Date(a);n.setDate(n.getDate()+30);let l={...this.state.invoice};l.due_date=n,l.path=t,this.props.module_id&&(l.module_id=parseInt(this.props.module_id)),this.state.title||this.setState({title:e,currentTab:"template",currentTabIndex:0,invoice:l})}this.bgColor()}componentDidUpdate(){this.isPrvwLoad(),this.bgColor()}componentWillUnmount(){document.body.style.backgroundColor="#fff"}bgColor=()=>{"info"==this.state.currentTab||"preview"==this.state.currentTab?document.body.style.backgroundColor="#f7f8fa":document.body.style.backgroundColor="#fff"};updateEdit=(e="")=>{let t={...this.state.msg};if(t.saveTxt=ndpv.i18n.upd,e){let a={...this.state.invoice};a.id=e.id,a.token=e.token,e.auto_id&&(a.num=e.auto_id),this.setState({msg:t,invoice:a})}else this.setState({msg:t})};getData=(e,t)=>{c.A.getS("invoices",e).then((e=>{let a=e.data.data;if(t){let e=a.invoice;e.id=parseInt(a.id),e.token=a.token,e.date=new Date(a.invoice.date),e.due_date=new Date(a.invoice.due_date),e.status=a.status;let t=a.invoice.payment_methods;Array.isArray(t)&&!t.length&&(e.payment_methods={}),e.num=a.invoice.num?a.invoice.num:a.prefix+a.id,this.setState({preload:!1,invoice:e,status:a.status,fromData:a.fromData,toData:a.toData,paymentBankData:a.paymentBankData,wc:a.wc})}else{let e={...this.state.invoice};e.items[0].qty_type=a.qty_type,e.template=a.default_template,this.setState({preload:!1,prefix:a.prefix,invoice:e,qty_type:a.qty_type,wc:a.wc})}}))};onNumChange=e=>{if(wage.length>0)return void(0,d.A)();let t={...this.state.invoice};t.num=e.target.value,this.setState({invoice:t})};onDateChange=(e,t=null)=>{let a={...this.state.invoice};"date"==t?a.date=e:a.due_date=e,this.setState({invoice:a})};currencyChange=(e,t)=>{let a={...this.state.invoice};"lang"==t?a.lang=e:a.currency=e,this.setState({invoice:a})};onCurrencyDefault=e=>{let t={...this.state.invoice};t.currency=e.currency,t.lang=e.lang,this.setState({invoice:t})};handleSetFrom=e=>{let t={...this.state};t.fromData=e,t.invoice.from=e.id,this.setState(t)};handleSetTo=e=>{let t={...this.state};t.toData=e,t.invoice.to=e.id,t.invoice.to_type=e.type,this.setState(t)};handleSetFromTo=(e,t)=>{let a={...this.state};a.fromData=e,a.invoice.from=e.id,a.toData=t,a.invoice.to=t.id,a.invoice.to_type=t.type,this.setState(a)};handleTemplateChange=(e,t=!1)=>{let a={...this.state.invoice};a.template=e.id,t?this.setState({currentTab:"info",currentTabIndex:1,invoice:a}):this.setState({invoice:a})};handleSectionChange=(e,t=!1)=>{let a={...this.state.invoice};t?a.top_sections=e:a.sections=e,this.setState({invoice:a})};handleSignChange=(e,t=null)=>{let a={...this.state.invoice};a.sign=e,this.setState({invoice:a})};handleAttachChange=(e,t=null)=>{let a={...this.state.invoice};if("delete"==t){let t=a.attach.findIndex((function(t){return t.id===e}));-1!==t&&a.attach.splice(t,1)}else a.attach.push(e);this.setState({invoice:a})};itemTaxChange=e=>{let t={...this.state.invoice};const a=e.target,n=a.name,l="checkbox"==a.type?a.checked:a.value;t[n]=l,this.setState({invoice:t})};handleTotalChange=(e,t)=>{const{value:a}=e.target;let n={...this.state.invoice},l=n.extra_field.findIndex((e=>e.id==t.id));n.extra_field[l].val=a,this.setState({invoice:n})};handleLineItemChange=e=>t=>{let a={...this.state.invoice},n=this.state.invoice.items.map(((a,n)=>e!==n?a:{...a,[t.target.name]:t.target.value}));a.items=n,this.setState({invoice:a})};handleItemsValue=(e,t)=>{let a={...this.state.invoice},n=this.state.invoice.items.map(((a,n)=>e!==n?a:{...a,...t}));a.items=n,this.setState({invoice:a})};handleAddLineItem=()=>{let e={...this.state.invoice};e.items=e.items.concat([{id:Date.now().toString(),title:"",desc:"",qty:1,qty_type:this.state.qty_type,price:0,tax:0,tax_type:"fixed"}]),this.setState({invoice:e})};handleRemoveLineItem=e=>()=>{let t={...this.state.invoice};t.items=t.items.filter(((t,a)=>e!==a)),this.setState({invoice:t})};handleReorderItems=e=>{let t={...this.state.invoice};t.items=e,this.setState({invoice:t})};handleFocusSelect=e=>{e.target.select()};handleSave=()=>{let e=this.props.id;if(this.setState({submitPreloader:!0}),e)c.A.edit("invoices",e,this.state.invoice).then((e=>{this.setState({submitPreloader:!1}),e.data.success?(o.oR.success(ndpv.i18n.aUpd,{position:o.oR.POSITION.BOTTOM_RIGHT}),this.continueTab("info")):e.data.data.forEach((function(e){o.oR.error(e)}))}));else{let e={...this.state.invoice};c.A.add("invoices",e).then((e=>{this.setState({submitPreloader:!1}),e.data.success?(this.updateEdit(e.data.data),this.props.routeChange(e.data.data.id),o.oR.success(ndpv.i18n.aAdd,{position:o.oR.POSITION.BOTTOM_RIGHT}),this.continueTab("info")):e.data.data.forEach((function(e){o.oR.error(e)}))}))}};handleRemoveSign=()=>{const e={...this.state.invoice};e.sign=null,this.setState({invoice:e})};formatCurrency=e=>{const{currency:t,lang:a}=this.state.invoice;return new Intl.NumberFormat(a,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(e)};setActiveTab(e,t,a){if(e.preventDefault(),"info"==t&&!this.state.invoice.template)return void o.oR.error("Please select a template");if("preview"!=t){this.removePreviewFromUrl();let e=!0;switch(this.state.status){case"accept":case"decline":case"paid":"invoice"==this.props.path?o.oR.error("Paid Invoice is not editable"):"estimate"==this.props.path&&o.oR.error("Accepted or Declined Estimate is not editable"),e=!1}if(!e)return}if("preview"==t){if(!this.state.invoice.to)return void o.oR.error(ndpv.i18n.receiver_missing);this.handleSave()}const n={currentTab:t,currentTabIndex:a};"info"==t&&(n.sidebarActive=""),this.setState(n)}removePreviewFromUrl=()=>{const e=window.location.href.replace("/tab/preview","");window.location.assign(e)};editTab=()=>{this.setState({currentTab:"info",currentTabIndex:1}),window.scrollTo(0,0)};continueTab=e=>{let t=this.state.currentTab,a=0;"template"==e?(t="info",a=1):"info"==e&&(t="preview",a=2),this.setState({currentTab:t,currentTabIndex:a})};setSidebarActive(e){this.state.sidebarActive==e?this.setState({sidebarActive:""}):this.setState({sidebarActive:e})}onStyleChange=e=>{let t={...this.state.invoice};t.style=e,this.setState({invoice:t})};onItemLabelChange=e=>{let t={...this.state.invoice};t.item_label=e,this.setState({invoice:t})};onPaymentChange=(e,t,a=null)=>{let n={...this.state.invoice};"method"==t?n.payment_methods.hasOwnProperty(e)?(delete n.payment_methods[e],"bank"==e?this.setState({invoice:n,paymentBankData:null}):this.setState({invoice:n})):a?(n.payment_methods[e]=a.id,"bank"==a.type?this.setState({invoice:n,paymentBankData:a}):this.setState({invoice:n})):(n.payment_methods[e]=null,this.setState({invoice:n})):(n.payment_methods[e.type]=e.id,"bank"==e.type?this.setState({invoice:n,paymentBankData:e}):this.setState({invoice:n}))};onExtraFieldChange=(e,t,a,n)=>{let l={...this.state.invoice},i=l.extra_field.findIndex((e=>e.id==t.id));if("field"==a){if(-1!=i)l.extra_field.splice(i,1);else{let a={id:t.id,name:t.label,type:t.extra_amount_type,val:0,val_type:t.val_type};l.extra_field.splice(e,0,a)}this.setState({invoice:l})}else if("type"==a)l.extra_field[i].val_type=n,this.setState({invoice:l});else if("cal"==a){const e=n.target.name,t=n.target.value;l.extra_field[i][e]=t,this.setState({invoice:l})}};onReminderDefault=e=>{let t={...this.state.invoice};t.reminder=e,this.setState({invoice:t})};onReminderChange=(e,t)=>{let a={...this.state.invoice};const n=e.target,l=n.name,i="status"===l||"due_date"===l?n.checked:n.value;if(wage.length>0&&"status"==l)(0,d.A)();else{if(t){let e=a.reminder[t];n.checked?e.push(parseInt(i)):e.splice(e.indexOf(parseInt(i)),1)}else a.reminder[l]=i;this.setState({invoice:a}),"status"===l&&i&&this.reminderRef.current.click()}};onRecurringChange=e=>{let t={...this.state.invoice};const a=e.target,n=a.name,l="checkbox"==a.type?a.checked:a.value;if(wage.length>0&&"status"==n)(0,d.A)();else{if("subscription"==n){let e=!1;if((t.payment_methods.hasOwnProperty("paypal")&&null!=t.payment_methods.paypal||t.payment_methods.hasOwnProperty("stripe")&&null!=t.payment_methods.stripe)&&(e=!0),!e)return void o.oR.error('Please select Paypal or Stripe from "Payment Method" to active auto subscription')}t.recurring[n]=l,this.setState({invoice:t}),"status"===n&&l&&this.recurringRef.current.click()}};render=()=>{const{preload:e,title:t,tabs:a=[],currentTab:l,currentTabIndex:i,sidebarActive:r,invoice:c}=this.state,d=ndpv.i18n;return(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-sm-6"},(0,n.createElement)("nav",{className:"pv-breadcrumb"},(0,n.createElement)("ul",{className:""},(0,n.createElement)("li",null,(0,n.createElement)("a",{href:"#",className:""},d.home)),(0,n.createElement)("li",null,(0,n.createElement)("svg",{width:5,height:10,viewBox:"0 0 5 10",fill:"none"},(0,n.createElement)("path",{d:"M0.5 1.25L4.25 5L0.5 8.75",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("li",null,(0,n.createElement)(s.k2,{to:"/"+this.props.path},t)),(0,n.createElement)("li",null,(0,n.createElement)("svg",{width:5,height:10,viewBox:"0 0 5 10",fill:"none"},(0,n.createElement)("path",{d:"M0.5 1.25L4.25 5L0.5 8.75",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("li",{className:"pv-active"},"template"==l&&d.select+" "+d.template,"info"==l&&d.add+" "+d.con,"preview"==l&&d.prv+" "+d.nd+" "+d.share)))),(0,n.createElement)("div",{className:"col-sm-6"},(0,n.createElement)("div",{className:"pv-invoice-single-btn pv-text-right"},"template"==l&&(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-bg-shadow pv-color-white pv-mt-20",onClick:()=>{this.state.invoice.template?this.continueTab("template"):o.oR.error("Please select a template")}},d.cont,(0,n.createElement)("svg",{className:"pv-mr-0 pv-ml-10 pv-mt-1",width:9,height:11,viewBox:"0 0 6 9",fill:"none"},(0,n.createElement)("path",{d:"M3.8 4.24267L0.5 0.942667L1.44267 0L5.68533 4.24267L1.44267 8.48533L0.5 7.54267L3.8 4.24267Z",fill:"white"}))),"info"==l&&(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-bg-shadow pv-color-white pv-mt-20",onClick:this.handleSave,disabled:this.state.submitPreloader},this.state.msg.saveTxt," ",d.nd," ",d.cont,(0,n.createElement)("svg",{className:"pv-mr-0 pv-ml-10 pv-mt-1",width:9,height:11,viewBox:"0 0 6 9",fill:"none"},(0,n.createElement)("path",{d:"M3.8 4.24267L0.5 0.942667L1.44267 0L5.68533 4.24267L1.44267 8.48533L0.5 7.54267L3.8 4.24267Z",fill:"white"}))),"preview"==l&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-bg-shadow pv-color-white pv-mt-20",onClick:()=>this.setState({emailModal:!0})},d.send_email,(0,n.createElement)("svg",{className:"pv-mr-0 pv-ml-10",width:9,height:11,viewBox:"0 0 6 9",fill:"none"},(0,n.createElement)("path",{d:"M3.8 4.24267L0.5 0.942667L1.44267 0L5.68533 4.24267L1.44267 8.48533L0.5 7.54267L3.8 4.24267Z",fill:"white"}))))))),(0,n.createElement)("div",{className:"pv-single-tab-content"},(0,n.createElement)("div",{className:"pv-single-tabs pv-text-center"},a.map(((e,t)=>(0,n.createElement)("button",{key:t,className:"pv-tab-item tablink "+(t<=i?"pv-active":""),onClick:a=>this.setActiveTab(a,e.id,t)},(0,n.createElement)("span",{className:"pv-single-tab-done"},(0,n.createElement)("svg",{width:12,height:11,viewBox:"3.4 5.6 17.6 13.4",xmlSpace:"preserve"},(0,n.createElement)("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}))),(0,n.createElement)("span",null),e.text,t<2&&(0,n.createElement)("svg",{width:95,height:10,className:"pv-arrow"},(0,n.createElement)("path",{d:"M89.5 1l4 4m0 0l-4 4m4-4H1",stroke:t<i?"#4c6fff":"#E2E8F0",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))))),"template"==l&&(0,n.createElement)(D,{path:this.props.path,currentTemplate:c.template,changeHandler:this.handleTemplateChange}),"info"==l&&(0,n.createElement)("div",{id:"pv-tab-info",className:"pv-invoice-tab-content"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg-9"},(0,n.createElement)("h2",{className:"pv-page-title"},d.addCon),(0,n.createElement)("div",{className:"pv-info-content pv-bg-white"},(0,n.createElement)("div",{className:"pv-add-info-content"},(0,n.createElement)("h3",{className:"pv-color-blue pv-text-center"},"invoice"==this.props.path?d.inv:d.est),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-12 col-md-6"},(0,n.createElement)("div",{className:"pv-info-logo"},this.state.fromData&&this.state.fromData.logo&&(0,n.createElement)("img",{src:this.state.fromData.logo.src}),!1)),(0,n.createElement)("div",{className:"col-12 col-md-6"},(0,n.createElement)("div",{className:"pv-info-form pv-form-style-one"},(0,n.createElement)("div",{className:"pv-info-form-list"},(0,n.createElement)("div",{className:"pv-info-lavel"},(0,n.createElement)("label",{htmlFor:"info-number"},"invoice"==this.props.path?d.inv_num:d.est_num,":")),(0,n.createElement)("div",{className:"pv-info-input-field"},(0,n.createElement)("input",{type:"text",name:"invoice_id",value:c.num,placeholder:this.state.prefix?this.state.prefix+"{id}":"{id}",onChange:this.onNumChange}))),(0,n.createElement)("div",{className:"pv-info-form-list"},(0,n.createElement)("div",{className:"pv-info-lavel"},(0,n.createElement)("label",{htmlFor:"date"},"invoice"==this.props.path?d.inv_date:d.est_date,":")),(0,n.createElement)("div",{className:"pv-info-input-field"},(0,n.createElement)(K,{date:c.date,type:"date",onDateChange:this.onDateChange}))),(0,n.createElement)("div",{className:"pv-info-form-list"},(0,n.createElement)("div",{className:"pv-info-lavel"},(0,n.createElement)("label",{htmlFor:"due"},d.due_date,":")),(0,n.createElement)("div",{className:"pv-info-input-field"},(0,n.createElement)(K,{date:c.due_date,type:"due_date",onDateChange:this.onDateChange}))))))),(0,n.createElement)(x,{setFrom:this.handleSetFrom,setTo:this.handleSetTo,setFromTo:this.handleSetFromTo,fromData:this.state.fromData,toData:this.state.toData,editId:this.props.id,moduleId:this.props.module_id,module:this.props.module}),(0,n.createElement)(n.Suspense,{fallback:(0,n.createElement)(p.A,null)},(0,n.createElement)(Y,{data:c.top_sections,top:!0,changeHandler:this.handleSectionChange,default:[{label:ndpv.i18n.title,content:""}]})),(0,n.createElement)(L,{items:c.items,item_label:c.item_label,currency:c.currency,labelChange:this.onItemLabelChange,item_tax:c.item_tax,currencyFormatter:this.formatCurrency,addHandler:this.handleAddLineItem,changeHandler:this.handleLineItemChange,handleItemsValue:this.handleItemsValue,focusHandler:this.handleFocusSelect,deleteHandler:this.handleRemoveLineItem,reorderHandler:this.handleReorderItems}),(0,n.createElement)("div",{className:"pv-calculation"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-sm-4"},(0,n.createElement)(A,{data:this.state.paymentBankData})),(0,n.createElement)("div",{className:"col-sm-8"},(0,n.createElement)(F,{inv:c,currencyFormatter:this.formatCurrency,changeHandler:this.handleTotalChange,focusHandler:this.handleFocusSelect})))),(0,n.createElement)(n.Suspense,{fallback:(0,n.createElement)(p.A,null)},(0,n.createElement)(Y,{data:c.sections,changeHandler:this.handleSectionChange,default:[{label:ndpv.i18n.note,content:""},{label:ndpv.i18n.termCondition,content:""}]})),(0,n.createElement)("div",{className:" pv-inv-attachment pv-mt-30"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md-6"}),(0,n.createElement)("div",{className:"col-md-6 pv-text-right"},(0,n.createElement)(G,{data:this.state.invoice.sign,changeHandler:this.handleSignChange,handleRemoveSign:this.handleRemoveSign})))))),(0,n.createElement)("div",{className:"col-lg-3"},(0,n.createElement)("div",{id:"pv-right-sidebar",className:"pv-right-sidebar",ref:this.sidebarRef},(0,n.createElement)("h2",{className:"pv-title-medium",style:{fontSize:"18px"}},d.template_prv),(0,n.createElement)("div",{className:"pv-inv-sidebar-preview",style:{transformOrigin:"top left",marginBottom:"calc(("+this.state.previewScale+" - 1) * 1120px)",transform:"scale("+this.state.previewScale+")",display:this.state.previewScale?"block":"none"}},(0,n.createElement)(J,{key:c.style.primary_color,data:this.state,isPrvwLoad:this.isPrvwLoad})),(0,n.createElement)("div",{className:"pv-accordion-wrapper pv-mt-15"},(0,n.createElement)("ul",null,(0,n.createElement)(n.Suspense,null,(!r||"style"==r)&&(0,n.createElement)("li",null,(0,n.createElement)("input",{type:"checkbox",defaultChecked:"checked",onClick:()=>this.setSidebarActive("style")}),(0,n.createElement)("i",null),(0,n.createElement)("h3",{className:"pv-title-small"},d.edit," ",d.style),(0,n.createElement)(Q,{handleChange:this.onStyleChange,data:c})),(!r||"payment"==r)&&"invoice"==this.props.path&&(0,n.createElement)("li",null,(0,n.createElement)("input",{type:"checkbox",defaultChecked:"checked",onClick:()=>this.setSidebarActive("payment")}),(0,n.createElement)("i",null),(0,n.createElement)("h3",{className:"pv-title-small"},d.payment," ",d.method),(0,n.createElement)(X,{handleChange:this.onPaymentChange,wc:this.state.wc,data:c,subs:c.recurring.subscription})),(!r||"currency"==r)&&(0,n.createElement)("li",null,(0,n.createElement)("input",{type:"checkbox",defaultChecked:"checked",onClick:()=>this.setSidebarActive("currency")}),(0,n.createElement)("i",null),(0,n.createElement)("h3",{className:"pv-title-small"},d.cur),(0,n.createElement)(ee,{...this.props,currency:c.currency,handleDefault:this.onCurrencyDefault,lang:c.lang,onChange:this.currencyChange})),(0,n.createElement)(te,{...this.props,sidebar:r,setSidebar:this.setSidebarActive,item_tax:c.item_tax,itemTaxChange:this.itemTaxChange,handleChange:this.onExtraFieldChange,data:c.extra_field}),(!r||"reminder"==r)&&(0,n.createElement)("li",null,(0,n.createElement)("input",{type:"checkbox",ref:this.reminderRef,defaultChecked:!0,onClick:()=>this.setSidebarActive("reminder")}),(0,n.createElement)("i",null),(0,n.createElement)("h3",{className:"pv-title-small"},d.rem,(0,n.createElement)(m.A,null),(0,n.createElement)("span",{className:"pv-field-switch-content"},(0,n.createElement)("label",{className:"pv-field-switch pv-field-switch-big"},(0,n.createElement)("input",{type:"checkbox",id:"reminder-status",name:"status",checked:c.reminder.status?"checked":"",onChange:this.onReminderChange}),(0,n.createElement)("span",{className:"pv-switch-slider pv-round"})))),(0,n.createElement)(ae,{...this.props,handleChange:this.onReminderChange,handleDefault:this.onReminderDefault,id:this.props.id,path:this.props.path,data:c.reminder})),(!r||"recurring"==r)&&"invoice"==this.props.path&&(0,n.createElement)("li",null,(0,n.createElement)("input",{type:"checkbox",ref:this.recurringRef,defaultChecked:"checked",onClick:()=>this.setSidebarActive("recurring")}),(0,n.createElement)("i",null),(0,n.createElement)("h3",{className:"pv-title-small"},d.recur,(0,n.createElement)(m.A,null),(0,n.createElement)("span",{className:"pv-field-switch-content"},(0,n.createElement)("label",{className:"pv-field-switch pv-field-switch-big"},(0,n.createElement)("input",{type:"checkbox",id:"recurring-status",name:"status",checked:c.recurring.status?"checked":"",onChange:this.onRecurringChange}),(0,n.createElement)("span",{className:"pv-switch-slider pv-round"})))),(0,n.createElement)(ne,{...this.props,handleChange:this.onRecurringChange,data:c.recurring}))))))))),"preview"==l&&(0,n.createElement)(j,{data:this.state,shareModal:this.state.shareModal,showShareModal:()=>this.setState({shareModal:!0}),closeShareModal:()=>this.setState({shareModal:!1}),emailModal:this.state.emailModal,showEmailModal:()=>this.setState({emailModal:!0}),closeEmailModal:()=>this.setState({emailModal:!1}),editTab:this.editTab,path:this.props.path})))}}const ie=le,se=(0,r.A)((e=>{const{id:t,tab:a}=(0,i.g)();let l=(0,i.Zp)();const r=(0,i.zy)();let o="",c=null,m=null;const[d,p]=(0,s.ok)();if(d.get("module_id")&&(m=d.get("module_id")),d.get("module")&&(c=d.get("module")),void 0===t)o="/invoice/new"==r.pathname?"invoice":"estimate";else{let e=r.pathname.slice(0,r.pathname.lastIndexOf("/"));o=e.includes("invoice")?"invoice":"estimate"}return(0,n.createElement)(ie,{...e,id:t,tab:a,module:c,module_id:m,routeChange:e=>{l(`/${o}/${e}`)},path:o,key:o})}))},55326:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var n=a(51609),l=a(86087),i=a(55800);const s=(0,l.lazy)((()=>Promise.all([a.e(1083),a.e(3300),a.e(5500),a.e(5230)]).then(a.bind(a,75230)))),r=(0,l.lazy)((()=>Promise.all([a.e(1083),a.e(3300),a.e(5500),a.e(2277)]).then(a.bind(a,32277)))),o=(0,l.lazy)((()=>Promise.all([a.e(1083),a.e(3300),a.e(5500),a.e(9424)]).then(a.bind(a,9424)))),c=(0,l.lazy)((()=>Promise.all([a.e(1083),a.e(3300),a.e(5500),a.e(6143)]).then(a.bind(a,66143)))),m=(0,l.lazy)((()=>Promise.all([a.e(1083),a.e(3300),a.e(5500),a.e(6946)]).then(a.bind(a,96946)))),d=(0,l.lazy)((()=>Promise.all([a.e(1083),a.e(3300),a.e(5500),a.e(9929)]).then(a.bind(a,19929)))),p=(0,l.lazy)((()=>Promise.all([a.e(1083),a.e(3300),a.e(5500),a.e(2820)]).then(a.bind(a,52820)))),h=(0,l.lazy)((()=>Promise.all([a.e(1083),a.e(3300),a.e(5500),a.e(7091)]).then(a.bind(a,57091)))),v=e=>{(0,l.useEffect)((()=>(document.documentElement.style.setProperty("--pv-inv-primary",e.data.invoice.style.primary_color),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)})),[]);const t=()=>{e.isPrvwLoad&&e.isPrvwLoad()},a=()=>{e.isPrvwLoad&&e.isPrvwLoad()},v=e.data.invoice.template;return(0,n.createElement)(l.Suspense,{fallback:(0,n.createElement)(i.A,null)},(0,n.createElement)("style",null,"@media print { body {--pv-inv-primary: "+e.data.invoice.style.primary_color+"} @page {margin-top:20px; margin-bottom:10px} } "),1==v&&(0,n.createElement)(s,{...e,height:e.height,isPrvwLoad:t}),2==v&&(0,n.createElement)(r,{...e,height:e.height,isPrvwLoad:t}),3==v&&(0,n.createElement)(o,{...e,height:e.height,isPrvwLoad:t}),4==v&&(0,n.createElement)(c,{...e,height:e.height,isPrvwLoad:t}),5==v&&(0,n.createElement)(m,{...e,height:e.height,isPrvwLoad:t}),6==v&&(0,n.createElement)(d,{...e,height:e.height,isPrvwLoad:t}),7==v&&(0,n.createElement)(p,{...e,height:e.height,isPrvwLoad:t}),8==v&&(0,n.createElement)(h,{...e,height:e.height,isPrvwLoad:t}))}},56564:(e,t,a)=>{a.d(t,{Fi:()=>i,Gl:()=>l,QF:()=>s,rL:()=>r});var n=a(81083);const l=(e,t="USD",a="en")=>{try{return new Intl.NumberFormat(a,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}catch(t){return e}},i=(e="")=>{if(e){let t=n.T9.find(((t,a)=>{if(t[1]===e)return!0}));if(t)return t[0]}},s=()=>{let e=window.location.hash,t=document.querySelectorAll("#toplevel_page_ndpv ul > li");for(let a=0,n=t.length;a<n;a++){const n=t[a].querySelector("a");e=e.replace(/[0-9]|\/+$/g,""),e&&n&&n.getAttribute("href").includes(e)?t[a].classList.add("current"):(t[a].classList.remove("current"),!e&&n&&"admin.php?page=ndpv#"===n.getAttribute("href")&&t[a].classList.add("current"))}},r=(...e)=>{const t={};return e.forEach((e=>{for(const a in e)e.hasOwnProperty(a)&&("first_name"!==a&&void 0!==e[a]&&null!==e[a]&&""!==e[a]?t[a]=e[a]:t.hasOwnProperty(a)||(t[a]=e[a]))})),t}},58751:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(51609),l=a(57536),i=a(60235);const s=(e,t="")=>{let a=i.y0+t;return class extends n.Component{constructor(e){super(e)}getAll=(e=null,t="")=>(e&&(a=i.y0+e),l.A.get(`${a}/?${t}`,i.Sh));get=(e=null,t)=>(e&&(a=i.y0+e),l.A.get(`${a}/${t}`,i.Sh));create=(e=null,t)=>(e&&(a=i.y0+e),l.A.post(a,t,i.Sh));update=(e=null,t,n)=>(e&&(a=i.y0+e),l.A.put(`${a}/${t}`,n,i.Sh));remove=(e=null,t)=>(e&&(a=i.y0+e),l.A.delete(`${a}/${t}`,i.Sh));findByArg=(e=null,t="")=>(e&&(a=i.y0+e),l.A.get(`${a}?title=${t}`,i.Sh));render(){return(0,n.createElement)(e,{...this.props,getAll:this.getAll,get:this.get,create:this.create,update:this.update,remove:this.remove,findByArg:this.findByArg})}}}}}]);