"use strict";(globalThis.webpackChunkpropovoice=globalThis.webpackChunkpropovoice||[]).push([[1230],{41230:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var n=a(51609),s=a(21241),r=a(7834),o=a(56303);const i=e=>{const t=(0,n.useRef)(),[a,i]=(0,n.useState)([]),[l,c]=(0,n.useState)([]),[d,p]=(0,n.useState)(!1),m=(0,n.useCallback)((()=>p(!1)),[]);(0,r.A)(t,m),(0,n.useEffect)((()=>{v(),u()}),[]);const v=()=>{let t=e.parent_tab_id?e.parent_tab_id:e.tab_id;o.A.get("staffs","tab_id="+t,"pro").then((e=>{e.data.success&&i(e.data.data.result)}))},u=()=>{o.A.getS("staffs",e.tab_id,"pro").then((e=>{e.data.success&&c(e.data.data.result)}))},b=e=>{e.preventDefault(),p(!d)},h=t=>{if(confirm(ndpv.i18n.aConf)){let a={};a.tab_id=parseInt(e.tab_id),a.user_id=parseInt(t);const n=l.filter((e=>e.id!==t));c(n),o.A.del("staffs",t+"/"+e.tab_id,"pro").then((e=>{e.data.success?s.oR.success(ndpv.i18n.aDel):e.data.data.forEach((function(e){s.oR.error(e)}))}))}},{i18n:g,caps:f}=ndpv,E=e.avatarGroup;return(0,n.createElement)("div",{className:e.inForm?"pv-tag-content":"pv-widget pv-info-box",style:e.inForm?{padding:0,border:0}:{marginBottom:8}},(0,n.createElement)("div",{className:"pv-action-content",ref:t},e.inForm&&(0,n.createElement)(n.Fragment,null,!E&&(0,n.createElement)("label",{htmlFor:"form-assign"},"Team:"),(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-stroke",style:{margin:E?"0 10px 0 0":"0 10px",width:"auto",border:"1px solid rgba(221, 221, 221, 0.6588235294)"},onClick:e=>b(e)},g.assign,(0,n.createElement)("svg",{width:10,height:6,style:{marginLeft:"10px"},className:"pv-mr-0",viewBox:"0 0 10 6",fill:"none"},(0,n.createElement)("path",{d:"M5.00001 3.78145L8.30001 0.481445L9.24268 1.42411L5.00001 5.66678L0.757342 1.42411L1.70001 0.481445L5.00001 3.78145Z",fill:"#4A5568"})))),!e.inForm&&(0,n.createElement)("h3",{className:"pv-widget-title"},g.team,(0,n.createElement)("button",{className:"pv-btn pv-btn-small pv-bg-stroke pv-bg-hover-shadow pv-mb-20",style:{width:"auto",border:"1px solid rgba(221, 221, 221, 0.6588235294)"},onClick:e=>b(e)},g.assign,(0,n.createElement)("svg",{width:10,height:6,style:{marginLeft:"10px"},className:"pv-mr-0",viewBox:"0 0 10 6",fill:"none"},(0,n.createElement)("path",{d:"M5.00001 3.78145L8.30001 0.481445L9.24268 1.42411L5.00001 5.66678L0.757342 1.42411L1.70001 0.481445L5.00001 3.78145Z",fill:"#4A5568"})))),d&&(0,n.createElement)("div",{className:"pv-dropdown-content pv-show",style:{left:0}},a&&a.map(((t,a)=>(0,n.createElement)("a",{key:a,onClick:()=>(t=>{let a={};a.tab_id=parseInt(e.tab_id),a.user_id=parseInt(t.id),p(!1),l.some((e=>e.id==t.id))||(c([...l,t]),o.A.add("staffs",a,"pro").then((e=>{e.data.success?s.oR.success(ndpv.i18n.aAdd):e.data.data.forEach((function(e){s.oR.error(e)}))})))})(t)},t.name))))),l&&l.map(((t,a)=>e.inForm?(0,n.createElement)("span",{key:a,style:{marginRight:10,fontSize:12},className:"pv-badge"},t.name," ",(0,n.createElement)("b",{onClick:()=>h(t.id),style:{padding:"9px 7px"}},"X")):(0,n.createElement)("div",{className:"pv-persons-content",key:a},(0,n.createElement)("div",{className:"pv-avatar-content pv-p-0"},(0,n.createElement)("img",{src:t.img,alt:"avatar"}),(0,n.createElement)("div",{className:"pv-avatar-text"},(0,n.createElement)("h5",null,t.name),!1),(0,n.createElement)("div",{className:"pv-action-content"},(0,n.createElement)("button",{onClick:()=>h(t.id)},(0,n.createElement)("span",{className:"pv-action-btn pv-bg-stroke pv-bg-shadow"},(0,n.createElement)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none"},(0,n.createElement)("path",{d:"M13.5 3.5H2.5",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.createElement)("path",{d:"M5.5 1.5H10.5",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.createElement)("path",{d:"M12.5 3.5V13C12.5 13.1326 12.4473 13.2598 12.3536 13.3536C12.2598 13.4473 12.1326 13.5 12 13.5H4C3.86739 13.5 3.74021 13.4473 3.64645 13.3536C3.55268 13.2598 3.5 13.1326 3.5 13V3.5",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))))))))))}}}]);