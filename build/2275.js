"use strict";(globalThis.webpackChunkpropovoice=globalThis.webpackChunkpropovoice||[]).push([[2275],{31528:(e,t,a)=>{a.d(t,{H:()=>n,W:()=>s});var l=a(37577);function n(e,t){(0,l.h)((()=>{!function(e,t){var a={name:e.name,mimeType:"image/*"},l=new FormData;l.append("metadata",new Blob([JSON.stringify(a)],{type:"application/json"})),l.append("file",e),i("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",l,r,[t])}(e,t)}))}async function s(e){await(0,l.h)((async()=>{var t=await window.gapi.auth.getToken().access_token;await fetch(`https://www.googleapis.com/drive/v2/files/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}}).then((e=>console.log(e)))}))}function i(e,t,a,l,n=[]){var s=window.gapi.auth.getToken().access_token,i=new XMLHttpRequest;i.open(e,t),i.setRequestHeader("Authorization","Bearer "+s),i.responseType="json",i.onload=e=>{n.push(e),l.apply(this,n)},i.send(a)}function r(e,t){const a=t.target.response.id;e((e=>({...e,url:`https://drive.google.com/uc?export=view&id=${a}`}))),console.log("File uploaded successfully"),i("post",`https://www.googleapis.com/drive/v3/files/${a}/permissions`,new Blob([JSON.stringify({role:"reader",type:"anyone"})],{type:"application/json"}),o,[a])}function o(e){console.log(`The file id ${e} is public now!!!`)}},37577:(e,t,a)=>{a.d(t,{O:()=>c,h:()=>u});var l=a(56303),n=a(21241);let s,i=!1,r=!1;const o=(e,t,a)=>{const l=document.createElement("script");l.async=!0,l.defer=!0,l.src=t,l.id=e,l.onload=a,document.body.appendChild(l)},c=async()=>l.A.get("settings","tab=google_api_oauth2").then((e=>{if(!e.data.success||""===e.data.data.client_id||""===e.data.data.api_key)throw n.oR.error("Please setup Google Client ID and Api key in Settings!"),new Error("Please setup Google Client ID and Api key in Settings!");localStorage.setItem("g_client_id",e.data.data.client_id),localStorage.setItem("g_api_key",e.data.data.api_key)}));function d(){window.gapi.load("client:auth2",m)}async function m(){const e=localStorage.getItem("g_api_key");await window.gapi.client.init({apiKey:e,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]}),i=!0}function p(){const e=localStorage.getItem("g_client_id");s=google.accounts.oauth2.initTokenClient({client_id:e,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file",callback:""}),r=!0}const h=e=>new Promise((t=>setTimeout(t,e)));async function u(e){await c(),o("gapi","https://apis.google.com/js/api.js",d),o("gsi","https://accounts.google.com/gsi/client",p),await h(500),s.callback=async t=>{if(void 0!==t.error)throw t;await e()},null===window.gapi.client.getToken()?await s.requestAccessToken({prompt:"consent"}):await s.requestAccessToken({prompt:""})}},74335:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(51609),n=a(7834),s=a(43065),i=a(21241),r=a(56303);const o=e=>{const t=(0,l.useRef)(),[a,o]=(0,l.useState)(!1),c=(0,l.useCallback)((()=>o(!1)),[]);(0,n.A)(t,c);const{row:d,project:m,boardView:p}=e,{i18n:h,caps:u}=ndpv,v=u.includes("ndpv_client_role");let g=!0;return m&&v&&p&&(g=!1),(0,l.createElement)("div",{className:"pv-action-content"},(0,l.createElement)("button",{className:a?"pv-active":"",onClick:()=>o((e=>!e)),style:{padding:"0 5px"}},(0,l.createElement)(s.ff,null)),a&&(0,l.createElement)("div",{className:"pv-dropdown-content pv-show",ref:t},g&&e.handleOverview&&(0,l.createElement)("a",{onClick:()=>{o(!1),e.handleOverview(d.id)}},h.ov),!v&&e.editEntry&&(0,l.createElement)("a",{onClick:()=>{o(!1),e.editEntry("edit",d)}},h.edit),!v&&(0,l.createElement)("a",{onClick:()=>{if(o(!1),d.file&&d.url){const t=new URL(d.url),a=new URLSearchParams(t.search).get("id");e.deleteEntry("singleDrive",[d.id,a])}else e.deleteEntry("single",d.id)}},h.del),e.resendPassword&&e.resendPassword.show&&(0,l.createElement)("a",{onClick:()=>{o(!1),((e,t)=>{let a={id:e,from:t,type:"resend-password"};r.A.add("actions",a,"pro").then((e=>{e.data.success?i.oR.success("Password resent"):e.data.data.forEach((function(e){i.oR.error(e)}))}))})(d.id,e.resendPassword.from)}},"Resend Password")))}},64027:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(51609);const n=e=>{const t=e=>(0,l.createElement)("button",{key:e.slug,className:"pv-btn pv-btn-small pv-bg-stroke pv-bg-shadow pv-bg-hover-shadow",onClick:()=>e.handleClick(e.type)},e.label);return(0,l.createElement)("div",{className:"pv-table-action pv-mb-10"},(0,l.createElement)("div",{className:"pv-checkbox-field pv-mt-6"},(0,l.createElement)("span",{style:{marginLeft:0}},e.length," ",ndpv.i18n.iselec," ")),(0,l.createElement)("div",{className:"pv-small-button-group"},e.path&&e.actions&&e.actions[e.path].map((e=>t(e))),e.actions&&e.actions.common.map((e=>t(e))),!e.actions&&t({slug:"delete",type:"selected",label:ndpv.i18n.del,handleClick:e.deleteEntry})))}},99652:(e,t,a)=>{a.d(t,{A:()=>v});var l=a(51609),n=a(7834),s=a(43065),i=a(7364),r=a(21241),o=a(84941);const c=[["Person","Organization","Email","Mobile","Website","Country","Region","Address"],["Mahmud","Nurency digital","simple@gmail.com","0177777777","https://propovoice.com/","Bangladesh","Dhaka","Dhaka Airport"]];var d=a(56303),m=a(394),p=a(36478);const h=(0,i.A)((e=>{const t=Object.keys(e.modal),[a,n]=(0,l.useState)(),[i,m]=(0,l.useState)([]),[h,u]=(0,l.useState)(Array(t.length).fill("")),[v,g]=(0,l.useState)(!1),E=new Date,f=E.getFullYear()+"-"+(E.getMonth()+1)+"-"+E.getDate()+"-"+E.getHours()+"-"+E.getMinutes()+"-"+E.getSeconds(),b=new FileReader,y=Object.keys(Object.assign({},...i)).filter((e=>"NOT_ASSIGN"!=e));let k=e.modal;const w=ndpv.i18n;return(0,l.createElement)("div",{className:"pv-overlay pv-show"},(0,l.createElement)("div",{className:"pv-modal-content"},(0,l.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,l.createElement)("span",{className:"pv-close",onClick:()=>e.close()},(0,l.createElement)(s.OM,null)),(0,l.createElement)("h2",{className:"pv-modal-title"}," ",e.title," ",w.imp),(0,l.createElement)("p",null,sprintf(w.formDesc,e.title,w.imp))),(0,l.createElement)(p._H,{submitPreloader:v,submitHandler:t=>{t.preventDefault(),g(!0);const l=e.title.toLowerCase();var n=new FormData;n.append("file",a),n.append("fields",h),n.append("title",l);const s=n;d.A.add("import/csv",s,"pro",!0).then((t=>{g(!1),t&&(e.close(),e.reload())})).catch((t=>{console.log(t.message),r.oR.error("Please, Insert a valid file!!!"),e.close(),e.reload()}))},isMultipart:!0,close:e.close},(0,l.createElement)(p.sf,{formStyleClass:"pv-form-style-one"},!a&&(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"pv-upload-file"},(0,l.createElement)("input",{type:"file",id:"files",accept:".csv",onChange:e=>{n(e.target.files[0]),(e=>{e?(b.onload=function(e){(e=>{const t=e.slice(0,e.indexOf("\n")).split(","),a=e.slice(e.indexOf("\n")+1).split("\n").filter(Boolean).map((e=>{const a=e.split(","),l=t?.reduce(((e,t,l)=>(e[t]=a[l],e)),{});return l}));m(a)})(e.target.result)},b.readAsText(e)):r.oR.error("Please upload file")})(e.target.files[0])},className:"d-none"}),(0,l.createElement)("label",{htmlFor:"files",className:" pv-btn pv-bg-stroke pv-bg-hover-stroke  ",style:{display:"inline-flex"}},(0,l.createElement)("svg",{width:25,height:25,viewBox:"0 0 14 14",fill:"none"},(0,l.createElement)("path",{d:"M3.66824 10.0907C3.01193 10.0915 2.37842 9.85536 1.88909 9.42768C1.39976 9 1.08901 8.41081 1.01638 7.773C0.943746 7.13518 1.11434 6.49358 1.49547 5.97112C1.87661 5.44866 2.44148 5.08208 3.08188 4.94161C2.89659 4.09662 3.06217 3.21426 3.5422 2.48865C4.02223 1.76304 4.77738 1.25361 5.64153 1.07243C6.50568 0.891248 7.40804 1.05316 8.1501 1.52254C8.89217 1.99193 9.41315 2.73034 9.59844 3.57533H9.66507C10.4913 3.57451 11.2883 3.87392 11.9014 4.41541C12.5146 4.9569 12.9001 5.70185 12.9831 6.50564C13.0662 7.30943 12.8408 8.11472 12.3508 8.76517C11.8608 9.41562 11.1411 9.86483 10.3314 10.0256M8.99875 8.13612L6.99981 6.1815M6.99981 6.1815L5.00087 8.13612M6.99981 6.1815V13",stroke:"#4C6FFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),w.uploadFile))),!a&&(0,l.createElement)("div",null,(0,l.createElement)(o.CSVLink,{filename:`Sample file -${f}.csv`,style:{color:"rgb(54 91 243)",fontWeight:"500"},data:c,enclosingCharacter:""},w.down," ",w.sample," ",w.file),!a&&(0,l.createElement)("p",null,w.csvDco)),(0,l.createElement)("br",null),a&&(0,l.createElement)("div",{className:"pv-table-wrap pv-mb-20"},(0,l.createElement)("table",{className:"pv-table"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",null,(0,l.createElement)("th",null),(0,l.createElement)("th",null,"CSV ",w.field),(0,l.createElement)("th",null,e.title+" "+w.fields),(0,l.createElement)("th",null))),(0,l.createElement)("tbody",null,y.map(((e,t)=>(0,l.createElement)("tr",{key:t},(0,l.createElement)("td",null),(0,l.createElement)("td",null,e.replace(/"/g,"")),(0,l.createElement)("td",null,(0,l.createElement)("select",{style:{lineHeight:"106%"},onChange:e=>{((e,t)=>{e.preventDefault(),h[t]=e.target.value,u(h)})(e,t)}},Object.entries(k).map(((e,t)=>(0,l.createElement)("option",{key:t,value:e[0]},e[1]))))),(0,l.createElement)("td",null)))))))))))})),u=(0,i.A)((e=>{const t=new Date,a=`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}-${t.getHours()}-${t.getMinutes()}-${t.getSeconds()}`,n=(0,l.useRef)(),[i,r]=(0,l.useState)({actions:[]}),[c,p]=(0,l.useState)(""),h=(t,a,l="")=>{const n=t.target;let s=i.actions;const o=Object.keys(e.fields).filter((e=>"not_assign"!==e));if("action"===a){const{value:e}=t.target;n.checked?s.push(e):s=s.filter((t=>t!==e))}else"group"===a?s=n.checked?s.concat(o):s.filter((e=>!o.includes(e))):"none"===a&&(s=[]);s=Array.from(new Set(s)),r({...i,actions:s})};(0,l.useEffect)((()=>{c&&(n.current.link.click(),e.close())}),[c]);const u=Object.fromEntries(Object.entries(e.fields).filter((([e,t])=>"not_assign"!==e))),v=ndpv.i18n;return(0,l.createElement)("div",{className:"pv-overlay pv-show"},(0,l.createElement)("div",{className:"pv-modal-content"},(0,l.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,l.createElement)("span",{className:"pv-close",onClick:e.close},(0,l.createElement)(s.OM,null)),(0,l.createElement)("h2",{className:"pv-modal-title"},e.title," ",v.exp),(0,l.createElement)("p",null,sprintf(v.formDesc,e.title,v.exp))),(0,l.createElement)("form",{onSubmit:t=>{t.preventDefault();const a=e.title.toLowerCase(),l={};for(const[t,a]of Object.entries(e.fields))i.actions.includes(t)&&(l[t]=a);(async e=>{let t;try{t=await d.A.add("export/csv",e,"pro"),p(t.data)}catch(e){console.error(e.message)}})({fields:l,title:a})}},(0,l.createElement)("div",{className:"pv-content"},(0,l.createElement)("div",{className:"pv-form-style-one"},(0,l.createElement)("div",{className:"pv-field-checkbox"},(0,l.createElement)("input",{type:"checkbox",id:"select-all",name:"mod",value:"Select all",onChange:e=>h(e,"group")}),(0,l.createElement)("label",{htmlFor:"select-all"},"Select all")),(0,l.createElement)("div",{className:"pv-import-from-gird"},Object.entries(u).map(((e,t)=>(0,l.createElement)("div",{key:t,className:"pv-field-checkbox"},(0,l.createElement)("input",{type:"checkbox",id:t,name:"action",value:e[0],checked:i.actions.includes(e[0]),onChange:e=>h(e,"action")}),(0,l.createElement)("label",{htmlFor:t},e[1]," "))))))),(0,l.createElement)("div",{className:"pv-modal-footer"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col"},(0,l.createElement)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:e.close},v.cancel)),(0,l.createElement)("div",{className:"col"},(0,l.createElement)("button",{type:"submit",className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-btn-big pv-float-right pv-color-white"},v.exp," ",(0,l.createElement)(m.A,{blueBtn:!0}))),c&&(0,l.createElement)("div",{className:"col"},(0,l.createElement)(o.CSVLink,{data:c,filename:`${e.title}-${a}.csv`,ref:n})))))))})),v=e=>{const t=(0,l.useRef)(),[a,i]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),m=(0,l.useCallback)((()=>i(!1)),[]);(0,n.A)(t,m),(0,l.useEffect)((()=>{}),[]);const p=()=>!(wage.length>0&&(document.getElementById("pv-pro-alert").style.display="block",1)),v=ndpv.i18n;return(0,l.createElement)("div",{className:"pv-list-single-button-content"},(0,l.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-bg-shadow pv-color-white",onClick:()=>e.openForm("new")},(0,l.createElement)("svg",{width:14,height:12,viewBox:"0 0 12 15",fill:"none"},(0,l.createElement)("path",{d:"M2.5 8H13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.createElement)("path",{d:"M8 2.5V13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),ndpv.i18n.add+" "+e.title),r&&(0,l.createElement)(h,{close:()=>o(!1),modal:e.fields,title:e.title,reload:()=>e.reload()}),c&&(0,l.createElement)(u,{close:()=>d(!1),fields:e.fields,title:e.title}),("Lead"===e.title||"Client"===e.title)&&(0,l.createElement)("div",{className:"pv-action-content pv-action-btn",ref:t},(0,l.createElement)("button",{className:"pv-bg-stroke pv-bg-shadow",onClick:()=>{i(!a)}},(0,l.createElement)(s.ff,null)),a&&(0,l.createElement)("div",{className:"pv-dropdown-content pv-show"},(0,l.createElement)("a",{onClick:e=>((e,t)=>{e.preventDefault(),p()&&(i(!1),o(!0))})(e)},v.imp),(0,l.createElement)("a",{onClick:e=>((e,t)=>{e.preventDefault(),p()&&(i(!1),d(!0))})(e)},v.exp))))}},41251:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(51609);const n=e=>(0,l.createElement)("nav",{className:"pv-breadcrumb"},(0,l.createElement)("ul",{className:""},(0,l.createElement)("li",null,(0,l.createElement)("a",{href:"#",className:""},ndpv.i18n.home)),(0,l.createElement)("li",null,(0,l.createElement)("svg",{width:5,height:10,viewBox:"0 0 5 10",fill:"none"},(0,l.createElement)("path",{d:"M0.5 1.25L4.25 5L0.5 8.75",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,l.createElement)("li",{className:"pv-active"},"Lead"==e.title?ndpv.i18n.lead:"Deal Pipeline"==e.title?ndpv.i18n.deal_pipeline:"Estimate"==e.title?ndpv.i18n.est:"Invoice"==e.title?ndpv.i18n.inv:"Client"==e.title?ndpv.i18n.client:"Project"==e.title?ndpv.i18n.project:"Task"==e.title?ndpv.i18n.task:"Contact Book"==e.title?ndpv.i18n.ct_book:"Settings"==e.title?ndpv.i18n.settings:e.title)))},22803:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(51609),n=a(17604);const s=e=>{const{title:t,clickHandler:a,isClient:s,boardView:i,searchVal:r,logo:o=""}=e,{i18n:c,caps:d}=ndpv,m=e.mod?e.mod:"";let p=c.created,h=c.notAdd;return"package"==m&&d.includes("ndpv_client_role")&&(h=c.noResClient,p=""),(0,l.createElement)("div",{className:"pv-empty-content pv-text-center"},(0,l.createElement)("svg",{width:"77",height:"76",viewBox:"0 0 77 76",fill:"none"},(0,l.createElement)("path",{d:"M61.8594 1.30469V14.8447H75.3985L61.8594 1.30469Z",fill:"#4C6FFF",fillOpacity:"0.5"}),(0,l.createElement)("path",{d:"M59.6328 19.2969C58.4032 19.2969 57.4062 18.3 57.4062 17.0703V0H25.4922C21.809 0 18.8125 2.99651 18.8125 6.67969V31.571C19.5461 31.5045 20.2884 31.4688 21.0391 31.4688C28.6284 31.4688 35.4222 34.9386 39.9182 40.375H64.0859C65.3156 40.375 66.3125 41.3719 66.3125 42.6016C66.3125 43.8312 65.3156 44.8281 64.0859 44.8281H42.8517C44.2434 47.5439 45.1409 50.5526 45.429 53.7344H64.0859C65.3156 53.7344 66.3125 54.7313 66.3125 55.9609C66.3125 57.1906 65.3156 58.1875 64.0859 58.1875H45.429C44.7631 65.5409 40.8342 71.9664 35.1047 76H70.0234C73.7066 76 76.7031 73.0035 76.7031 69.3203V19.2969H59.6328ZM64.0859 31.4688H31.4297C30.2 31.4688 29.2031 30.4718 29.2031 29.2422C29.2031 28.0125 30.2 27.0156 31.4297 27.0156H64.0859C65.3156 27.0156 66.3125 28.0125 66.3125 29.2422C66.3125 30.4718 65.3156 31.4688 64.0859 31.4688Z",fill:"#4C6FFF"}),(0,l.createElement)("circle",{cx:"20",cy:"56",r:"20",fill:"#A5B7FF"}),(0,l.createElement)("path",{d:"M17.9091 67.6136V45.1136H21.7273V67.6136H17.9091ZM8.56818 58.2727V54.4545H31.0682V58.2727H8.56818Z",fill:"white"})),!r.length&&(0,l.createElement)("h2",{className:"pv-empty-title"},s?i?c.no_req_project:c.no_project:(0,n.sprintf)(h,"lead"==m||"client"==m||"person"==m||"org"==m||"team"==m?c.added:p,t)),r.length>0&&(0,l.createElement)("h2",{className:"pv-empty-title"},(0,n.sprintf)(c.noRes,t)),!d.includes("ndpv_client_role")&&"order"!=m&&(0,l.createElement)("button",{className:"pv-btn pv-bg-blue pv-bg-hover-blue",onClick:()=>a("new")},(0,l.createElement)("svg",{width:14,height:12,viewBox:"0 0 12 15",fill:"none"},(0,l.createElement)("path",{d:"M2.5 8H13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.createElement)("path",{d:"M8 2.5V13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),"lead"==m||"client"==m||"person"==m||"org"==m||"team"==m?c.let_start_adding:c.let_start_creating))}},36478:(e,t,a)=>{a.d(t,{_H:()=>c,cK:()=>o,sf:()=>d});var l=a(51609),n=a(21241),s=a(55800),i=a(394),r=a(29425);const o=(0,l.createContext)({});function c({submitHandler:e,submitPreloader:t=!1,close:a,submitLabel:s,children:i,formTag:c=!0,isMultipart:d=!1,isPro:p=!1,showSubmitButton:h=!0}){const[u,v]=(0,l.useState)({}),[g,E]=(0,l.useState)({}),[f,b]=(0,l.useState)({}),[y,k]=(0,l.useState)(!1),[w,C]=(0,l.useState)();(0,l.useEffect)((()=>{y&&w&&(0===N(g)?e(w):n.oR.error("Invalid submission!!!"),k(!1))}),[y,g]);const N=e=>e&&"object"==typeof e?Object.values(e).reduce((function(e,t){return e+t.length}),0):0,x=e=>{e.preventDefault(),(0,r.hs)(u,v,E),k(!0),C(e)},S=(0,l.createElement)(l.Fragment,null,i,(0,l.createElement)(m,{close:a,submitPreloader:t,submitLabel:s,formTag:c,onSubmit:x,isPro:p,showSubmitButton:h}));return(0,l.createElement)(o.Provider,{value:{form:u,setForm:v,setErrorFields:E,groupFields:f,setGroupFields:b}},c?d?(0,l.createElement)("form",{onSubmit:x,encType:"multipart/form-data"},S):(0,l.createElement)("form",{onSubmit:x},S):(0,l.createElement)("div",null,S))}function d({formStyleClass:e,children:t}){return(0,l.createElement)("div",{className:"pv-content"},(0,l.createElement)("div",{className:e},t))}function m({close:e,submitPreloader:t,submitLabel:a,formTag:n,onSubmit:r,isPro:o,showSubmitButton:c}){const d=ndpv.i18n;return(0,l.createElement)("div",{className:"pv-modal-footer"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col"},e&&(0,l.createElement)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:()=>e()},d.cancel)),c&&(0,l.createElement)("div",{className:"col"},(0,l.createElement)("button",{type:"submit",disabled:t,...n?{}:{onClick:r},className:"pv-btn pv-bg-blue pv-bg-hover-blue  pv-float-right pv-color-white"},t&&(0,l.createElement)(s.A,{submit:!0})," ",a||d.save,o&&(0,l.createElement)(i.A,{blueBtn:!0})))))}},8935:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(51609),n=a(81083);const s=e=>{const t=ndpv.i18n,{data:a,handleChange:s,selectCountry:i}=e;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col-md-6"},(0,l.createElement)("label",{htmlFor:"form-country"},t.country),(0,l.createElement)(n.wP,{value:a.country,valueType:"short",onChange:e=>i(e)})),(0,l.createElement)("div",{className:"col-md-6"},(0,l.createElement)("label",{htmlFor:"form-region"},t.state_region),(0,l.createElement)("input",{id:"form-region",type:"text",name:"region",value:a.region,onChange:s}))),(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col"},(0,l.createElement)("label",{htmlFor:"form-address"},t.addr),(0,l.createElement)("input",{id:"form-address",type:"text",name:"address",value:a.address,onChange:s}))),(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col-md"},(0,l.createElement)("label",{htmlFor:"field-city"},t.city),(0,l.createElement)("input",{id:"field-city",type:"text",name:"city",value:a.city,onChange:s})),(0,l.createElement)("div",{className:"col-md"},(0,l.createElement)("label",{htmlFor:"field-zip"},t.zip),(0,l.createElement)("input",{id:"field-zip",type:"text",name:"zip",value:a.zip,onChange:s}))))}},95231:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(51609),n=a(43065);const s=({label:e,type:t="button",iconName:a,size:s,cssStyle:i,handleClick:r,buttonStyle:o="default"})=>{const c={white:{button:{css:{},class:"pv-bg-stroke pv-bg-hover-stroke"},icon:"blue"},default:{button:{css:{},class:"pv-bg-blue pv-color-white pv-bg-air-white pv-bg-hover-blue"},icon:"default"}};return(0,l.createElement)("button",{type:t,style:{margin:"5px",...i,...c[o].button.css},className:"pv-btn "+{big:"pv-btn-big",medium:" pv-btn-medium"}[s]+" "+c[o].button.class,onClick:e=>{e.preventDefault(),r()}},(0,l.createElement)(n.BS,{name:a,style:c[o].icon}),e)}},97300:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(51609);const n=({style:e,id:t,name:a,label:n={},changeHandler:s,isChecked:i})=>{const r=(0,l.createElement)("input",{type:"checkbox",id:t,name:a,checked:i,onChange:s}),o=(0,l.createElement)("div",{className:"pv-field-switch"},(0,l.createElement)("label",{className:"pv-switch"},r,(0,l.createElement)("span",{className:"pv-switch-slider pv-round"}))),c="left"===n?.position?"marginRight":"marginLeft",d=n?.text&&(0,l.createElement)("label",{id:t,style:{[c]:"10px"}},n.text);return(0,l.createElement)(l.Fragment,null,"left"===n?.position&&d,"switch"===e?o:r,"right"===n?.position&&d)}},62926:(e,t,a)=>{a.d(t,{A:()=>i});var l=a(51609),n=a(36478),s=a(29425);const i=({label:e,wrapperClassName:t="col",validation:a={},onChange:i=(()=>{}),...r})=>{var o;const{form:c,setForm:d,setErrorFields:m,setGroupFields:p}=(0,l.useContext)(n.cK),{name:h,value:u=""}=r,v=c[h]?.validation||{};(0,l.useEffect)((()=>{h in c||d((e=>({...e,[h]:{...e[h],value:u,validation:a}})))}),[]),(0,l.useEffect)((()=>{d((e=>({...e,[h]:{...e[h],value:u}})))}),[u]);const g=null!==(o=c[h]?.validation?.required?.value)&&void 0!==o&&o;return(0,l.createElement)("div",{className:t},(0,l.createElement)("label",{htmlFor:r.id},e," ",g&&(0,l.createElement)("span",{style:{color:"red"},title:"This field is required"},"*")),(0,l.createElement)("input",{onChange:e=>{d((t=>({...t,[h]:{...t[h],value:e.target.value}}))),(0,s.UF)(h,e.target.value,c,d,m),i(e)},...r}),Object.entries(v).map((([e,{error:t=""}])=>(0,l.createElement)("div",{key:e,style:{color:"#fd5870",marginTop:"4px"}},t.charAt(0).toUpperCase()+t.slice(1)))))}},53417:(e,t,a)=>{a.d(t,{$n:()=>l.A,EY:()=>s.A,Sc:()=>n.A,pV:()=>i.A});var l=a(95231),n=a(97300),s=a(62926),i=a(8935)},29425:(e,t,a)=>{a.d(t,{UF:()=>n,hs:()=>s});const l={required:"field is required",email:"is invalid"},n=(e,t,a,l,n)=>{for(const[s,r]of Object.entries(a[e].validation))i(s,r,e,t,l,n)},s=(e,t,a)=>{for(const[l,{value:n,validation:s}]of Object.entries(e))for(const[e,r]of Object.entries(s))i(e,r,l,n,t,a)},i=(e,t,a,l,n,s)=>{switch(e){case"required":r(e,t,a,l,n,s);break;case"email":o(e,t,a,l,n,s)}},r=(e,t,a,l,n,s)=>{t?.value&&0===l?.length?d(e,t,a,n,s):m(e,a,n,s,!0)},o=(e,t,a,l,n,s)=>{!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,63}$/.test(l)&&l.length>0?d(e,t,a,n,s):m(e,a,n,s,!0)},c=(e,t,a,l,n="default")=>{e((e=>(n="default"!==n?n:e[t].validation[a].value,{...e,[t]:{...e[t],validation:{...e[t].validation,[a]:{...e[t].validation[a],value:n,error:l}}}})))},d=(e,t,a,n,s)=>{var i;const r=null!==(i=t.message)&&void 0!==i?i:a+" "+l[e];c(n,a,e,r),s((t=>{const l=Array.isArray(t[a])?[...t[a],e]:[e];return{...t,[a]:[...new Set(l)]}}))},m=(e,t,a,l,n=!1)=>{c(a,t,e,"",n),l((a=>{if(a[t]&&Array.isArray(a[t])){const l=a[t].indexOf(e);-1!==l&&a[t].splice(l,1)}return a}))}},7280:(e,t,a)=>{a.d(t,{A:()=>i});var l=a(51609),n=a(49764),s=a.n(n);const i=e=>(0,l.createElement)("div",{className:"pv-pagination-content"},(0,l.createElement)(s(),{previousClassName:"pv-previous",nextClassName:"pv-next",disabledClassName:"pv-disabled",previousLabel:(0,l.createElement)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none"},(0,l.createElement)("path",{d:"M7.5 12.833L1.667 7 7.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),nextLabel:(0,l.createElement)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none"},(0,l.createElement)("path",{d:"M1.5 12.833L7.333 7 1.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),breakLabel:(0,l.createElement)("svg",{width:15,height:15,viewBox:"0 0 24 24",fill:"none"},(0,l.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12a2 2 0 10-4 0 2 2 0 004 0zM14 12a2 2 0 10-4 0 2 2 0 004 0zM21 12a2 2 0 10-4 0 2 2 0 004 0z",fill:"#718096"})),breakClassName:"break",forcePage:e.forcePage,pageCount:e.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e.onPageChange,containerClassName:"pv-pagination",activeClassName:"pv-active"}))},9519:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(51609),n=a(43516);const s=e=>{const{rows:t=5}=e;return(0,l.createElement)(n.Ay,{viewBox:"0 0 1500 "+60*t,...e},new Array(t).fill(" ").map(((e,a)=>{const n=e=>t>1?e+60*a:e;return(0,l.createElement)(l.Fragment,{key:a},(0,l.createElement)("rect",{x:"20",y:`${n(20)}`,rx:"4",ry:"4",width:"40",height:"20"}),(0,l.createElement)("rect",{x:"100",y:`${n(20)}`,rx:"10",ry:"4",width:"600",height:"20"}),(0,l.createElement)("rect",{x:"750",y:`${n(20)}`,rx:"10",ry:"4",width:"600",height:"20"}),(0,l.createElement)("rect",{x:"1450",y:`${n(20)}`,rx:"4",ry:"4",width:"20",height:"20"}),(0,l.createElement)("rect",{y:`${n(59)}`,x:"10",ry:"10",width:"1500",height:"1"}))})))}},82275:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var l=a(51609),n=(a(41251),a(99652)),s=a(64027),i=a(9519),r=a(7280),o=a(43065),c=a(17604);const d=ndpv.i18n,m=[{label:d.lead,slug:"lead",list:{lead_add:"Create",lead_edit:"Update",lead_level_change:"Lead Level Change",lead_del:"Delete"}},{label:d.deal,slug:"deal",list:{deal_add:"Create",deal_edit:"Update",deal_stage_change:"Deal Stage Change",deal_del:"Delete"}},{label:d.est,slug:"est",list:{est_add:"Create",est_edit:"Update",est_del:"Delete"}},{label:d.inv,slug:"inv",list:{inv_add:"Create",inv_edit:"Update",inv_del:"Delete"}},{label:d.project,slug:"project",list:{project_add:"Create",project_edit:"Update",project_status_change:"Project Status Change",project_del:"Delete"}},{label:d.task,slug:"task",list:{task_add:"Create",task_edit:"Update",task_del:"Delete"}},{label:d.ct,slug:"contact",list:{contact_add:"Create",contact_edit:"Update",contact_del:"Delete"}}];var p=a(53417),h=a(36478);class u extends l.Component{constructor(e){super(e),this.initialState={id:null,active:!1,name:"",url:"",method:"post",actions:[]},this.state={form:this.initialState}}handleChange=e=>{const t=e.target,a=t.name,l="checkbox"==t.type?t.checked:t.value;this.setState({form:{...this.state.form,[a]:l}})};handleCheckbox=(e,t,a="")=>{const l=e.target;let n=this.state.form.actions;if("action"==t){const{value:t}=e.target;l.checked?n.push(t):n.splice(n.indexOf(t),1)}else if("group"==t){const{value:t}=e.target,a=m.find((e=>e.slug===t)),s=Object.keys(a.list);n=l.checked?n.concat(s):n.filter((e=>!s.includes(e)))}else"all"==t?m.map(((e,t)=>{const a=Object.keys(e.list);n=n.concat(a)})):"none"==t&&(n=[]);n=Array.from(new Set(n)),this.setState({form:{...this.state.form,actions:n}})};componentDidMount(){this.editData()}componentDidUpdate(){this.editData()}editData=()=>{if("edit"==this.props.modalType){if(this.state.form.id!=this.props.data.id){let e=this.props.data;this.setState({form:e})}}else null!=this.state.form.id&&this.setState({form:this.initialState})};handleSubmit=e=>{if(e.preventDefault(),ndpv.isDemo)return void toast.error(ndpv.demoMsg);let t={...this.state.form};const a=this.props.type;t.type=a,this.props.handleSubmit(t,this.props.formModalType,{type:a})};render(){const e=this.state.form,t=ndpv.i18n,a="new"==this.props.modalType?t.add_new:t.edit;return(0,l.createElement)("div",{className:"pv-overlay pv-show"},(0,l.createElement)("div",{className:"pv-modal-content"},(0,l.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,l.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,l.createElement)(o.OM,null)),(0,l.createElement)("h2",{className:"pv-modal-title"},a," ",this.props.title),(0,l.createElement)("p",null,(0,c.sprintf)(t.formDesc,a,this.props.title))),(0,l.createElement)(h._H,{submitHandler:this.handleSubmit,close:this.props.close},(0,l.createElement)(h.sf,{formStyleClass:"pv-form-style-one"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col"},(0,l.createElement)("label",null,t.act),(0,l.createElement)("div",{className:"pv-field-switch pv-ml-10"},(0,l.createElement)("label",{className:"pv-switch"},(0,l.createElement)("input",{type:"checkbox",id:"reminder-active",name:"active",checked:e.active?"checked":"",onChange:this.handleChange}),(0,l.createElement)("span",{className:"pv-switch-slider pv-round"}))))),(0,l.createElement)("div",{className:"row"},(0,l.createElement)(p.EY,{label:t.name,id:"name",type:"text",name:"name",wrapperClassName:"col-md",value:e.name,onChange:this.handleChange,validation:{required:{value:!0}}})),(0,l.createElement)("div",{className:"row"},(0,l.createElement)(p.EY,{label:"Webhook URL",id:"url",type:"text",name:"url",value:e.url,wrapperClassName:"col-md",onChange:this.handleChange,validation:{required:{value:!0}}})),!1,(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col",style:{marginBottom:10}},(0,l.createElement)("h4",{className:"pv-title-medium",style:{textTransform:"capitalize"}},"Actions List")),(0,l.createElement)("div",{className:"col",style:{marginBottom:10,textAlign:"right"}},(0,l.createElement)("a",{onClick:e=>this.handleCheckbox(e,"all")},"Select All")," | ",(0,l.createElement)("a",{onClick:e=>this.handleCheckbox(e,"none")},"Deselect All"))),(0,l.createElement)("div",{className:"pv-intg-list pv-mb-15"},m.map(((t,a)=>(0,l.createElement)("div",{key:a,className:"pv-intg-item",style:{alignItems:"initial",padding:"14px 15px 5px",cursor:"auto"}},(0,l.createElement)("div",{className:"pv-field-checkbox"},(0,l.createElement)("input",{type:"checkbox",id:t.slug+"-mod",name:"mod",value:t.slug,style:{marginRight:8},onChange:e=>this.handleCheckbox(e,"group")}),(0,l.createElement)("label",{htmlFor:t.slug+"-mod",style:{fontSize:16,fontWeight:500,color:"#2D3748"}},t.label)),Object.entries(t.list).map(((a,n)=>(0,l.createElement)("div",{key:n,className:"pv-field-checkbox"},(0,l.createElement)("input",{type:"checkbox",id:t.slug+"-"+n,name:"action",value:a[0],checked:e.actions.includes(a[0])?"checked":"",onChange:e=>this.handleCheckbox(e,"action")}),(0,l.createElement)("label",{htmlFor:t.slug+"-"+n},a[1]))))))))))))}}var v=a(74335),g=(a(93300),a(47767));const E=e=>{const t=ndpv.i18n;return(0,l.createElement)("thead",null,(0,l.createElement)("tr",null,(0,l.createElement)("th",null,(0,l.createElement)("input",{type:"checkbox",onChange:t=>e.checkedBoxes.handle(t,"all")})),(0,l.createElement)("th",null,t.title),(0,l.createElement)("th",null,t.active,"?"),(0,l.createElement)("th",null,t.action)))},f=e=>{(0,g.Zp)();let t=e.tableData.map(((t,a)=>{const n=-1!==e.checkedBoxes.data.indexOf(t.id);return(0,l.createElement)("tr",{key:a},(0,l.createElement)("td",null,(0,l.createElement)("input",{type:"checkbox",value:t.id,checked:n,onChange:a=>e.checkedBoxes.handle(a,"single",t.id)})),(0,l.createElement)("td",null,(0,l.createElement)("span",{className:"pv-list-title"},t.name)),(0,l.createElement)("td",null,t.active?ndpv.i18n.active:""),(0,l.createElement)("td",{className:"pv-action"},(0,l.createElement)(v.A,{row:t,editEntry:e.editEntry,deleteEntry:e.deleteEntry})))}));return(0,l.createElement)("tbody",null,t)},b=e=>{const{tableData:t,editEntry:a,checkedBoxes:n,deleteEntry:s}=e;return(0,l.createElement)(l.Fragment,null,t.length>0&&(0,l.createElement)("div",{className:"pv-table-wrap"},(0,l.createElement)("table",{className:"pv-table"},(0,l.createElement)(E,{checkedBoxes:n}),(0,l.createElement)(f,{tableData:t,editEntry:a,checkedBoxes:n,deleteEntry:s}))))};l.Component;var y=a(22803);const k=(0,a(9435).A)((e=>{(0,l.useEffect)((()=>{e.getLists({type:e.item.slug})}),[]);const t=(t,a)=>{e.deleteEntry(t,a,null,{type:e.item.slug})},{lists:a,checkedBoxes:o,searchVal:c}=e.state,d=e.item.name+("webhook"!=e.item.slug?" Webhook":"");return(0,l.createElement)("div",{className:"ndpv-components"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col"},(0,l.createElement)("h2",{className:"pv-page-title"},d)),(0,l.createElement)("div",{className:"col"},(0,l.createElement)(n.A,{title:d,openForm:e.openForm}))),o.length>0&&(0,l.createElement)(s.A,{length:o.length,uncheckAll:e.uncheckAll,deleteEntry:t}),e.state.formModal&&(0,l.createElement)(u,{title:d,handleSubmit:e.handleSubmit,modalType:e.state.formModalType,type:e.item.slug,data:e.state.list,close:e.closeForm}),e.state.empty&&(0,l.createElement)(y.A,{title:d,searchVal:c,clickHandler:()=>e.openForm("new")}),e.state.preloader?(0,l.createElement)(i.A,null):(0,l.createElement)(b,{tableData:a,searchVal:c,editEntry:e.openForm,checkedBoxes:{data:o,handle:e.handleCheckbox},deleteEntry:t}),e.state.totalPage>1&&(0,l.createElement)(r.A,{forcePage:e.state.currentPage-1,pageCount:e.state.totalPage,onPageChange:e.handlePageClick}))}),"webhook","Webhook")},9435:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(51609),n=a(21241),s=a(31528),i=a(57536),r=a(60235);const o=(e,t,a,o="",c=!1)=>{o||(o=t+"s");const d=(c?r.BB:r.y0)+o;return class extends l.Component{constructor(e){super(e),this.state={title:a,empty:!1,submitPreloader:!1,preloader:!0,formModal:!1,searchModal:!1,formModalType:"new",list:{id:null},extra:{},lists:[],checkedBoxes:[],offset:0,perPage:10,total:1,totalPage:1,currentPage:1,searchVal:""},this.timeout=0}componentDidMount(){}getLists=(e=null)=>{let t={page:this.state.currentPage,per_page:this.state.perPage};this.props.tab_id&&(t.tab_id=this.props.tab_id),this.props.dashboard&&(t.dashboard=this.props.dashboard),this.props.module_id&&(t.module_id=this.props.module_id),e&&(e=Object.entries(e).reduce(((e,[t,a])=>a?(e[t]=a,e):e),{}),t={...t,...e});let a=new URLSearchParams(t).toString();const l=i.A.get(`${d}/?${a}`,r.Sh);return l.then((e=>{let t=e.data.data.result,a=e.data.data.total,l=!t.length,n={};e.data.data.hasOwnProperty("extra")&&(n=e.data.data.extra),this.setState({lists:t,extra:n,preloader:!1,empty:l,total:a,totalPage:Math.ceil(a/this.state.perPage)})})),l};handleSearch=e=>{const{value:t}=e.target;this.setState({searchVal:t},(()=>{this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.getLists({s:this.state.searchVal})}),300)}))};showItem=(e,t=null)=>{const{value:a}=e.target;this.setState({perPage:a},(()=>{this.getLists(t)}))};handleSubmit=(e,t=null,a=null)=>{let l=this.state.formModalType;t&&(l=t),this.setState({submitPreloader:!0}),"new"==l?i.A.post(d,e,r.Sh).then((e=>{e.data.success?(this.setState({formModal:!1,submitPreloader:!1}),n.oR.success(ndpv.i18n.aAdd),this.getLists(a)):(this.setState({submitPreloader:!1}),e.data.data.forEach((e=>{n.oR.error(e)})))})):i.A.put(`${d}/${e.id}`,e,r.Sh).then((e=>{e.data.success?(this.setState({formModal:!1,submitPreloader:!1}),n.oR.success(ndpv.i18n.aUpd),this.getLists(a)):(this.setState({submitPreloader:!1}),e.data.data.forEach((e=>{n.oR.error(e)})))}))};deleteEntry=async(e,t,a=null,l=null)=>{if(confirm(ndpv.i18n.aConf)){"singleDrive"==e&&(await(0,s.W)(t[1]),t=t[0]);let a="single"==e||"singleDrive"==e?t:this.state.checkedBoxes.toString();i.A.delete(`${d}/${a}`,r.Sh).then((t=>{t.data.success?(n.oR.success(ndpv.i18n.aDel),"single"!=e&&this.setState({checkedBoxes:[]}),this.getLists(l)):t.data.data.forEach((e=>{n.oR.error(e)}))}))}};openForm=(e="new",t=null)=>{"new"==e?this.setState({formModal:!0,formModalType:"new"}):(t.hasOwnProperty("start_date")&&t.start_date&&(t.start_date=new Date(t.start_date)),t.hasOwnProperty("due_date")&&t.due_date&&(t.due_date=new Date(t.due_date)),this.setState({formModal:!0,formModalType:"edit",list:t}))};closeForm=(e="new")=>{"new"==e?this.setState({formModal:!1}):this.setState({searchModal:!1})};handleCheckbox=(e,t,a=null)=>{let l=this.state.checkedBoxes;if("single"==t)e.target.checked?(l.push(a),this.setState({checkedBoxes:l})):(l.splice(l.indexOf(a),1),this.setState({checkedBoxes:l}));else if(e.target.checked){let e=[];this.state.lists.map((t=>{e.push(t.id)})),this.setState({checkedBoxes:e})}else this.setState({checkedBoxes:[]})};handlePageClick=(e,t=null)=>{const a=e.selected+1,l=a*this.state.perPage;this.setState({currentPage:a,offset:l},(()=>{this.getLists(t)}))};render(){return(0,l.createElement)(e,{...this.props,state:this.state,openForm:this.openForm,closeForm:this.closeForm,showItem:this.showItem,getLists:this.getLists,handleCheckbox:this.handleCheckbox,uncheckAll:()=>this.setState({checkedBoxes:[]}),handleSubmit:this.handleSubmit,handleSearch:this.handleSearch,handlePageClick:this.handlePageClick,deleteEntry:this.deleteEntry})}}}},7364:(e,t,a)=>{a.d(t,{A:()=>s});var l=a(51609),n=a(47767);const s=e=>t=>{const a=(0,n.Zp)();return(0,l.createElement)(e,{navigate:a,...t})}}}]);