"use strict";(globalThis.webpackChunkpropovoice=globalThis.webpackChunkpropovoice||[]).push([[7848],{97848:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n=a(51609),s=a(21241),l=a(56303),i=a(59781);class m extends n.Component{constructor(e){super(e),this.state={preloader:!0,bankModal:!1,payment:{id:null},payments:[],checkedBoxes:[],offset:0,perPage:10,currentPage:1}}componentDidMount(){this.getLists()}getLists=(e=null)=>{let t={page:this.state.currentPage,per_page:this.state.perPage,data_from:"single_invoice"};e&&(e=Object.entries(e).reduce(((e,[t,a])=>a?(e[t]=a,e):e),{}),t={...t,...e});let a=new URLSearchParams(t).toString();l.A.get("payments",a).then((e=>{let t=e.data.data.result;this.setState({payments:t,preloader:!1})}))};setPayment=(e,t,a=null)=>{this.props.handleChange(e,t,a)};getByPaymentMethod=e=>{let t=this.state.payments.filter((t=>t.method_id===e))[0].list;return 1==t.length?t[0]:null};handleSubmit=e=>{l.A.add("payments",e).then((e=>{e.data.success?(this.setState({bankModal:!1}),s.oR.success(ndpv.i18n.aAdd),this.props.handleChange(e.data.data,"bank"),this.getLists()):e.data.data.forEach((function(e){s.oR.error(e)}))}))};render(){const{payment_methods:e}=this.props.data,t=ndpv.i18n;return this.props.wc&&!this.props.subs?(0,n.createElement)("div",{className:"pv-form-accordion pv-additional"},(0,n.createElement)("p",{style:{margin:0}},'WooCommerce Payment Activated. If you want to accept direct payment please add Paypal/Stripe on "Payment setting" of Propovoice.')):(0,n.createElement)("div",{className:"pv-form-accordion pv-additional"},this.state.payments.map(((t,a)=>{if(!(wage.length>0&&"bank"!==t.method_id))return(0,n.createElement)("div",{className:"pv-tab",key:a},(0,n.createElement)("input",{type:"checkbox",defaultChecked:e.hasOwnProperty(t.method_id),id:"pv-payment-"+t.method_id,onChange:()=>this.setPayment(t.method_id,"method",this.getByPaymentMethod(t.method_id)),name:"pv-payment-type"}),(0,n.createElement)("label",{className:(e.hasOwnProperty(t.method_id)?"pv-active":"")+" pv-tab-label",htmlFor:"pv-payment-"+t.method_id},t.method_name),(0,n.createElement)("div",{className:"pv-tab-content"},t.list.map(((a,s)=>(0,n.createElement)("div",{className:"pv-payment-bank-content",key:s,onClick:()=>this.setPayment(a,"id")},(0,n.createElement)("div",{className:"pv-payment-image"},(0,n.createElement)("span",null,(0,n.createElement)("svg",{width:20,height:20,viewBox:"0 0 28 29",fill:"none"},(0,n.createElement)("path",{d:"M12.3479 0.555556C13.3232 -0.185185 14.6789 -0.185185 15.6542 0.555556L27.2321 9.33565C28.7067 10.4537 27.9157 12.787 26.0631 12.7963H1.93665C0.0863324 12.787 -0.706994 10.4537 0.769993 9.33565L12.3479 0.555556ZM13.9999 8.74537C14.464 8.74537 14.9091 8.56246 15.2373 8.23688C15.5655 7.91129 15.7499 7.4697 15.7499 7.00926C15.7499 6.54881 15.5655 6.10723 15.2373 5.78164C14.9091 5.45606 14.464 5.27315 13.9999 5.27315C13.5357 5.27315 13.0906 5.45606 12.7624 5.78164C12.4343 6.10723 12.2499 6.54881 12.2499 7.00926C12.2499 7.4697 12.4343 7.91129 12.7624 8.23688C13.0906 8.56246 13.5357 8.74537 13.9999 8.74537ZM3.49997 15.1111V22.0556H6.99994V15.1111H3.49997ZM9.33325 15.1111V22.0556H12.8332V15.1111H9.33325ZM15.1665 15.1111V22.0556H18.6665V15.1111H15.1665ZM20.9998 15.1111V22.0556H24.4998V15.1111H20.9998ZM0 27.2639C0 25.6667 1.30665 24.3704 2.91664 24.3704H25.0831C26.6931 24.3704 27.9997 25.6667 27.9997 27.2639V27.8426C27.9997 28.1496 27.8768 28.4439 27.658 28.661C27.4392 28.8781 27.1425 29 26.8331 29H1.16666C0.85724 29 0.560496 28.8781 0.341706 28.661C0.122915 28.4439 0 28.1496 0 27.8426V27.2639Z",fill:"#4A5568"})))),(0,n.createElement)("div",{className:"payment-text-content"},Object.values(e).indexOf(a.id)>-1&&(0,n.createElement)("span",null,(0,n.createElement)("svg",{width:20,height:20,xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"3.4 5.6 17.6 13.4",enableBackground:"new 3.4 5.6 17.6 13.4",xmlSpace:"preserve"},(0,n.createElement)("path",{d:"M9,16.2L4.8,12l-1.4,1.4L9,19L21,7l-1.4-1.4L9,16.2z"}))),("paypal"==t.method_id||"stripe"==t.method_id)&&(0,n.createElement)("h4",{className:"pv-payment-title"},a.account_name),"bank"==t.method_id&&(0,n.createElement)("h4",{className:"pv-payment-title"},a.name)))))))})),!this.state.payments.length&&(0,n.createElement)(n.Fragment,null,this.state.bankModal&&(0,n.createElement)(i.A,{handleSubmit:this.handleSubmit,show:this.state.bankModal,modalType:"new",close:()=>this.setState({bankModal:!1})}),(0,n.createElement)("div",{className:"pv-payment-buttons"},(0,n.createElement)("button",{className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-hover-color-white",onClick:()=>this.setState({bankModal:!0})},t.add_new," ",t.payment))))}}const o=m},59781:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(51609),s=a(43065),l=a(21241),i=a(53417),m=a(36478);class o extends n.Component{constructor(e){super(e),this.initialState={id:null,type:"bank",name:"",details:"",default:!1,date:!1},this.state={form:this.initialState}}handleChange=e=>{const{name:t,value:a}=e.target;this.setState({form:{...this.state.form,[t]:a}})};handleDesc=(e=null)=>{let t=this.state.form;t.details=e,this.setState({form:t})};toggleChange=()=>{let e=!this.state.form.default;this.setState({form:{...this.state.form,default:e}})};componentDidMount(){this.editData()}componentDidUpdate(){this.editData()}editData=()=>{"edit"==this.props.modalType?this.state.form.id!=this.props.data.id&&this.setState({form:this.props.data}):null!=this.state.form.id&&this.setState({form:this.initialState})};handleSubmit=e=>{e.preventDefault(),ndpv.isDemo?l.oR.error(ndpv.demoMsg):this.props.handleSubmit(this.state.form)};render(){const e=ndpv.i18n,{submitPreloader:t,form:a}=this.state;return(0,n.createElement)("div",{className:"pv-overlay"},(0,n.createElement)("div",{className:"pv-modal-content"},(0,n.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,n.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,n.createElement)(s.OM,null)),(0,n.createElement)("h2",{className:"pv-modal-title"},"new"==this.props.modalType?e.new:e.edit," ",e.account),(0,n.createElement)("p",null,e.necInfo)),(0,n.createElement)(m._H,{submitPreloader:t,submitHandler:this.handleSubmit,close:this.props.close},(0,n.createElement)(m.sf,{formStyleClass:"pv-form-style-one"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)(i.EY,{label:e.name,id:"form-name",type:"text",name:"name",wrapperClassName:"col-lg",value:a.name,onChange:this.handleChange,validation:{required:{value:!0}}})),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},(0,n.createElement)("label",{htmlFor:"form-details"},e.dtl),(0,n.createElement)("textarea",{id:"form-details",rows:4,name:"details",value:a.details,onChange:this.handleChange}),(0,n.createElement)("p",{className:"pv-field-desc"},e.bankDesc)))))))}}const r=o}}]);