"use strict";(globalThis.webpackChunkpropovoice=globalThis.webpackChunkpropovoice||[]).push([[427],{31528:(e,t,a)=>{a.d(t,{H:()=>s,W:()=>n});var l=a(37577);function s(e,t){(0,l.h)((()=>{!function(e,t){var a={name:e.name,mimeType:"image/*"},l=new FormData;l.append("metadata",new Blob([JSON.stringify(a)],{type:"application/json"})),l.append("file",e),i("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",l,o,[t])}(e,t)}))}async function n(e){await(0,l.h)((async()=>{var t=await window.gapi.auth.getToken().access_token;await fetch(`https://www.googleapis.com/drive/v2/files/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}}).then((e=>console.log(e)))}))}function i(e,t,a,l,s=[]){var n=window.gapi.auth.getToken().access_token,i=new XMLHttpRequest;i.open(e,t),i.setRequestHeader("Authorization","Bearer "+n),i.responseType="json",i.onload=e=>{s.push(e),l.apply(this,s)},i.send(a)}function o(e,t){const a=t.target.response.id;e((e=>({...e,url:`https://drive.google.com/uc?export=view&id=${a}`}))),console.log("File uploaded successfully"),i("post",`https://www.googleapis.com/drive/v3/files/${a}/permissions`,new Blob([JSON.stringify({role:"reader",type:"anyone"})],{type:"application/json"}),r,[a])}function r(e){console.log(`The file id ${e} is public now!!!`)}},37577:(e,t,a)=>{a.d(t,{O:()=>c,h:()=>v});var l=a(56303),s=a(21241);let n,i=!1,o=!1;const r=(e,t,a)=>{const l=document.createElement("script");l.async=!0,l.defer=!0,l.src=t,l.id=e,l.onload=a,document.body.appendChild(l)},c=async()=>l.A.get("settings","tab=google_api_oauth2").then((e=>{if(!e.data.success||""===e.data.data.client_id||""===e.data.data.api_key)throw s.oR.error("Please setup Google Client ID and Api key in Settings!"),new Error("Please setup Google Client ID and Api key in Settings!");localStorage.setItem("g_client_id",e.data.data.client_id),localStorage.setItem("g_api_key",e.data.data.api_key)}));function d(){window.gapi.load("client:auth2",m)}async function m(){const e=localStorage.getItem("g_api_key");await window.gapi.client.init({apiKey:e,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]}),i=!0}function p(){const e=localStorage.getItem("g_client_id");n=google.accounts.oauth2.initTokenClient({client_id:e,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file",callback:""}),o=!0}const h=e=>new Promise((t=>setTimeout(t,e)));async function v(e){await c(),r("gapi","https://apis.google.com/js/api.js",d),r("gsi","https://accounts.google.com/gsi/client",p),await h(500),n.callback=async t=>{if(void 0!==t.error)throw t;await e()},null===window.gapi.client.getToken()?await n.requestAccessToken({prompt:"consent"}):await n.requestAccessToken({prompt:""})}},74335:(e,t,a)=>{a.d(t,{A:()=>r});var l=a(51609),s=a(7834),n=a(43065),i=a(21241),o=a(56303);const r=e=>{const t=(0,l.useRef)(),[a,r]=(0,l.useState)(!1),c=(0,l.useCallback)((()=>r(!1)),[]);(0,s.A)(t,c);const{row:d,project:m,boardView:p}=e,{i18n:h,caps:v}=ndpv,u=v.includes("ndpv_client_role");let g=!0;return m&&u&&p&&(g=!1),(0,l.createElement)("div",{className:"pv-action-content"},(0,l.createElement)("button",{className:a?"pv-active":"",onClick:()=>r((e=>!e)),style:{padding:"0 5px"}},(0,l.createElement)(n.ff,null)),a&&(0,l.createElement)("div",{className:"pv-dropdown-content pv-show",ref:t},g&&e.handleOverview&&(0,l.createElement)("a",{onClick:()=>{r(!1),e.handleOverview(d.id)}},h.ov),!u&&e.editEntry&&(0,l.createElement)("a",{onClick:()=>{r(!1),e.editEntry("edit",d)}},h.edit),!u&&(0,l.createElement)("a",{onClick:()=>{if(r(!1),d.file&&d.url){const t=new URL(d.url),a=new URLSearchParams(t.search).get("id");e.deleteEntry("singleDrive",[d.id,a])}else e.deleteEntry("single",d.id)}},h.del),e.resendPassword&&e.resendPassword.show&&(0,l.createElement)("a",{onClick:()=>{r(!1),((e,t)=>{let a={id:e,from:t,type:"resend-password"};o.A.add("actions",a,"pro").then((e=>{e.data.success?i.oR.success("Password resent"):e.data.data.forEach((function(e){i.oR.error(e)}))}))})(d.id,e.resendPassword.from)}},"Resend Password")))}},7280:(e,t,a)=>{a.d(t,{A:()=>i});var l=a(51609),s=a(49764),n=a.n(s);const i=e=>(0,l.createElement)("div",{className:"pv-pagination-content"},(0,l.createElement)(n(),{previousClassName:"pv-previous",nextClassName:"pv-next",disabledClassName:"pv-disabled",previousLabel:(0,l.createElement)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none"},(0,l.createElement)("path",{d:"M7.5 12.833L1.667 7 7.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),nextLabel:(0,l.createElement)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none"},(0,l.createElement)("path",{d:"M1.5 12.833L7.333 7 1.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),breakLabel:(0,l.createElement)("svg",{width:15,height:15,viewBox:"0 0 24 24",fill:"none"},(0,l.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12a2 2 0 10-4 0 2 2 0 004 0zM14 12a2 2 0 10-4 0 2 2 0 004 0zM21 12a2 2 0 10-4 0 2 2 0 004 0z",fill:"#718096"})),breakClassName:"break",forcePage:e.forcePage,pageCount:e.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e.onPageChange,containerClassName:"pv-pagination",activeClassName:"pv-active"}))},9519:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(51609),s=a(43516);const n=e=>{const{rows:t=5}=e;return(0,l.createElement)(s.Ay,{viewBox:"0 0 1500 "+60*t,...e},new Array(t).fill(" ").map(((e,a)=>{const s=e=>t>1?e+60*a:e;return(0,l.createElement)(l.Fragment,{key:a},(0,l.createElement)("rect",{x:"20",y:`${s(20)}`,rx:"4",ry:"4",width:"40",height:"20"}),(0,l.createElement)("rect",{x:"100",y:`${s(20)}`,rx:"10",ry:"4",width:"600",height:"20"}),(0,l.createElement)("rect",{x:"750",y:`${s(20)}`,rx:"10",ry:"4",width:"600",height:"20"}),(0,l.createElement)("rect",{x:"1450",y:`${s(20)}`,rx:"4",ry:"4",width:"20",height:"20"}),(0,l.createElement)("rect",{y:`${s(59)}`,x:"10",ry:"10",width:"1500",height:"1"}))})))}},60427:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var l=a(51609),s=a(7834),n=a(37577),i=a(9519),o=a(7280),r=a(56303),c=a(43065),d=a(17604),m=a(92536),p=a(31528);const h=e=>{const[t,a]=(0,l.useState)({id:null,tab_id:e.tab_id,type:"google-drive",title:"",file:"",url:""}),[s,n]=(0,l.useState)(),[i,o]=(0,l.useState)(),[r,h]=(0,l.useState)(!1);(0,l.useEffect)((()=>{t.url&&!r&&(e.handleSubmit(t),e.close(),h(!0))}),[t.url]);const v=ndpv.i18n,u="new"==e.modalType?v.add+" "+v.new:v.edit;return(0,l.createElement)("div",{className:"pv-overlay pv-show"},(0,l.createElement)("div",{className:"pv-modal-content"},(0,l.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,l.createElement)("span",{className:"pv-close",onClick:()=>e.close()},(0,l.createElement)(c.OM,null)),(0,l.createElement)("h2",{className:"pv-modal-title"},u," ",v.file),(0,l.createElement)("p",null,(0,d.sprintf)(v.formDesc,u,v.file))),(0,l.createElement)("form",{onSubmit:e=>{e.preventDefault(),(0,p.H)(i,a)}},(0,l.createElement)("div",{className:"pv-content"},(0,l.createElement)("div",{className:"pv-form-style-one"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col-lg"},(0,l.createElement)("label",{htmlFor:"title"},v.title),(0,l.createElement)("input",{id:"title",type:"text",name:"title",value:t.title,onChange:e=>{const{name:t,value:l}=e.target;a((e=>({...e,[t]:l})))}}))),(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col-lg"},(0,l.createElement)("label",{htmlFor:"file_id"},v.file),(0,l.createElement)(m.A,{data:t.file,isSelectedFile:!0,selectedFile:o,changeHandler:(e,t=null)=>{a((t=>({...t,file:e})))}}))))),(0,l.createElement)("div",{className:"pv-modal-footer"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col"},(0,l.createElement)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:()=>e.close()},v.cancel)),(0,l.createElement)("div",{className:"col"},(0,l.createElement)("button",{type:"submit",className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-btn-big pv-float-right pv-color-white"},v.save)))))))};var v=a(21241);class u extends l.Component{constructor(e){super(e),this.initialState={id:null,tab_id:this.props.tab_id,type:"file",title:"",file:""},this.state={form:this.initialState}}handleChange=e=>{const{name:t,value:a}=e.target;this.setState({form:{...this.state.form,[t]:a}})};handleSubmit=e=>{e.preventDefault();let t={...this.state.form};0!==t.file.length?(this.props.handleSubmit(t),this.setState({form:this.initialState}),this.props.close()):v.oR.error("File is empty")};handleUploadChange=e=>{let t={...this.state.form};t.file=e,this.setState({form:t})};render(){const e=this.state.form,t=ndpv.i18n,a="new"==this.props.modalType?t.add_new:t.edit;return(0,l.createElement)("div",{className:"pv-overlay pv-show"},(0,l.createElement)("div",{className:"pv-modal-content"},(0,l.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,l.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,l.createElement)(c.OM,null)),(0,l.createElement)("h2",{className:"pv-modal-title"},a," ",t.file),(0,l.createElement)("p",null,(0,d.sprintf)(t.formDesc,a,t.file))),(0,l.createElement)("form",{onSubmit:this.handleSubmit},(0,l.createElement)("div",{className:"pv-content"},(0,l.createElement)("div",{className:"pv-form-style-one"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col-lg"},(0,l.createElement)("label",{htmlFor:"title"},t.title),(0,l.createElement)("input",{id:"title",type:"text",name:"title",value:e.title,onChange:this.handleChange}))),(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col-lg"},(0,l.createElement)("label",{htmlFor:"file_id"},t.file),(0,l.createElement)(m.A,{data:e.file,changeHandler:this.handleUploadChange}))))),(0,l.createElement)("div",{className:"pv-modal-footer"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col"},(0,l.createElement)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:()=>this.props.close()},t.cancel)),(0,l.createElement)("div",{className:"col"},(0,l.createElement)("button",{type:"submit",className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-btn-big pv-float-right pv-color-white"},t.save)))))))}}const g=u;class E extends l.Component{constructor(e){super(e),this.initialState={id:null,tab_id:this.props.tab_id,type:"link",title:"",url:""},this.state={form:this.initialState}}handleChange=e=>{const{name:t,value:a}=e.target;this.setState({form:{...this.state.form,[t]:a}})};componentDidMount(){this.editData()}componentDidUpdate(){this.editData()}editData=()=>{"edit"==this.props.modalType?this.state.form.id!=this.props.data.id&&this.setState({form:this.props.data}):null!=this.state.form.id&&this.setState({form:this.initialState})};handleSubmit=e=>{e.preventDefault();let t={...this.state.form};this.props.handleSubmit(t),this.setState({form:this.initialState})};render(){const e=this.state.form,t=ndpv.i18n,a="new"==this.props.modalType?t.add_new:t.edit;return(0,l.createElement)("div",{className:"pv-overlay pv-show"},(0,l.createElement)("div",{className:"pv-modal-content"},(0,l.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,l.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,l.createElement)(c.OM,null)),(0,l.createElement)("h2",{className:"pv-modal-title"},a," ",t.link),(0,l.createElement)("p",null,sprintf(t.formDesc,a,t.link))),(0,l.createElement)("form",{onSubmit:this.handleSubmit},(0,l.createElement)("div",{className:"pv-content"},(0,l.createElement)("div",{className:"pv-form-style-one"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col-lg"},(0,l.createElement)("label",{htmlFor:"title"},t.title),(0,l.createElement)("input",{id:"title",type:"text",name:"title",required:!0,value:e.title,onChange:this.handleChange}))),(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col-lg"},(0,l.createElement)("label",{htmlFor:"url"},t.url),(0,l.createElement)("input",{id:"url",type:"url",name:"url",required:!0,value:e.url,onChange:this.handleChange}))))),(0,l.createElement)("div",{className:"pv-modal-footer"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col"},(0,l.createElement)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:()=>this.props.close()},t.cancel)),(0,l.createElement)("div",{className:"col"},(0,l.createElement)("button",{type:"submit",className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-btn-big pv-float-right pv-color-white"},t.save)))))))}}const w=E;var b=a(51945),f=a(74335);const C=e=>{const t=ndpv.i18n;return(0,l.createElement)("thead",null,(0,l.createElement)("tr",null,(0,l.createElement)("th",null,(0,l.createElement)("input",{type:"checkbox",onChange:t=>e.checkedBoxes.handle(t,"all")})),(0,l.createElement)("th",null,t.file," ",t.name," ",t.nd," ",t.desc),(0,l.createElement)("th",null,(0,l.createElement)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none"},(0,l.createElement)("path",{d:"M8 10C10.2091 10 12 8.20914 12 6C12 3.79086 10.2091 2 8 2C5.79086 2 4 3.79086 4 6C4 8.20914 5.79086 10 8 10Z",stroke:"#718096",strokeMiterlimit:10}),(0,l.createElement)("path",{d:"M1.9375 13.5001C2.55184 12.4358 3.43552 11.552 4.49972 10.9375C5.56392 10.323 6.77113 9.99951 8 9.99951C9.22887 9.99951 10.4361 10.323 11.5003 10.9375C12.5645 11.552 13.4482 12.4358 14.0625 13.5001",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})),t.upBy),(0,l.createElement)("th",null,(0,l.createElement)("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none"},(0,l.createElement)("path",{d:"M6 10.5C8.48528 10.5 10.5 8.48528 10.5 6C10.5 3.51472 8.48528 1.5 6 1.5C3.51472 1.5 1.5 3.51472 1.5 6C1.5 8.48528 3.51472 10.5 6 10.5Z",stroke:"#718096",strokeMiterlimit:10}),(0,l.createElement)("path",{d:"M6 3.375V6H8.625",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"})),t.time),(0,l.createElement)("th",null,t.action)))},k=e=>{ndpv.i18n;let t=e.tableData.map(((t,a)=>{const s=-1!==e.checkedBoxes.data.indexOf(t.id);return(0,l.createElement)("tr",{key:a},(0,l.createElement)("td",null,(0,l.createElement)("input",{type:"checkbox",value:t.id,checked:s,onChange:a=>e.checkedBoxes.handle(a,"single",t.id)})),(0,l.createElement)("td",null,t.file&&!t.url&&(0,l.createElement)("div",{style:{width:40,display:"inline-block"}},(0,l.createElement)(b.A,{small:t.file.src,large:t.file.src,alt:""})),"google-drive"==t.type&&(0,l.createElement)("a",{target:"_blank",href:t.url},(0,l.createElement)("img",{src:t.url,alt:"file",width:"40"})),!t.file&&(0,l.createElement)("img",{src:ndpv.assetImgUri+"file.png",alt:"file"}),(0,l.createElement)("span",null,"link"==t.type||"google-drive"==t.type||"pdf"==t.type?(0,l.createElement)("a",{target:"_blank",href:t.url},t.title):t.title)),(0,l.createElement)("td",null,(0,l.createElement)("div",{className:"pv-avater"},(0,l.createElement)("img",{src:t.upload_by,alt:"avatar"}))),(0,l.createElement)("td",null,t.date),(0,l.createElement)("td",{className:"pv-action"},(0,l.createElement)(f.A,{row:t,editEntry:"link"==t.type&&e.editEntry,deleteEntry:e.deleteEntry})))}));return(0,l.createElement)("tbody",null,t)},y=e=>{const{tableData:t,editEntry:a,checkedBoxes:s,deleteEntry:n}=e;return(0,l.createElement)(l.Fragment,null,t.length>0&&(0,l.createElement)("div",{className:"pv-table-wrap"},(0,l.createElement)("table",{className:"pv-table pv-table-three"},(0,l.createElement)(C,{checkedBoxes:s}),(0,l.createElement)(k,{tableData:t,editEntry:a,checkedBoxes:s,deleteEntry:n}))))},S=(0,a(9435).A)((e=>{(0,l.useEffect)((()=>{e.getLists(),k()}),[]);const[t,a]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[m,p]=(0,l.useState)("all"),[v,u]=(0,l.useState)(),[E,b]=(0,l.useState)(!1),f=(0,l.useRef)(),C=(0,l.useCallback)((()=>b(!1)),[]);(0,s.A)(f,C);const k=()=>{r.A.get("settings","tab=google_api_oauth2").then((e=>{e.data.success&&u(e.data.data.is_gdrive_active)}))},{lists:S,checkedBoxes:N,searchVal:x}=e.state,L=ndpv.i18n;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"pv-small-button-group pv-small-button-group-two"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col-sm-5"},(0,l.createElement)("h3",{className:"pv-title-small"},L.my," ",L.file),(0,l.createElement)("button",{className:"pv-btn pv-btn-small pv-bg-stroke pv-bg-hover-shadow "+("all"==m?"pv-active":""),onClick:()=>{p("all"),e.getLists()}},"All"),(0,l.createElement)("button",{className:"pv-btn pv-btn-small pv-bg-stroke pv-bg-hover-shadow "+("file"==m?"pv-active":""),onClick:()=>{p("file"),e.getLists({type:"file"})}},L.file),(0,l.createElement)("button",{className:"pv-btn pv-btn-small pv-bg-stroke pv-bg-hover-shadow "+("link"==m?"pv-active":""),onClick:()=>{p("link"),e.getLists({type:"link"})}},L.link),!wage.length&&(0,l.createElement)("button",{className:"pv-btn pv-btn-small pv-bg-stroke pv-bg-hover-shadow "+("drive"==m?"pv-active":""),onClick:()=>{p("drive"),e.getLists({type:"google-drive"})}},L.drive)),(0,l.createElement)("div",{className:"col-sm-7"},(0,l.createElement)("div",{className:"pv-buttons-right pv-text-right"},(0,l.createElement)("div",{style:{position:"relative",display:"inline-block"}},(0,l.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-shadow pv-bg-hover-shadow",style:{marginBottom:10},onClick:()=>{b(!E)}},(0,l.createElement)("svg",{width:17,height:14,viewBox:"0 0 17 16",fill:"none"},(0,l.createElement)("path",{d:"M5.875 5.125L8.5 2.5L11.125 5.125",stroke:"#718096",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.createElement)("path",{d:"M8.5 9.5V2.5",stroke:"#718096",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.createElement)("path",{d:"M14 9.5V13C14 13.1326 13.9473 13.2598 13.8536 13.3536C13.7598 13.4473 13.6326 13.5 13.5 13.5H3.5C3.36739 13.5 3.24021 13.4473 3.14645 13.3536C3.05268 13.2598 3 13.1326 3 13V9.5",stroke:"#718096",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),L.upload),E&&(0,l.createElement)("div",{className:"pv-dropdown-content pv-show",ref:f},v&&!wage.length&&(0,l.createElement)("a",{onClick:async()=>{b(!1),await(0,n.O)(),d(!0)}},(0,l.createElement)("svg",{width:17,height:14,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)("path",{d:"M21.732 15.138c-.002-.034-.011-.065-.02-.098-.009-.033-.017-.064-.031-.094-.005-.01-.005-.02-.01-.029L15.513 4.25A.5.5 0 0015.08 4H8.92a.5.5 0 00-.249.067.488.488 0 00-.165.166c-.005.007-.013.01-.018.017L2.33 14.917a.497.497 0 000 .5l3.08 5.333c.007.013.022.018.03.03.034.048.074.09.123.123.019.013.034.026.054.036.069.036.143.06.226.061h12.317a.5.5 0 00.433-.25l3.079-5.333c.007-.012.005-.028.01-.04a.487.487 0 00.046-.17c.001-.013.01-.025.01-.04 0-.01-.004-.019-.005-.03zM14.79 5l5.581 9.667H15.37L9.787 5h5.004zm-.577 9.667H9.786L12 10.832l2.214 3.835zm-10.875.5L8.92 5.5l2.502 4.333L5.842 19.5l-2.503-4.333zM17.87 20H6.708l2.502-4.333h11.162L17.87 20z",fill:"#718096",strokeWidth:1.5})),"Google Drive"),(0,l.createElement)("a",{onClick:()=>{b(!1),a(!0)}},(0,l.createElement)("svg",{width:17,height:14,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none"},(0,l.createElement)("g",{stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},(0,l.createElement)("path",{d:"M18 22H6a2 2 0 01-2-2V4a2 2 0 012-2h7.1a2 2 0 011.5.6l4.9 5.2a2 2 0 01.5 1.4V20a2 2 0 01-2 2z",fill:"none"}),(0,l.createElement)("path",{d:"M12 17L12 11"}),(0,l.createElement)("path",{d:"M9 14L15 14"}))),L.file))),(0,l.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-stroke pv-bg-shadow pv-bg-hover-shadow",onClick:()=>e.openForm("new")},(0,l.createElement)("svg",{width:12,height:12,viewBox:"0 0 12 12"},(0,l.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.97636 1.90264C8.11473 1.75937 8.28025 1.6451 8.46326 1.56648C8.64626 1.48787 8.84309 1.44649 9.04226 1.44476C9.24143 1.44303 9.43895 1.48098 9.62329 1.5564C9.80764 1.63182 9.97512 1.7432 10.116 1.88404C10.2568 2.02488 10.3682 2.19236 10.4436 2.3767C10.519 2.56105 10.557 2.75857 10.5552 2.95774C10.5535 3.15691 10.5121 3.35374 10.4335 3.53674C10.3549 3.71975 10.2406 3.88527 10.0974 4.02364L7.84736 6.27364C7.56607 6.55484 7.18461 6.71282 6.78686 6.71282C6.38912 6.71282 6.00766 6.55484 5.72636 6.27364C5.58491 6.13702 5.39546 6.06142 5.19881 6.06313C5.00217 6.06484 4.81406 6.14372 4.675 6.28277C4.53594 6.42183 4.45707 6.60994 4.45536 6.80658C4.45365 7.00323 4.52925 7.19268 4.66586 7.33414C5.22845 7.89655 5.99137 8.21249 6.78686 8.21249C7.58236 8.21249 8.34528 7.89655 8.90786 7.33414L11.1579 5.08414C11.7043 4.51833 12.0067 3.76052 11.9999 2.97393C11.9931 2.18734 11.6775 1.4349 11.1213 0.87868C10.5651 0.322456 9.81266 0.00694867 9.02607 0.000113408C8.23948 -0.00672185 7.48167 0.295661 6.91586 0.842135L5.79086 1.96714C5.71923 2.03632 5.6621 2.11908 5.62279 2.21058C5.58348 2.30209 5.56279 2.4005 5.56193 2.50008C5.56106 2.59967 5.58004 2.69843 5.61775 2.7906C5.65546 2.88277 5.71115 2.96651 5.78157 3.03693C5.85199 3.10735 5.93573 3.16304 6.0279 3.20075C6.12007 3.23846 6.21883 3.25744 6.31841 3.25657C6.418 3.25571 6.51641 3.23502 6.60792 3.19571C6.69942 3.15641 6.78218 3.09927 6.85136 3.02764L7.97636 1.90264ZM4.22636 5.65264C4.50766 5.37143 4.88912 5.21346 5.28686 5.21346C5.68461 5.21346 6.06607 5.37143 6.34736 5.65264C6.41655 5.72427 6.49931 5.7814 6.59081 5.82071C6.68231 5.86002 6.78073 5.88071 6.88031 5.88157C6.9799 5.88244 7.07866 5.86346 7.17083 5.82575C7.263 5.78804 7.34674 5.73235 7.41716 5.66193C7.48758 5.59151 7.54327 5.50777 7.58098 5.4156C7.61869 5.32343 7.63767 5.22467 7.6368 5.12508C7.63594 5.0255 7.61525 4.92709 7.57594 4.83558C7.53663 4.74408 7.4795 4.66132 7.40786 4.59214C6.84528 4.02972 6.08236 3.71378 5.28686 3.71378C4.49137 3.71378 3.72845 4.02972 3.16586 4.59214L0.915865 6.84214C0.629334 7.11888 0.400787 7.44991 0.24356 7.81592C0.0863335 8.18193 0.00357472 8.57559 0.00011327 8.97393C-0.00334818 9.37227 0.0725569 9.76731 0.2234 10.136C0.374242 10.5047 0.597002 10.8396 0.87868 11.1213C1.16036 11.403 1.49531 11.6258 1.864 11.7766C2.23269 11.9274 2.62773 12.0033 3.02607 11.9999C3.42441 11.9964 3.81807 11.9137 4.18408 11.7564C4.55009 11.5992 4.88112 11.3707 5.15786 11.0841L6.28286 9.95914C6.3545 9.88995 6.41163 9.80719 6.45094 9.71569C6.49025 9.62419 6.51094 9.52577 6.5118 9.42619C6.51267 9.3266 6.49369 9.22784 6.45598 9.13567C6.41827 9.0435 6.36258 8.95976 6.29216 8.88934C6.22174 8.81892 6.138 8.76323 6.04583 8.72552C5.95366 8.68781 5.8549 8.66883 5.75531 8.6697C5.65573 8.67056 5.55731 8.69125 5.46581 8.73056C5.37431 8.76987 5.29155 8.827 5.22236 8.89864L4.09736 10.0236C3.95899 10.1669 3.79348 10.2812 3.61047 10.3598C3.42747 10.4384 3.23064 10.4798 3.03147 10.4815C2.8323 10.4832 2.63478 10.4453 2.45043 10.3699C2.26609 10.2944 2.09861 10.1831 1.95777 10.0422C1.81693 9.90139 1.70555 9.73391 1.63013 9.54957C1.55471 9.36522 1.51676 9.1677 1.51849 8.96853C1.52022 8.76936 1.5616 8.57254 1.64021 8.38953C1.71883 8.20652 1.8331 8.04101 1.97636 7.90264L4.22636 5.65264Z",fill:"#718096"})),ndpv.i18n.add," ",L.link),(0,l.createElement)("br",null),!1)))),c&&(0,l.createElement)(h,{tab_id:e.tab_id,handleSubmit:e.handleSubmit,modalType:"new",data:e.state.list,close:()=>d(!1)}),t&&(0,l.createElement)(g,{tab_id:e.tab_id,handleSubmit:e.handleSubmit,modalType:"new",data:e.state.list,close:()=>a(!1)}),e.state.formModal&&(0,l.createElement)(w,{tab_id:e.tab_id,handleSubmit:e.handleSubmit,modalType:e.state.formModalType,data:e.state.list,close:e.closeForm}),e.state.preloader?(0,l.createElement)(i.A,null):(0,l.createElement)(y,{tableData:S,searchVal:x,editEntry:e.openForm,checkedBoxes:{data:N,handle:e.handleCheckbox},deleteEntry:e.deleteEntry}),(0,l.createElement)("div",{className:"pv-pagination-content-two"},e.state.totalPage>1&&(0,l.createElement)(o.A,{forcePage:e.state.currentPage-1,pageCount:e.state.totalPage,onPageChange:e.handlePageClick})))}),"file")},9435:(e,t,a)=>{a.d(t,{A:()=>r});var l=a(51609),s=a(21241),n=a(31528),i=a(57536),o=a(60235);const r=(e,t,a,r="",c=!1)=>{r||(r=t+"s");const d=(c?o.BB:o.y0)+r;return class extends l.Component{constructor(e){super(e),this.state={title:a,empty:!1,submitPreloader:!1,preloader:!0,formModal:!1,searchModal:!1,formModalType:"new",list:{id:null},extra:{},lists:[],checkedBoxes:[],offset:0,perPage:10,total:1,totalPage:1,currentPage:1,searchVal:""},this.timeout=0}componentDidMount(){}getLists=(e=null)=>{let t={page:this.state.currentPage,per_page:this.state.perPage};this.props.tab_id&&(t.tab_id=this.props.tab_id),this.props.dashboard&&(t.dashboard=this.props.dashboard),this.props.module_id&&(t.module_id=this.props.module_id),e&&(e=Object.entries(e).reduce(((e,[t,a])=>a?(e[t]=a,e):e),{}),t={...t,...e});let a=new URLSearchParams(t).toString();const l=i.A.get(`${d}/?${a}`,o.Sh);return l.then((e=>{let t=e.data.data.result,a=e.data.data.total,l=!t.length,s={};e.data.data.hasOwnProperty("extra")&&(s=e.data.data.extra),this.setState({lists:t,extra:s,preloader:!1,empty:l,total:a,totalPage:Math.ceil(a/this.state.perPage)})})),l};handleSearch=e=>{const{value:t}=e.target;this.setState({searchVal:t},(()=>{this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.getLists({s:this.state.searchVal})}),300)}))};showItem=(e,t=null)=>{const{value:a}=e.target;this.setState({perPage:a},(()=>{this.getLists(t)}))};handleSubmit=(e,t=null,a=null)=>{let l=this.state.formModalType;t&&(l=t),this.setState({submitPreloader:!0}),"new"==l?i.A.post(d,e,o.Sh).then((e=>{e.data.success?(this.setState({formModal:!1,submitPreloader:!1}),s.oR.success(ndpv.i18n.aAdd),this.getLists(a)):(this.setState({submitPreloader:!1}),e.data.data.forEach((e=>{s.oR.error(e)})))})):i.A.put(`${d}/${e.id}`,e,o.Sh).then((e=>{e.data.success?(this.setState({formModal:!1,submitPreloader:!1}),s.oR.success(ndpv.i18n.aUpd),this.getLists(a)):(this.setState({submitPreloader:!1}),e.data.data.forEach((e=>{s.oR.error(e)})))}))};deleteEntry=async(e,t,a=null,l=null)=>{if(confirm(ndpv.i18n.aConf)){"singleDrive"==e&&(await(0,n.W)(t[1]),t=t[0]);let a="single"==e||"singleDrive"==e?t:this.state.checkedBoxes.toString();i.A.delete(`${d}/${a}`,o.Sh).then((t=>{t.data.success?(s.oR.success(ndpv.i18n.aDel),"single"!=e&&this.setState({checkedBoxes:[]}),this.getLists(l)):t.data.data.forEach((e=>{s.oR.error(e)}))}))}};openForm=(e="new",t=null)=>{"new"==e?this.setState({formModal:!0,formModalType:"new"}):(t.hasOwnProperty("start_date")&&t.start_date&&(t.start_date=new Date(t.start_date)),t.hasOwnProperty("due_date")&&t.due_date&&(t.due_date=new Date(t.due_date)),this.setState({formModal:!0,formModalType:"edit",list:t}))};closeForm=(e="new")=>{"new"==e?this.setState({formModal:!1}):this.setState({searchModal:!1})};handleCheckbox=(e,t,a=null)=>{let l=this.state.checkedBoxes;if("single"==t)e.target.checked?(l.push(a),this.setState({checkedBoxes:l})):(l.splice(l.indexOf(a),1),this.setState({checkedBoxes:l}));else if(e.target.checked){let e=[];this.state.lists.map((t=>{e.push(t.id)})),this.setState({checkedBoxes:e})}else this.setState({checkedBoxes:[]})};handlePageClick=(e,t=null)=>{const a=e.selected+1,l=a*this.state.perPage;this.setState({currentPage:a,offset:l},(()=>{this.getLists(t)}))};render(){return(0,l.createElement)(e,{...this.props,state:this.state,openForm:this.openForm,closeForm:this.closeForm,showItem:this.showItem,getLists:this.getLists,handleCheckbox:this.handleCheckbox,uncheckAll:()=>this.setState({checkedBoxes:[]}),handleSubmit:this.handleSubmit,handleSearch:this.handleSearch,handlePageClick:this.handlePageClick,deleteEntry:this.deleteEntry})}}}}}]);