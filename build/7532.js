"use strict";(globalThis.webpackChunkpropovoice=globalThis.webpackChunkpropovoice||[]).push([[7532],{97532:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var l=a(51609),c=a(25928),n=a(394);const m=e=>{const[t,a]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.getAll("settings","tab=estvoice_tax").then((e=>{e.data.success})),e.getAll("taxonomies","taxonomy=extra_amount").then((e=>{if(e.data.success){let t=e.data.data.extra_amount;a(t)}}))}),[]);const m=(t,a,l,c=null)=>{e.handleChange(t,a,l,c)},r=t=>{wage.length>0?(0,c.A)():e.itemTaxChange(t)},i=e.data,s=ndpv.i18n;return["discount","fee","tax"].map(((a,c)=>(!e.sidebar||e.sidebar==a)&&(0,l.createElement)("li",{key:c},(0,l.createElement)("input",{type:"checkbox",defaultChecked:"checked",onClick:()=>e.setSidebar(a)}),(0,l.createElement)("i",null),(0,l.createElement)("h3",{className:"pv-title-small"},s[a]),(0,l.createElement)("div",{className:"pv-form-accordion pv-additional"},"tax"==a&&(0,l.createElement)("div",{className:"pv-form-style-one"},(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col",style:{marginBottom:"0"}},(0,l.createElement)("label",{id:"form-item_tax"},s.eachitem_tax_field,wage.length>0&&(0,l.createElement)(n.A,null)),(0,l.createElement)("div",{className:"pv-field-switch pv-ml-10"},(0,l.createElement)("label",{className:"pv-switch"},(0,l.createElement)("input",{type:"checkbox",id:"form-item_tax",name:"item_tax",checked:e.item_tax?"checked":"",onChange:r}),(0,l.createElement)("span",{className:"pv-switch-slider pv-round"})))))),t.map(((t,c)=>{if(t.extra_amount_type!=a)return;let n=i.find((e=>e.id==t.id)),r=!1,d=!1,o="",p="";n?("percent"===n.val_type?r=!0:d=!0,o=t.hasOwnProperty("tax_cal")?n.tax_cal:"",p=t.hasOwnProperty("fee_cal")?n.fee_cal:""):("percent"===t.val_type?r=!0:d=!0,o=t.hasOwnProperty("tax_cal")?t.tax_cal:"",p=t.hasOwnProperty("fee_cal")?t.fee_cal:"");let v=!0;return"tax"!=t.extra_amount_type&&"tax"!=t.type||e.item_tax||(v=!1),(0,l.createElement)("div",{className:"pv-tab",key:c},(0,l.createElement)("input",{checked:!!n,onChange:()=>m(c,t,"field"),type:"checkbox",id:"addi-field-"+c,name:"addi-field"}),(0,l.createElement)("label",{className:(n?"pv-active":"")+" pv-tab-label",htmlFor:"addi-field-"+c},t.label),(0,l.createElement)("div",{className:"pv-tab-content"},(0,l.createElement)("div",{className:"pv-form-style-one"},(0,l.createElement)("div",{className:"pv-radio-content"},(0,l.createElement)("div",{className:"pv-radio-group"},(0,l.createElement)("h4",null,t.label," ",s.type,":"),(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col"},(0,l.createElement)("div",{className:"pv-field-radio"},(0,l.createElement)("input",{onChange:()=>m(c,t,"type","percent"),checked:r?"checked":"",type:"radio",name:"val-type-"+c,id:"val-type-percent-"+c,value:"percent"}),(0,l.createElement)("label",{htmlFor:"val-type-percent-"+c},s.pct))),(0,l.createElement)("div",{className:"col pv-p-0"},(0,l.createElement)("div",{className:"pv-field-radio"},(0,l.createElement)("input",{onChange:()=>m(c,t,"type","fixed"),checked:d?"checked":"",type:"radio",name:"val-type-"+c,id:"val-type-fixed-"+c,value:"fixed"}),(0,l.createElement)("label",{htmlFor:"val-type-fixed-"+c},s.fix)))),r&&v&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("h4",null,s.tax," ",s.cal,":"),(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col"},(0,l.createElement)("select",{style:{padding:10},name:"tax_cal",value:o,onChange:e=>m(c,t,"cal",e)},(0,l.createElement)("option",{value:""},s.with," ","tax"==t.extra_amount_type?s.item:""," ",s.tax),(0,l.createElement)("option",{value:"1"},s.witho," ","tax"==t.extra_amount_type?s.item:""," ",s.tax))))),r&&("discount"==t.extra_amount_type||"discount"==t.type)&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("h4",{className:"pv-mt-10"},s.fee," ",s.cal,":"),(0,l.createElement)("div",{className:"row"},(0,l.createElement)("div",{className:"col"},(0,l.createElement)("select",{style:{padding:10},name:"fee_cal",value:p,onChange:e=>m(c,t,"cal",e)},(0,l.createElement)("option",{value:""},s.with," ",s.fee),(0,l.createElement)("option",{value:"1"},s.witho," ",s.fee))))))))))}))))))}}}]);