"use strict";(globalThis.webpackChunkpropovoice=globalThis.webpackChunkpropovoice||[]).push([[5136],{31528:(e,t,a)=>{a.d(t,{H:()=>l,W:()=>o});var n=a(37577);function l(e,t){(0,n.h)((()=>{!function(e,t){var a={name:e.name,mimeType:"image/*"},n=new FormData;n.append("metadata",new Blob([JSON.stringify(a)],{type:"application/json"})),n.append("file",e),s("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",n,r,[t])}(e,t)}))}async function o(e){await(0,n.h)((async()=>{var t=await window.gapi.auth.getToken().access_token;await fetch(`https://www.googleapis.com/drive/v2/files/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}}).then((e=>console.log(e)))}))}function s(e,t,a,n,l=[]){var o=window.gapi.auth.getToken().access_token,s=new XMLHttpRequest;s.open(e,t),s.setRequestHeader("Authorization","Bearer "+o),s.responseType="json",s.onload=e=>{l.push(e),n.apply(this,l)},s.send(a)}function r(e,t){const a=t.target.response.id;e((e=>({...e,url:`https://drive.google.com/uc?export=view&id=${a}`}))),console.log("File uploaded successfully"),s("post",`https://www.googleapis.com/drive/v3/files/${a}/permissions`,new Blob([JSON.stringify({role:"reader",type:"anyone"})],{type:"application/json"}),i,[a])}function i(e){console.log(`The file id ${e} is public now!!!`)}},37577:(e,t,a)=>{a.d(t,{O:()=>c,h:()=>h});var n=a(56303),l=a(21241);let o,s=!1,r=!1;const i=(e,t,a)=>{const n=document.createElement("script");n.async=!0,n.defer=!0,n.src=t,n.id=e,n.onload=a,document.body.appendChild(n)},c=async()=>n.A.get("settings","tab=google_api_oauth2").then((e=>{if(!e.data.success||""===e.data.data.client_id||""===e.data.data.api_key)throw l.oR.error("Please setup Google Client ID and Api key in Settings!"),new Error("Please setup Google Client ID and Api key in Settings!");localStorage.setItem("g_client_id",e.data.data.client_id),localStorage.setItem("g_api_key",e.data.data.api_key)}));function d(){window.gapi.load("client:auth2",m)}async function m(){const e=localStorage.getItem("g_api_key");await window.gapi.client.init({apiKey:e,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]}),s=!0}function p(){const e=localStorage.getItem("g_client_id");o=google.accounts.oauth2.initTokenClient({client_id:e,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.file",callback:""}),r=!0}const u=e=>new Promise((t=>setTimeout(t,e)));async function h(e){await c(),i("gapi","https://apis.google.com/js/api.js",d),i("gsi","https://accounts.google.com/gsi/client",p),await u(500),o.callback=async t=>{if(void 0!==t.error)throw t;await e()},null===window.gapi.client.getToken()?await o.requestAccessToken({prompt:"consent"}):await o.requestAccessToken({prompt:""})}},60235:(e,t,a)=>{a.d(t,{BB:()=>l,Sh:()=>o,y0:()=>n});const n=`${ndpv.apiUrl}ndpv/v1/`,l=`${ndpv.apiUrl}ndpvp/v1/`,o={headers:{"content-type":"application/json","X-WP-NONCE":ndpv.nonce,"Cache-Control":"no-cache"}}},74263:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(57536),l=a(60235);const o=l.y0+"media",s={...l.Sh,"Content-Type":"multipart/form-data","Cache-Control":"no-cache"},r={getAll:(e="")=>n.A.get(`${o}/?${e}`,l.Sh),getAttachment:e=>n.A.get(`${o}/attachment/${e}`,l.Sh),getDefaultAttachment:e=>n.A.get(`${o}/attachment/${e}/default/get`,l.Sh),setDefaultAttachment:(e,t)=>n.A.get(`${o}/attachment/${e}/default/set/${t}`,l.Sh),get:e=>n.A.get(`${o}/${e}`,l.Sh),create:e=>n.A.post(o,e,{headers:s}),update:(e,t)=>n.A.put(`${o}/${e}`,t,{headers:s}),remove:e=>n.A.delete(`${o}/${e}`,l.Sh),findByArg:e=>n.A.get(`${o}?title=${e}`,l.Sh)}},41251:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(51609);const l=e=>(0,n.createElement)("nav",{className:"pv-breadcrumb"},(0,n.createElement)("ul",{className:""},(0,n.createElement)("li",null,(0,n.createElement)("a",{href:"#",className:""},ndpv.i18n.home)),(0,n.createElement)("li",null,(0,n.createElement)("svg",{width:5,height:10,viewBox:"0 0 5 10",fill:"none"},(0,n.createElement)("path",{d:"M0.5 1.25L4.25 5L0.5 8.75",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("li",{className:"pv-active"},"Lead"==e.title?ndpv.i18n.lead:"Deal Pipeline"==e.title?ndpv.i18n.deal_pipeline:"Estimate"==e.title?ndpv.i18n.est:"Invoice"==e.title?ndpv.i18n.inv:"Client"==e.title?ndpv.i18n.client:"Project"==e.title?ndpv.i18n.project:"Task"==e.title?ndpv.i18n.task:"Contact Book"==e.title?ndpv.i18n.ct_book:"Settings"==e.title?ndpv.i18n.settings:e.title)))},18235:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(51609),l=a.n(n),o=(a(75199),a(67741),a(16075),a(77726),a(55775),a(78002));class s extends n.Component{constructor(e){super(e),this.state={loaded:!1,value:"",content:""},this.editorRef=l().createRef()}handleEditorChange=(e,t)=>{this.props.readOnly||this.setState({content:e},(()=>{null==this.props.index?this.props.changeHandler(this.state.content):this.props.changeHandler(this.props.index,this.state.content)}))};componentDidUpdate(){0==this.state.loaded&&this.props.value&&this.setState({loaded:!0,content:this.props.value})}render=()=>{const{content:e}=this.state;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(o.K,{onInit:(e,t)=>this.editorRef.current=t,init:{readonly:this.props.readOnly,skin:!1,branding:!1,content_css:!1,height:150,menubar:!1,plugins:["lists"],content_style:"@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');.mce-content-body {font-family: 'Inter';fontSize = '10';font-style: normal;font-weight: 400;}",toolbar:"undo redo | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist"},value:e,onEditorChange:this.handleEditorChange}))}}const r=s},92536:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(51609),l=a.n(n),o=a(21241),s=a(74263),r=a(51945);function i({label:e=ndpv.i18n.upload,btnClass:t="",imgClass:a="",data:i,multiple:c,clipOnly:d,readOnly:m,...p}){const[u,h]=(0,n.useState)(!1),v=l().createRef(),g=e=>{confirm(ndpv.i18n.aConf)&&(p.multiple?p.changeHandler(e,!0):p.changeHandler(null),s.A.remove(e).then((e=>{e.data.success||e.data.data.forEach((function(e){o.oR.error(e)}))})))},E=e=>{e.preventDefault(),p.library?h(!0):v.current.click()};let f=void 0===p.remove;return(0,n.createElement)("div",{className:"pv-field-logo-wrap "+a},!1,i&&!c&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"pv-field-logo"},"application/pdf"==i.type?(0,n.createElement)("a",{href:i.src,target:"_blank"},i.name):(0,n.createElement)("div",{style:{width:p.small?40:100,display:"inline-block"}},(0,n.createElement)(r.A,{small:i.src,large:i.src})),f&&(0,n.createElement)("span",{className:"pv-field-logo-close",onClick:()=>g(i.id)},"×"))),c&&i.length>0&&(0,n.createElement)(n.Fragment,null,i&&i.map(((e,t)=>(0,n.createElement)("div",{className:"pv-field-logo",key:t,style:{marginRight:10}},"application/pdf"==e.type?e.name:(0,n.createElement)("img",{src:e.src,width:p.small?"40":"100"}),f&&(0,n.createElement)("span",{className:"pv-field-logo-close",onClick:()=>g(e.id)},"×"))))),!p.viewOnly&&(!i||c)&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("input",{type:"file",ref:v,onChange:e=>{(e=>{p.isSelectedFile&&p.selectedFile(e.target.files[0])})(e),(e=>{const t=new FormData;t.append("file",e);const a=p.attach_type||"ndpv";t.append("attach_type",a);let n=void 0!==p.permission;t.append("permission",n),s.A.create(t).then((e=>{e.data.success?p.changeHandler(e.data.data):e.data.data.forEach((function(e){o.oR.error(e)}))}))})(e.target.files[0])},style:{display:"none"}}),!d&&(0,n.createElement)("button",{className:"pv-btn pv-bg-stroke pv-bg-hover-stroke "+t,onClick:e=>E(e),style:{padding:p.padding?p.padding:"10px 20px",border:"1px solid #E2E8F0"},disabled:m},(0,n.createElement)("svg",{width:25,height:25,viewBox:"0 0 14 14",fill:"none"},(0,n.createElement)("path",{d:"M3.66824 10.0907C3.01193 10.0915 2.37842 9.85536 1.88909 9.42768C1.39976 9 1.08901 8.41081 1.01638 7.773C0.943746 7.13518 1.11434 6.49358 1.49547 5.97112C1.87661 5.44866 2.44148 5.08208 3.08188 4.94161C2.89659 4.09662 3.06217 3.21426 3.5422 2.48865C4.02223 1.76304 4.77738 1.25361 5.64153 1.07243C6.50568 0.891248 7.40804 1.05316 8.1501 1.52254C8.89217 1.99193 9.41315 2.73034 9.59844 3.57533H9.66507C10.4913 3.57451 11.2883 3.87392 11.9014 4.41541C12.5146 4.9569 12.9001 5.70185 12.9831 6.50564C13.0662 7.30943 12.8408 8.11472 12.3508 8.76517C11.8608 9.41562 11.1411 9.86483 10.3314 10.0256M8.99875 8.13612L6.99981 6.1815M6.99981 6.1815L5.00087 8.13612M6.99981 6.1815V13",stroke:"#4C6FFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),(0,n.createElement)("span",null,e)),d&&(0,n.createElement)("span",{className:"pv-paper-clip",onClick:e=>E(e)},(0,n.createElement)("svg",{width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M10.5001 4.24894L3.99228 10.8661C3.77683 11.1039 3.66107 11.4154 3.66897 11.7362C3.67687 12.057 3.80782 12.3624 4.03471 12.5893C4.2616 12.8162 4.56705 12.9472 4.88783 12.9551C5.2086 12.963 5.52013 12.8472 5.75791 12.6318L13.5157 4.76457C13.9466 4.28901 14.1781 3.66595 14.1623 3.0244C14.1465 2.38286 13.8846 1.77195 13.4309 1.31817C12.9771 0.864391 12.3662 0.602491 11.7246 0.586696C11.0831 0.5709 10.46 0.802418 9.98447 1.23332L2.22666 9.10051C1.52425 9.80292 1.12964 10.7556 1.12964 11.7489C1.12964 12.7423 1.52425 13.695 2.22666 14.3974C2.92907 15.0998 3.88174 15.4944 4.8751 15.4944C5.86845 15.4944 6.82112 15.0998 7.52353 14.3974L13.9376 7.99894",stroke:"#2D3748",strokeLinecap:"round",strokeLinejoin:"round"})))))}},36478:(e,t,a)=>{a.d(t,{_H:()=>c,cK:()=>i,sf:()=>d});var n=a(51609),l=a(21241),o=a(55800),s=a(394),r=a(29425);const i=(0,n.createContext)({});function c({submitHandler:e,submitPreloader:t=!1,close:a,submitLabel:o,children:s,formTag:c=!0,isMultipart:d=!1,isPro:p=!1,showSubmitButton:u=!0}){const[h,v]=(0,n.useState)({}),[g,E]=(0,n.useState)({}),[f,b]=(0,n.useState)({}),[w,y]=(0,n.useState)(!1),[k,C]=(0,n.useState)();(0,n.useEffect)((()=>{w&&k&&(0===S(g)?e(k):l.oR.error("Invalid submission!!!"),y(!1))}),[w,g]);const S=e=>e&&"object"==typeof e?Object.values(e).reduce((function(e,t){return e+t.length}),0):0,A=e=>{e.preventDefault(),(0,r.hs)(h,v,E),y(!0),C(e)},x=(0,n.createElement)(n.Fragment,null,s,(0,n.createElement)(m,{close:a,submitPreloader:t,submitLabel:o,formTag:c,onSubmit:A,isPro:p,showSubmitButton:u}));return(0,n.createElement)(i.Provider,{value:{form:h,setForm:v,setErrorFields:E,groupFields:f,setGroupFields:b}},c?d?(0,n.createElement)("form",{onSubmit:A,encType:"multipart/form-data"},x):(0,n.createElement)("form",{onSubmit:A},x):(0,n.createElement)("div",null,x))}function d({formStyleClass:e,children:t}){return(0,n.createElement)("div",{className:"pv-content"},(0,n.createElement)("div",{className:e},t))}function m({close:e,submitPreloader:t,submitLabel:a,formTag:l,onSubmit:r,isPro:i,showSubmitButton:c}){const d=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-modal-footer"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},e&&(0,n.createElement)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:()=>e()},d.cancel)),c&&(0,n.createElement)("div",{className:"col"},(0,n.createElement)("button",{type:"submit",disabled:t,...l?{}:{onClick:r},className:"pv-btn pv-bg-blue pv-bg-hover-blue  pv-float-right pv-color-white"},t&&(0,n.createElement)(o.A,{submit:!0})," ",a||d.save,i&&(0,n.createElement)(s.A,{blueBtn:!0})))))}},8935:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(51609),l=a(81083);const o=e=>{const t=ndpv.i18n,{data:a,handleChange:o,selectCountry:s}=e;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md-6"},(0,n.createElement)("label",{htmlFor:"form-country"},t.country),(0,n.createElement)(l.wP,{value:a.country,valueType:"short",onChange:e=>s(e)})),(0,n.createElement)("div",{className:"col-md-6"},(0,n.createElement)("label",{htmlFor:"form-region"},t.state_region),(0,n.createElement)("input",{id:"form-region",type:"text",name:"region",value:a.region,onChange:o}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},(0,n.createElement)("label",{htmlFor:"form-address"},t.addr),(0,n.createElement)("input",{id:"form-address",type:"text",name:"address",value:a.address,onChange:o}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-city"},t.city),(0,n.createElement)("input",{id:"field-city",type:"text",name:"city",value:a.city,onChange:o})),(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-zip"},t.zip),(0,n.createElement)("input",{id:"field-zip",type:"text",name:"zip",value:a.zip,onChange:o}))))}},95231:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(51609),l=a(43065);const o=({label:e,type:t="button",iconName:a,size:o,cssStyle:s,handleClick:r,buttonStyle:i="default"})=>{const c={white:{button:{css:{},class:"pv-bg-stroke pv-bg-hover-stroke"},icon:"blue"},default:{button:{css:{},class:"pv-bg-blue pv-color-white pv-bg-air-white pv-bg-hover-blue"},icon:"default"}};return(0,n.createElement)("button",{type:t,style:{margin:"5px",...s,...c[i].button.css},className:"pv-btn "+{big:"pv-btn-big",medium:" pv-btn-medium"}[o]+" "+c[i].button.class,onClick:e=>{e.preventDefault(),r()}},(0,n.createElement)(l.BS,{name:a,style:c[i].icon}),e)}},97300:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(51609);const l=({style:e,id:t,name:a,label:l={},changeHandler:o,isChecked:s})=>{const r=(0,n.createElement)("input",{type:"checkbox",id:t,name:a,checked:s,onChange:o}),i=(0,n.createElement)("div",{className:"pv-field-switch"},(0,n.createElement)("label",{className:"pv-switch"},r,(0,n.createElement)("span",{className:"pv-switch-slider pv-round"}))),c="left"===l?.position?"marginRight":"marginLeft",d=l?.text&&(0,n.createElement)("label",{id:t,style:{[c]:"10px"}},l.text);return(0,n.createElement)(n.Fragment,null,"left"===l?.position&&d,"switch"===e?i:r,"right"===l?.position&&d)}},62926:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(51609),l=a(36478),o=a(29425);const s=({label:e,wrapperClassName:t="col",validation:a={},onChange:s=(()=>{}),...r})=>{var i;const{form:c,setForm:d,setErrorFields:m,setGroupFields:p}=(0,n.useContext)(l.cK),{name:u,value:h=""}=r,v=c[u]?.validation||{};(0,n.useEffect)((()=>{u in c||d((e=>({...e,[u]:{...e[u],value:h,validation:a}})))}),[]),(0,n.useEffect)((()=>{d((e=>({...e,[u]:{...e[u],value:h}})))}),[h]);const g=null!==(i=c[u]?.validation?.required?.value)&&void 0!==i&&i;return(0,n.createElement)("div",{className:t},(0,n.createElement)("label",{htmlFor:r.id},e," ",g&&(0,n.createElement)("span",{style:{color:"red"},title:"This field is required"},"*")),(0,n.createElement)("input",{onChange:e=>{d((t=>({...t,[u]:{...t[u],value:e.target.value}}))),(0,o.UF)(u,e.target.value,c,d,m),s(e)},...r}),Object.entries(v).map((([e,{error:t=""}])=>(0,n.createElement)("div",{key:e,style:{color:"#fd5870",marginTop:"4px"}},t.charAt(0).toUpperCase()+t.slice(1)))))}},53417:(e,t,a)=>{a.d(t,{$n:()=>n.A,EY:()=>o.A,Sc:()=>l.A,pV:()=>s.A});var n=a(95231),l=a(97300),o=a(62926),s=a(8935)},29425:(e,t,a)=>{a.d(t,{UF:()=>l,hs:()=>o});const n={required:"field is required",email:"is invalid"},l=(e,t,a,n,l)=>{for(const[o,r]of Object.entries(a[e].validation))s(o,r,e,t,n,l)},o=(e,t,a)=>{for(const[n,{value:l,validation:o}]of Object.entries(e))for(const[e,r]of Object.entries(o))s(e,r,n,l,t,a)},s=(e,t,a,n,l,o)=>{switch(e){case"required":r(e,t,a,n,l,o);break;case"email":i(e,t,a,n,l,o)}},r=(e,t,a,n,l,o)=>{t?.value&&0===n?.length?d(e,t,a,l,o):m(e,a,l,o,!0)},i=(e,t,a,n,l,o)=>{!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,63}$/.test(n)&&n.length>0?d(e,t,a,l,o):m(e,a,l,o,!0)},c=(e,t,a,n,l="default")=>{e((e=>(l="default"!==l?l:e[t].validation[a].value,{...e,[t]:{...e[t],validation:{...e[t].validation,[a]:{...e[t].validation[a],value:l,error:n}}}})))},d=(e,t,a,l,o)=>{var s;const r=null!==(s=t.message)&&void 0!==s?s:a+" "+n[e];c(l,a,e,r),o((t=>{const n=Array.isArray(t[a])?[...t[a],e]:[e];return{...t,[a]:[...new Set(n)]}}))},m=(e,t,a,n,l=!1)=>{c(a,t,e,"",l),n((a=>{if(a[t]&&Array.isArray(a[t])){const n=a[t].indexOf(e);-1!==n&&a[t].splice(n,1)}return a}))}},25928:(e,t,a)=>{function n(){document.getElementById("pv-pro-alert").style.display="block"}a.d(t,{A:()=>n})},394:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(51609);const l=e=>(0,n.createElement)(n.Fragment,null,wage.length>0&&(0,n.createElement)("span",{className:"pv-pro-label",onClick:()=>{document.getElementById("pv-pro-alert").style.display="block"},style:{background:e.blueBtn?"#FFEED9":"auto"}},(0,n.createElement)("svg",{width:13,height:10,viewBox:"0 0 13 10",fill:"none"},(0,n.createElement)("path",{d:"M1.71013 8.87452C1.72412 8.93204 1.7495 8.98616 1.78477 9.0337C1.82003 9.08124 1.86447 9.12123 1.91545 9.15131C1.96643 9.18139 2.02292 9.20094 2.08158 9.20882C2.14025 9.2167 2.19989 9.21274 2.257 9.19718C4.86395 8.47534 7.61803 8.47534 10.225 9.19718C10.2821 9.21274 10.3417 9.2167 10.4004 9.20882C10.4591 9.20094 10.5156 9.18139 10.5665 9.15131C10.6175 9.12123 10.6619 9.08124 10.6972 9.0337C10.7325 8.98616 10.7579 8.93204 10.7718 8.87452L12.1664 2.95187C12.1855 2.87259 12.1821 2.78954 12.1566 2.71209C12.131 2.63464 12.0843 2.56588 12.0218 2.51356C11.9592 2.46123 11.8833 2.42744 11.8025 2.41599C11.7218 2.40454 11.6395 2.41588 11.5648 2.44874L8.79763 3.67921C8.69737 3.72336 8.5843 3.72879 8.48027 3.69445C8.37624 3.6601 8.28863 3.58843 8.23435 3.49327L6.62653 0.594837C6.5887 0.526455 6.53324 0.469456 6.46592 0.429765C6.3986 0.390074 6.32187 0.369141 6.24372 0.369141C6.16557 0.369141 6.08885 0.390074 6.02153 0.429765C5.95421 0.469456 5.89874 0.526455 5.86091 0.594837L4.2531 3.49327C4.19882 3.58843 4.1112 3.6601 4.00717 3.69445C3.90314 3.72879 3.79008 3.72336 3.68982 3.67921L0.922629 2.44874C0.847988 2.41588 0.765648 2.40454 0.684901 2.41599C0.604154 2.42744 0.528216 2.46123 0.465658 2.51356C0.403099 2.56588 0.35641 2.63464 0.330861 2.71209C0.305312 2.78954 0.301919 2.87259 0.321067 2.95187L1.71013 8.87452Z",fill:"#FF6B00"})),"Pro"))},95136:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var n=a(51609),l=a(41251),o=a(56303),s=a(21241);var r=a(53417),i=a(36478),c=(a(92536),a(25928)),d=a(18235);const m=function(){return(0,n.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 20 20"},(0,n.createElement)("path",{fill:"#718096",fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))},p={color:"var(--Gray-900, #1A202C)",fontFamily:"Inter",fontSize:"16px",fontStyle:"normal",fontWeight:600,lineHeight:"100%",paddingBottom:"19px"},u={display:"flex",flexDirection:"column"};function h({setVisibility:e,module_id:t,data:a,parent:l,actionData:u={},setActionData:h={}}){const[v,g]=(0,n.useState)(u),[E,f]=(0,n.useState)([]),[b,w]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{o.A.add("custom-email-templates").then((e=>{f(e.data)}))}),[]),(0,n.createElement)("div",null,(0,n.createElement)("div",{style:{borderRadius:"18px",backgroundColor:"#F7F8FA",padding:"34px"}},(0,n.createElement)(i._H,{submitPreloader:!1,submitHandler:()=>{wage.length>0?(0,c.A)():o.A.add("send-email",v).then((t=>{t.data.success?(s.oR.success("Email sent"),e(!1),window.dispatchEvent(new Event("emailSent"))):s.oR.error("Unable to send email")})).catch((e=>{s.oR.error("Someting went wrong")}))},submitLabel:"",isPro:!0,close:!1,showSubmitButton:!1},(0,n.createElement)(i.sf,{formStyleClass:"pv-form-style-one"},(0,n.createElement)("div",{style:p},"Send Mail"),(0,n.createElement)("div",{className:"row"},(0,n.createElement)(r.EY,{label:"Subject",id:"field-subject",type:"text",name:"email-subject",wrapperClassName:"col-md",value:v.subject,style:{backgroundColor:"#fff"},onChange:e=>{g({...v,subject:e.target.value}),h({...v,subject:e.target.value})},validation:{required:{value:!0}}})),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("div",{style:{display:"flex",justifyContent:"space-between"}},(0,n.createElement)("div",null,(0,n.createElement)("label",{htmlFor:"field-message"},"Message ")),(0,n.createElement)("div",{onClick:()=>w(!b),style:{display:"flex",position:"relative",cursor:"pointer"}},(0,n.createElement)("div",null,"Select Email Template"),(0,n.createElement)(m,null),b&&(0,n.createElement)("div",{style:{right:"0px"},className:"pv-dropdown-content pv-show"},E.map(((e,l)=>(0,n.createElement)("a",{onClick:n=>{((e,n)=>{e.preventDefault(),g({to:a.person.email,subject:n.subject,message:n.message,postId:t})})(n,e)},key:l,href:"#"},(0,n.createElement)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"}},(0,n.createElement)("div",null,(0,n.createElement)("div",{style:{fontWeight:"500",fontSize:"12px"}},e.name))))))))),(0,n.createElement)(d.A,{key:10,value:v.message,index:10,changeHandler:(e,t=null)=>{g({...v,message:t}),h({...v,message:t})}})))))))}function v(e){return(0,n.createElement)("div",null,(0,n.createElement)(h,{actionData:e.actionData,setActionData:e.setActionData,data:{person:{email:"prappo.prince@gmail.com"}}}))}var g=a(7834);a(76154);const E={color:"var(--Gray-600, #718096)",fontFamily:"Inter",fontSize:"14px",fontStyle:"normal",fontWeight:400,lineHeight:"14px",paddingTop:"12px"};function f(e){const[t,a]=(0,n.useState)([]);return(0,n.useEffect)((()=>{o.A.get("staffs","tab_id=","pro").then((e=>{e.data.success&&a(e.data.data.result)}))}),[]),(0,n.createElement)("div",null,(0,n.createElement)("div",{style:E},"Select Team member"),(0,n.createElement)("div",{style:{paddingTop:"10px",backgroundColor:"#F7F8FA"},className:"ndpv pv-form-style-one"},(0,n.createElement)("select",{value:e.actionData.member?e.actionData.member.name:"",onChange:a=>{return n=a.target.value,void e.setActionData({...e.actionData,member:(l=n,t.find((e=>e.name===l)))});var n,l},style:{backgroundColor:"#fff",maxWidth:"100%"}},(0,n.createElement)("option",{value:""},"Select Team Member"),t.map((e=>(0,n.createElement)("option",{key:e.id},e.name))))))}const b=e=>{const t=e.actionData,[a,l]=(0,n.useState)(t),[s,r]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[d,m]=(0,n.useState)([]),[u,h]=(0,n.useState)(!1),[v,E]=(0,n.useState)(!1),b=(0,n.useRef)(),w=(0,n.useCallback)((()=>h(!1)),[]);(0,g.A)(b,w);const y=(0,n.useRef)(),k=(0,n.useCallback)((()=>E(!1)),[]);(0,g.A)(y,k),(0,n.useEffect)((()=>{o.A.get("taxonomies","taxonomy=task_status,task_type,task_priority").then((t=>{if(t.data.success){let n={...a};const o=t.data.data.task_status,s=t.data.data.task_type,i=t.data.data.task_priority;n.status_id=o[0],n.type_id=s[0],n.priority_id=i[0],l(n),r(o),c(s),m(i),e.setTaxonomies({status:o,types:s,priorities:i})}}))}),[]);const C=(t,n,o)=>{t.preventDefault(),"type_id"==o?h(!1):E(!1),l({...a,[o]:n}),e.setActionData(a)},S=ndpv.i18n;return(0,n.createElement)("div",{style:{borderRadius:"18px",backgroundColor:"#F7F8FA",padding:"34px"}},(0,n.createElement)("div",{style:p},"Task"),(0,n.createElement)("div",{className:"pv-tab-buttons-group"},(0,n.createElement)("div",{className:"pv-activity-field"},(0,n.createElement)("input",{id:"field-title",type:"text",required:!0,name:"title",value:a.title,placeholder:S.add+" "+S.task,onChange:t=>{const n=t.target,o=n.name,s="checkbox"===n.type?n.checked:n.value;l({...a,[o]:s}),e.setActionData(a)}})),(0,n.createElement)("div",{className:"pv-tab-buttons"},(0,n.createElement)("div",{className:"pv-action-content",ref:b},(0,n.createElement)("button",{className:"pv-task-btn",type:"button",onClick:()=>h((e=>!e))},a.type_id&&a.type_id.icon&&(0,n.createElement)("img",{src:a.type_id.icon.src}),a.type_id&&!a.type_id.icon&&(0,n.createElement)("svg",{width:16,height:20,viewBox:"0 0 16 20",fill:"none"},(0,n.createElement)("path",{d:"M5 3H3C2.46957 3 1.96086 3.21071 1.58579 3.58579C1.21071 3.96086 1 4.46957 1 5V17C1 17.5304 1.21071 18.0391 1.58579 18.4142C1.96086 18.7893 2.46957 19 3 19H13C13.5304 19 14.0391 18.7893 14.4142 18.4142C14.7893 18.0391 15 17.5304 15 17V5C15 4.46957 14.7893 3.96086 14.4142 3.58579C14.0391 3.21071 13.5304 3 13 3H11M5 3C5 3.53043 5.21071 4.03914 5.58579 4.41421C5.96086 4.78929 6.46957 5 7 5H9C9.53043 5 10.0391 4.78929 10.4142 4.41421C10.7893 4.03914 11 3.53043 11 3M5 3C5 2.46957 5.21071 1.96086 5.58579 1.58579C5.96086 1.21071 6.46957 1 7 1H9C9.53043 1 10.0391 1.21071 10.4142 1.58579C10.7893 1.96086 11 2.46957 11 3M5 12L7 14L11 10",stroke:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),u&&(0,n.createElement)("div",{className:"pv-dropdown-content pv-show"},i&&i.map(((e,t)=>(0,n.createElement)("a",{onClick:t=>C(t,e,"type_id"),key:t},e.icon&&(0,n.createElement)("img",{src:e.icon.src}),e.label))))),(0,n.createElement)("div",{className:"pv-action-content",ref:y},(0,n.createElement)("button",{className:"pv-task-btn",type:"button",onClick:()=>E((e=>!e))},(0,n.createElement)("svg",{width:18,height:18,viewBox:"0 0 20 20",fill:"none"},(0,n.createElement)("path",{d:"M10 1.5V7M1 19V15V19ZM1 15V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H9.5L10.5 2H19L16 8L19 14H10.5L9.5 13H3C2.46957 13 1.96086 13.2107 1.58579 13.5858C1.21071 13.9609 1 14.4696 1 15V15Z",stroke:a.priority_id&&a.priority_id.color?a.priority_id.color:"#CBD5E0",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),v&&(0,n.createElement)("div",{className:"pv-dropdown-content pv-show"},d&&d.map(((e,t)=>(0,n.createElement)("a",{onClick:t=>C(t,e,"priority_id"),key:t},(0,n.createElement)("svg",{ref:e=>e&&e.style.setProperty("top","8px","important"),width:24,height:24,viewBox:"0 0 24 24",fill:"none"},(0,n.createElement)("path",{d:"M3.75 20.25V4.5",stroke:e.color?e.color:"#CBD5E0",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.createElement)("path",{d:"M3.75 15.75C9.75 11.25 14.25 20.25 20.25 15.75V4.49997C14.25 8.99997 9.75 -3.40939e-05 3.75 4.49997",fill:e.color?e.color:"#CBD5E0"})),e.label))))))),(0,n.createElement)(f,{actionData:e.actionData,setActionData:e.setActionData}))},w=(0,a(9435).A)((e=>{(0,n.useEffect)((()=>{e.getLists()}),[]);const[t,a]=(0,n.useState)({status:[],types:[],priorities:[]}),{lists:l}=e.state;let o,s,r=!1;return l.hasOwnProperty("today")&&(l.today.length>0&&(o=!0),!l.today.length&&l.other.length>0&&(s=!0),!l.today.length&&!l.other.length&&l.unschedule.length>0&&!0),ndpv.i18n,(0,n.createElement)("div",{className:""},(0,n.createElement)(b,{actionData:e.actionData,setActionData:e.setActionData,handleSubmit:(a,n)=>{e.handleSubmit(a,n),t.status.length&&setActiveTab(t.status[0].id)},setTaxonomies:a,tab_id:e.tab_id}))}),"task",ndpv.i18n.task);function y({actionData:e,setActionData:t}){return(0,n.createElement)("div",null,(0,n.createElement)(w,{actionData:e,setActionData:t,tab_id:null,source:!0}))}function k(e){return(0,n.createElement)("div",{style:{borderRadius:"18px",backgroundColor:"#F7F8FA",padding:"34px"}},(0,n.createElement)("div",{style:p},"Assign Team Member "),(0,n.createElement)(f,{actionData:e.actionData,setActionData:e.setActionData}))}const C={color:"var(--Gray-600, #718096)",fontFamily:"Inter",fontSize:"14px",fontStyle:"normal",fontWeight:400,lineHeight:"14px",paddingTop:"12px"};function S(e){const[t,a]=(0,n.useState)([]);return(0,n.useEffect)((()=>{o.A.get("taxonomies","taxonomy=lead_level").then((e=>{e.data.success&&a(e.data.data.lead_level)}))}),[]),(0,n.createElement)("div",null,(0,n.createElement)("div",{style:C},"Select Label"),(0,n.createElement)("div",{style:{paddingTop:"10px",backgroundColor:"#F7F8FA"},className:"ndpv pv-form-style-one"},(0,n.createElement)("select",{onChange:t=>{return a=t.target.value,void e.setActionData(a);var a},style:{backgroundColor:"#fff",maxWidth:"100%"}},(0,n.createElement)("option",{value:""},"Label"),t.map((e=>(0,n.createElement)("option",{value:e.id,key:e.id},e.label))))))}function A(e){return(0,n.createElement)("div",{style:{borderRadius:"18px",backgroundColor:"#F7F8FA",padding:"34px"}},(0,n.createElement)("div",{style:p},"Status or Label"),(0,n.createElement)(S,{actionData:e.actionData,setActionData:e.setActionData}))}const x=["Lead","Deal"],_={Lead:["Add_Lead_manually","Added_lead_form_website"],Deal:["Add_deal_manually","Convert_deal_from_lead"]},N={Add_Lead_manually:["Assign Team Member","Create a Task","Add Lead Label"],Added_lead_form_website:["Send Mail","Assign Team Member","Create a Task","Add Lead Label"],Import_Lead:["Send Mail","Assign Team Member","Create a Task","Add Lead Label"],Add_deal_manually:["Send Mail","Assign Team Member","Create a Task"],Convert_deal_from_lead:["Send Mail","Assign Team Member","Create a Task"]},D=({setEditingData:e,editingData:t})=>{const[a,l]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[m,p]=(0,n.useState)(""),[h,g]=(0,n.useState)({}),E=x,f=_,b=N,w={status_id:{id:"19",label:"Todo",color:"#FF6771",bg_color:"#FFF0F1",tax_pos:"19",icon:"",type:""},type_id:{id:"26",label:"Presentation",color:"#4a5568",bg_color:"#E2E8F0",tax_pos:"26",icon:{id:"13",src:"http://propovoice.local/wp-content/uploads/2024/01/presentation.png"}},priority_id:{id:"27",label:"Low",color:"#2D3748",bg_color:"#CBD5E0",tax_pos:"27",icon:""},title:"task has been change",member:{id:"1",name:"prappo",email:"dev-email@wpengine.local",img:"https://www.gravatar.com/avatar/729ae85bf62b9917e93538db2f2688ca?s=40"}};t&&(0,n.useEffect)((()=>{(()=>{const e=(a=t.config,n=function(e){var t=e.charCodeAt(0);return t<128?0:t<2048?1:2},o=function(e,t,a,n){throw new window[e](t,a,n)},s=function(e,t,a){for(var n=2,l=[],s=e.slice(t,t+1);s!=a;)n+t>e.length&&o("Error","Invalid"),l.push(s),s=e.slice(t+(n-1),t+n),n+=1;return[l.length,l.join("")]},r=function(e,t){var a,l,i,c,d,m,p,u,h,v,g,E,f,b,w,y=0,k=function(e){return e},C=function(){for(d={},i=s(e,l,":"),y=i[0],c=i[1],l+=y+2,h=0;h<parseInt(c,10);h++)g=r(e,l),E=g[1],v=g[2],f=r(e,l+=E),b=f[1],w=f[2],l+=b,d[v]=w};switch(t||(t=0),a=e.slice(t,t+1).toLowerCase(),l=t+2,a){case"i":k=function(e){return parseInt(e,10)},m=s(e,l,";"),y=m[0],d=m[1],l+=y+1;break;case"b":k=function(e){return 0!==parseInt(e,10)},m=s(e,l,";"),y=m[0],d=m[1],l+=y+1;break;case"d":k=function(e){return parseFloat(e)},m=s(e,l,";"),y=m[0],d=m[1],l+=y+1;break;case"n":d=null;break;case"s":p=s(e,l,":"),y=p[0],u=p[1],m=function(e,t,a){var l,o,s;for(s=[],l=0;l<a;l++)o=e.slice(t+(l-1),t+l),s.push(o),a-=n(o);return[s.length,s.join("")]}(e,(l+=y+2)+1,parseInt(u,10)),y=m[0],d=m[1],l+=y+2,y!=parseInt(u,10)&&y!=d.length&&o("SyntaxError","String length mismatch");break;case"a":C(),l+=1;break;case"o":p=s(e,l,":"),l+=p[0]+2,p=s(e,l,'"'),l+=p[0]+2,C(),l+=1;break;default:o("SyntaxError","Unknown / Unhandled data type(s): "+a)}return[a,l-t,k(d)]},r(a+"",0)[2]);var a,n,o,s,r;p(t.name);const c={selectedModule:e.selectedModule,selectedTrigger:e.selectedTrigger,selectedAction:e.selectedAction};g(w),l(c.selectedModule||""),i(c.selectedTrigger||""),d(c.selectedAction||"")})()}),[]);const C=()=>{g({})},S={"Assign Team Member":(0,n.createElement)(k,{actionData:h,setActionData:g}),"Send Mail":(0,n.createElement)(v,{actionData:h,setActionData:g}),"Create a Task":(0,n.createElement)(y,{actionData:h,setActionData:g}),"Add Lead Label":(0,n.createElement)(A,{actionData:h,setActionData:g})};return(0,n.createElement)("div",{className:"pv-content",style:{borderRadius:"18px",backgroundColor:"#fff",padding:"34px"}},(0,n.createElement)("div",{style:{marginBottom:"20px"},className:"ndpv pv-form-style-one"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{style:u,className:"col-lg"},(0,n.createElement)("label",null,"Workflow Name"),(0,n.createElement)("input",{value:m,onChange:e=>p(e.target.value),type:"text"}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{style:u,className:"col"},(0,n.createElement)("label",{htmlFor:"module"},"Module"),(0,n.createElement)("select",{style:{maxWidth:"100%"},id:"module",value:a,onChange:e=>{return t=e.target.value,l(t),i(""),d(""),void C();var t}},(0,n.createElement)("option",{value:""},"Select Module"),E.map((e=>(0,n.createElement)("option",{key:e,value:e},e.replace(/_/g," ")))))),(0,n.createElement)("div",{style:u,className:"col"},(0,n.createElement)("label",null,"Trigger"),(0,n.createElement)("select",{style:{maxWidth:"100%"},value:r,onChange:e=>{return t=e.target.value,i(t),d(""),void C();var t},disabled:!a},(0,n.createElement)("option",{value:""},"Select Trigger"),f[a]?.map((e=>(0,n.createElement)("option",{key:e,value:e},e.replace(/_/g," "))))))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{style:u,className:"col-lg"},(0,n.createElement)("label",null,"Action"),(0,n.createElement)("select",{style:{maxWidth:"100%"},value:c,onChange:e=>{return t=e.target.value,d(t),void C();var t},disabled:!r},(0,n.createElement)("option",{value:""},"Select Action"),b[r]?.map((e=>(0,n.createElement)("option",{key:e,value:e},e))))))),(0,n.createElement)("div",null,S[c]),(0,n.createElement)("div",{style:{textAlign:"center",paddingTop:"25px"}},(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-bg-shadow pv-color-white",onClick:()=>{const e={selectedModule:a,selectedTrigger:r,selectedAction:c};let n="new";t&&(n=t.id);const l={id:n,name:m,config:e,actionData:h};o.A.add("workflows",l).then((e=>{s.oR.success(e.data.message)})).catch((e=>{s.oR.error("Something went wrong"),console.log(e)}))}},"Save")))};function L({selectedRows:e,workflows:t,setSelectedRows:a}){const[l,o]=(0,n.useState)(!1);return(0,n.createElement)("thead",null,(0,n.createElement)("tr",null,(0,n.createElement)("th",null,(0,n.createElement)("input",{checked:l,onChange:()=>{if(l)a([]);else{const e=t.map((e=>e.id));a(e)}o(!l)},type:"checkbox"})),(0,n.createElement)("th",null,"Name"),(0,n.createElement)("th",null,"Module"),(0,n.createElement)("th",null,"Action"),(0,n.createElement)("th",null,"Status"),(0,n.createElement)("th",null,"Options")))}var F=a(43065);function T({workflow:e,setShowCreateWorkflow:t,setEditingData:a}){const l=(0,n.useRef)(),[s,r]=(0,n.useState)(!1),i=(0,n.useCallback)((()=>r(!1)),[]);return(0,g.A)(l,i),(0,n.createElement)("div",{className:"pv-action-content"},(0,n.createElement)("button",{className:s?"pv-active":"",onClick:()=>r((e=>!e)),style:{padding:"0 5px"}},(0,n.createElement)(F.ff,null)),s&&(0,n.createElement)("div",{className:"pv-dropdown-content pv-show"},(0,n.createElement)("a",{onClick:()=>{r(!1),(e=>{a(e),t(!0)})(e)}},"Edit"),(0,n.createElement)("a",{onClick:()=>{var t;r(!1),t=e.id,window.confirm("Do you want to delete?")&&o.A.add("workflows/delete",{id:t}).then((e=>{"success"===e.data.status&&location.reload()})).catch((e=>{console.error("Error fetching data: ",e)}))}},"Delete")))}const M=e=>{return(0,n.createElement)("div",{className:"pv-table-action pv-mb-10"},(0,n.createElement)("div",{className:"pv-checkbox-field pv-mt-6"},(0,n.createElement)("span",{style:{marginLeft:0}},e.selectedRows.length," ",ndpv.i18n.iselec," ")),(0,n.createElement)("div",{className:"pv-small-button-group"},(t={slug:"delete",type:"selected",label:ndpv.i18n.del,handleClick:e.deleteEntry},(0,n.createElement)("button",{key:t.slug,className:"pv-btn pv-btn-small pv-bg-stroke pv-bg-shadow pv-bg-hover-shadow",onClick:()=>{window.confirm("Do you want to delete?")&&o.A.add("workflows/delete",e.selectedRows).then((e=>{window.location.reload()}))}},t.label))));var t};function B({setShowCreateWorkflow:e,setEditingData:t}){const[a,l]=(0,n.useState)([]),[s,r]=(0,n.useState)(!0),[i,c]=(0,n.useState)([]);return(0,n.useEffect)((()=>{o.A.get("workflows").then((e=>{""!==e.data&&l(e.data),r(!1)})).catch((e=>{console.error("Error fetching data: ",e),r(!1)}))}),[]),s?(0,n.createElement)("div",null,"Loading..."):(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"pv-table-wrap"},i.length>0&&(0,n.createElement)(M,{selectedRows:i}),(0,n.createElement)("table",{className:"pv-table"},(0,n.createElement)(L,{workflows:a,selectedRows:i,setSelectedRows:c}),(0,n.createElement)("tbody",null,a.map(((a,l)=>(0,n.createElement)("tr",{key:l},(0,n.createElement)("td",null,(0,n.createElement)("input",{type:"checkbox",checked:i.includes(a.id),onChange:()=>{return e=a.id,void(i.includes(e)?c(i.filter((t=>t!==e))):c([...i,e]));var e}})),(0,n.createElement)("td",null,(0,n.createElement)("span",{className:"pv-avater"},a.name)),(0,n.createElement)("td",null,(0,n.createElement)("span",{className:"pv-badge pv-mr-5"},a.module)),(0,n.createElement)("td",null,a.action),(0,n.createElement)("td",null,(0,n.createElement)("span",{className:"pv-badge",style:{backgroundColor:"#eef6f1",color:"#09a24b"}},(0,n.createElement)("svg",{width:6,height:6,viewBox:"0 0 6 6",fill:"none"},(0,n.createElement)("circle",{cx:3,cy:3,r:3,fill:"#09a24b"})),a.status)),(0,n.createElement)("td",null,(0,n.createElement)(T,{workflow:a,setShowCreateWorkflow:e,setEditingData:t})))))))))}function P(){const[e,t]=(0,n.useState)(!1),[a,o]=(0,n.useState)(null);return(0,n.createElement)("div",{className:"ndpv-components"},(0,n.createElement)(l.A,{title:ndpv.i18n.workflow}),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},!e&&(0,n.createElement)("h2",{className:"pv-page-title"},ndpv.i18n.workflow),e&&(0,n.createElement)("h2",{className:"pv-page-title"},ndpv.i18n.create_workflow)),(0,n.createElement)("div",{className:"col"},(0,n.createElement)("div",{className:"pv-list-single-button-content"},!e&&(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-bg-shadow pv-color-white",onClick:()=>{t(!0)}},(0,n.createElement)("svg",{width:14,height:12,viewBox:"0 0 12 15",fill:"none"},(0,n.createElement)("path",{d:"M2.5 8H13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.createElement)("path",{d:"M8 2.5V13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),ndpv.i18n.add+" "+ndpv.i18n.workflow),e&&(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-bg-shadow pv-color-white",onClick:()=>{o(null),t(!1)}},ndpv.i18n.back)))),e&&(0,n.createElement)(D,{setEditingData:o,editingData:a}),!e&&(0,n.createElement)(B,{setEditingData:o,setShowCreateWorkflow:t}))}},9435:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(51609),l=a(21241),o=a(31528),s=a(57536),r=a(60235);const i=(e,t,a,i="",c=!1)=>{i||(i=t+"s");const d=(c?r.BB:r.y0)+i;return class extends n.Component{constructor(e){super(e),this.state={title:a,empty:!1,submitPreloader:!1,preloader:!0,formModal:!1,searchModal:!1,formModalType:"new",list:{id:null},extra:{},lists:[],checkedBoxes:[],offset:0,perPage:10,total:1,totalPage:1,currentPage:1,searchVal:""},this.timeout=0}componentDidMount(){}getLists=(e=null)=>{let t={page:this.state.currentPage,per_page:this.state.perPage};this.props.tab_id&&(t.tab_id=this.props.tab_id),this.props.dashboard&&(t.dashboard=this.props.dashboard),this.props.module_id&&(t.module_id=this.props.module_id),e&&(e=Object.entries(e).reduce(((e,[t,a])=>a?(e[t]=a,e):e),{}),t={...t,...e});let a=new URLSearchParams(t).toString();const n=s.A.get(`${d}/?${a}`,r.Sh);return n.then((e=>{let t=e.data.data.result,a=e.data.data.total,n=!t.length,l={};e.data.data.hasOwnProperty("extra")&&(l=e.data.data.extra),this.setState({lists:t,extra:l,preloader:!1,empty:n,total:a,totalPage:Math.ceil(a/this.state.perPage)})})),n};handleSearch=e=>{const{value:t}=e.target;this.setState({searchVal:t},(()=>{this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.getLists({s:this.state.searchVal})}),300)}))};showItem=(e,t=null)=>{const{value:a}=e.target;this.setState({perPage:a},(()=>{this.getLists(t)}))};handleSubmit=(e,t=null,a=null)=>{let n=this.state.formModalType;t&&(n=t),this.setState({submitPreloader:!0}),"new"==n?s.A.post(d,e,r.Sh).then((e=>{e.data.success?(this.setState({formModal:!1,submitPreloader:!1}),l.oR.success(ndpv.i18n.aAdd),this.getLists(a)):(this.setState({submitPreloader:!1}),e.data.data.forEach((e=>{l.oR.error(e)})))})):s.A.put(`${d}/${e.id}`,e,r.Sh).then((e=>{e.data.success?(this.setState({formModal:!1,submitPreloader:!1}),l.oR.success(ndpv.i18n.aUpd),this.getLists(a)):(this.setState({submitPreloader:!1}),e.data.data.forEach((e=>{l.oR.error(e)})))}))};deleteEntry=async(e,t,a=null,n=null)=>{if(confirm(ndpv.i18n.aConf)){"singleDrive"==e&&(await(0,o.W)(t[1]),t=t[0]);let a="single"==e||"singleDrive"==e?t:this.state.checkedBoxes.toString();s.A.delete(`${d}/${a}`,r.Sh).then((t=>{t.data.success?(l.oR.success(ndpv.i18n.aDel),"single"!=e&&this.setState({checkedBoxes:[]}),this.getLists(n)):t.data.data.forEach((e=>{l.oR.error(e)}))}))}};openForm=(e="new",t=null)=>{"new"==e?this.setState({formModal:!0,formModalType:"new"}):(t.hasOwnProperty("start_date")&&t.start_date&&(t.start_date=new Date(t.start_date)),t.hasOwnProperty("due_date")&&t.due_date&&(t.due_date=new Date(t.due_date)),this.setState({formModal:!0,formModalType:"edit",list:t}))};closeForm=(e="new")=>{"new"==e?this.setState({formModal:!1}):this.setState({searchModal:!1})};handleCheckbox=(e,t,a=null)=>{let n=this.state.checkedBoxes;if("single"==t)e.target.checked?(n.push(a),this.setState({checkedBoxes:n})):(n.splice(n.indexOf(a),1),this.setState({checkedBoxes:n}));else if(e.target.checked){let e=[];this.state.lists.map((t=>{e.push(t.id)})),this.setState({checkedBoxes:e})}else this.setState({checkedBoxes:[]})};handlePageClick=(e,t=null)=>{const a=e.selected+1,n=a*this.state.perPage;this.setState({currentPage:a,offset:n},(()=>{this.getLists(t)}))};render(){return(0,n.createElement)(e,{...this.props,state:this.state,openForm:this.openForm,closeForm:this.closeForm,showItem:this.showItem,getLists:this.getLists,handleCheckbox:this.handleCheckbox,uncheckAll:()=>this.setState({checkedBoxes:[]}),handleSubmit:this.handleSubmit,handleSearch:this.handleSearch,handlePageClick:this.handlePageClick,deleteEntry:this.deleteEntry})}}}}}]);