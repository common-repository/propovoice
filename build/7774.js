(globalThis.webpackChunkpropovoice=globalThis.webpackChunkpropovoice||[]).push([[7774,155,7408,5027,2646,265],{74263:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(57536),r=a(60235);const l=r.y0+"media",s={...r.Sh,"Content-Type":"multipart/form-data","Cache-Control":"no-cache"},i={getAll:(e="")=>n.A.get(`${l}/?${e}`,r.Sh),getAttachment:e=>n.A.get(`${l}/attachment/${e}`,r.Sh),getDefaultAttachment:e=>n.A.get(`${l}/attachment/${e}/default/get`,r.Sh),setDefaultAttachment:(e,t)=>n.A.get(`${l}/attachment/${e}/default/set/${t}`,r.Sh),get:e=>n.A.get(`${l}/${e}`,r.Sh),create:e=>n.A.post(l,e,{headers:s}),update:(e,t)=>n.A.put(`${l}/${e}`,t,{headers:s}),remove:e=>n.A.delete(`${l}/${e}`,r.Sh),findByArg:e=>n.A.get(`${l}?title=${e}`,r.Sh)}},88477:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(57536),r=a(60235);const l=r.y0+"payment-process",s={getAll:(e="")=>n.A.get(`${l}/?${e}`,r.Sh),create:e=>n.A.post(l,e,r.Sh)}},64027:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(51609);const r=e=>{const t=e=>(0,n.createElement)("button",{key:e.slug,className:"pv-btn pv-btn-small pv-bg-stroke pv-bg-shadow pv-bg-hover-shadow",onClick:()=>e.handleClick(e.type)},e.label);return(0,n.createElement)("div",{className:"pv-table-action pv-mb-10"},(0,n.createElement)("div",{className:"pv-checkbox-field pv-mt-6"},(0,n.createElement)("span",{style:{marginLeft:0}},e.length," ",ndpv.i18n.iselec," ")),(0,n.createElement)("div",{className:"pv-small-button-group"},e.path&&e.actions&&e.actions[e.path].map((e=>t(e))),e.actions&&e.actions.common.map((e=>t(e))),!e.actions&&t({slug:"delete",type:"selected",label:ndpv.i18n.del,handleClick:e.deleteEntry})))}},99652:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var n=a(51609),r=a(7834),l=a(43065),s=a(7364),i=a(21241),o=a(84941);const c=[["Person","Organization","Email","Mobile","Website","Country","Region","Address"],["Mahmud","Nurency digital","simple@gmail.com","0177777777","https://propovoice.com/","Bangladesh","Dhaka","Dhaka Airport"]];var d=a(56303),p=a(394),m=a(36478);const u=(0,s.A)((e=>{const t=Object.keys(e.modal),[a,r]=(0,n.useState)(),[s,p]=(0,n.useState)([]),[u,h]=(0,n.useState)(Array(t.length).fill("")),[v,f]=(0,n.useState)(!1),g=new Date,E=g.getFullYear()+"-"+(g.getMonth()+1)+"-"+g.getDate()+"-"+g.getHours()+"-"+g.getMinutes()+"-"+g.getSeconds(),b=new FileReader,y=Object.keys(Object.assign({},...s)).filter((e=>"NOT_ASSIGN"!=e));let k=e.modal;const C=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content"},(0,n.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,n.createElement)("span",{className:"pv-close",onClick:()=>e.close()},(0,n.createElement)(l.OM,null)),(0,n.createElement)("h2",{className:"pv-modal-title"}," ",e.title," ",C.imp),(0,n.createElement)("p",null,sprintf(C.formDesc,e.title,C.imp))),(0,n.createElement)(m._H,{submitPreloader:v,submitHandler:t=>{t.preventDefault(),f(!0);const n=e.title.toLowerCase();var r=new FormData;r.append("file",a),r.append("fields",u),r.append("title",n);const l=r;d.A.add("import/csv",l,"pro",!0).then((t=>{f(!1),t&&(e.close(),e.reload())})).catch((t=>{console.log(t.message),i.oR.error("Please, Insert a valid file!!!"),e.close(),e.reload()}))},isMultipart:!0,close:e.close},(0,n.createElement)(m.sf,{formStyleClass:"pv-form-style-one"},!a&&(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"pv-upload-file"},(0,n.createElement)("input",{type:"file",id:"files",accept:".csv",onChange:e=>{r(e.target.files[0]),(e=>{e?(b.onload=function(e){(e=>{const t=e.slice(0,e.indexOf("\n")).split(","),a=e.slice(e.indexOf("\n")+1).split("\n").filter(Boolean).map((e=>{const a=e.split(","),n=t?.reduce(((e,t,n)=>(e[t]=a[n],e)),{});return n}));p(a)})(e.target.result)},b.readAsText(e)):i.oR.error("Please upload file")})(e.target.files[0])},className:"d-none"}),(0,n.createElement)("label",{htmlFor:"files",className:" pv-btn pv-bg-stroke pv-bg-hover-stroke  ",style:{display:"inline-flex"}},(0,n.createElement)("svg",{width:25,height:25,viewBox:"0 0 14 14",fill:"none"},(0,n.createElement)("path",{d:"M3.66824 10.0907C3.01193 10.0915 2.37842 9.85536 1.88909 9.42768C1.39976 9 1.08901 8.41081 1.01638 7.773C0.943746 7.13518 1.11434 6.49358 1.49547 5.97112C1.87661 5.44866 2.44148 5.08208 3.08188 4.94161C2.89659 4.09662 3.06217 3.21426 3.5422 2.48865C4.02223 1.76304 4.77738 1.25361 5.64153 1.07243C6.50568 0.891248 7.40804 1.05316 8.1501 1.52254C8.89217 1.99193 9.41315 2.73034 9.59844 3.57533H9.66507C10.4913 3.57451 11.2883 3.87392 11.9014 4.41541C12.5146 4.9569 12.9001 5.70185 12.9831 6.50564C13.0662 7.30943 12.8408 8.11472 12.3508 8.76517C11.8608 9.41562 11.1411 9.86483 10.3314 10.0256M8.99875 8.13612L6.99981 6.1815M6.99981 6.1815L5.00087 8.13612M6.99981 6.1815V13",stroke:"#4C6FFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),C.uploadFile))),!a&&(0,n.createElement)("div",null,(0,n.createElement)(o.CSVLink,{filename:`Sample file -${E}.csv`,style:{color:"rgb(54 91 243)",fontWeight:"500"},data:c,enclosingCharacter:""},C.down," ",C.sample," ",C.file),!a&&(0,n.createElement)("p",null,C.csvDco)),(0,n.createElement)("br",null),a&&(0,n.createElement)("div",{className:"pv-table-wrap pv-mb-20"},(0,n.createElement)("table",{className:"pv-table"},(0,n.createElement)("thead",null,(0,n.createElement)("tr",null,(0,n.createElement)("th",null),(0,n.createElement)("th",null,"CSV ",C.field),(0,n.createElement)("th",null,e.title+" "+C.fields),(0,n.createElement)("th",null))),(0,n.createElement)("tbody",null,y.map(((e,t)=>(0,n.createElement)("tr",{key:t},(0,n.createElement)("td",null),(0,n.createElement)("td",null,e.replace(/"/g,"")),(0,n.createElement)("td",null,(0,n.createElement)("select",{style:{lineHeight:"106%"},onChange:e=>{((e,t)=>{e.preventDefault(),u[t]=e.target.value,h(u)})(e,t)}},Object.entries(k).map(((e,t)=>(0,n.createElement)("option",{key:t,value:e[0]},e[1]))))),(0,n.createElement)("td",null)))))))))))})),h=(0,s.A)((e=>{const t=new Date,a=`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}-${t.getHours()}-${t.getMinutes()}-${t.getSeconds()}`,r=(0,n.useRef)(),[s,i]=(0,n.useState)({actions:[]}),[c,m]=(0,n.useState)(""),u=(t,a,n="")=>{const r=t.target;let l=s.actions;const o=Object.keys(e.fields).filter((e=>"not_assign"!==e));if("action"===a){const{value:e}=t.target;r.checked?l.push(e):l=l.filter((t=>t!==e))}else"group"===a?l=r.checked?l.concat(o):l.filter((e=>!o.includes(e))):"none"===a&&(l=[]);l=Array.from(new Set(l)),i({...s,actions:l})};(0,n.useEffect)((()=>{c&&(r.current.link.click(),e.close())}),[c]);const h=Object.fromEntries(Object.entries(e.fields).filter((([e,t])=>"not_assign"!==e))),v=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content"},(0,n.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,n.createElement)("span",{className:"pv-close",onClick:e.close},(0,n.createElement)(l.OM,null)),(0,n.createElement)("h2",{className:"pv-modal-title"},e.title," ",v.exp),(0,n.createElement)("p",null,sprintf(v.formDesc,e.title,v.exp))),(0,n.createElement)("form",{onSubmit:t=>{t.preventDefault();const a=e.title.toLowerCase(),n={};for(const[t,a]of Object.entries(e.fields))s.actions.includes(t)&&(n[t]=a);(async e=>{let t;try{t=await d.A.add("export/csv",e,"pro"),m(t.data)}catch(e){console.error(e.message)}})({fields:n,title:a})}},(0,n.createElement)("div",{className:"pv-content"},(0,n.createElement)("div",{className:"pv-form-style-one"},(0,n.createElement)("div",{className:"pv-field-checkbox"},(0,n.createElement)("input",{type:"checkbox",id:"select-all",name:"mod",value:"Select all",onChange:e=>u(e,"group")}),(0,n.createElement)("label",{htmlFor:"select-all"},"Select all")),(0,n.createElement)("div",{className:"pv-import-from-gird"},Object.entries(h).map(((e,t)=>(0,n.createElement)("div",{key:t,className:"pv-field-checkbox"},(0,n.createElement)("input",{type:"checkbox",id:t,name:"action",value:e[0],checked:s.actions.includes(e[0]),onChange:e=>u(e,"action")}),(0,n.createElement)("label",{htmlFor:t},e[1]," "))))))),(0,n.createElement)("div",{className:"pv-modal-footer"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},(0,n.createElement)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:e.close},v.cancel)),(0,n.createElement)("div",{className:"col"},(0,n.createElement)("button",{type:"submit",className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-btn-big pv-float-right pv-color-white"},v.exp," ",(0,n.createElement)(p.A,{blueBtn:!0}))),c&&(0,n.createElement)("div",{className:"col"},(0,n.createElement)(o.CSVLink,{data:c,filename:`${e.title}-${a}.csv`,ref:r})))))))})),v=e=>{const t=(0,n.useRef)(),[a,s]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),p=(0,n.useCallback)((()=>s(!1)),[]);(0,r.A)(t,p),(0,n.useEffect)((()=>{}),[]);const m=()=>!(wage.length>0&&(document.getElementById("pv-pro-alert").style.display="block",1)),v=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-list-single-button-content"},(0,n.createElement)("button",{className:"pv-btn pv-btn-medium pv-bg-blue pv-bg-hover-blue pv-bg-shadow pv-color-white",onClick:()=>e.openForm("new")},(0,n.createElement)("svg",{width:14,height:12,viewBox:"0 0 12 15",fill:"none"},(0,n.createElement)("path",{d:"M2.5 8H13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.createElement)("path",{d:"M8 2.5V13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),ndpv.i18n.add+" "+e.title),i&&(0,n.createElement)(u,{close:()=>o(!1),modal:e.fields,title:e.title,reload:()=>e.reload()}),c&&(0,n.createElement)(h,{close:()=>d(!1),fields:e.fields,title:e.title}),("Lead"===e.title||"Client"===e.title)&&(0,n.createElement)("div",{className:"pv-action-content pv-action-btn",ref:t},(0,n.createElement)("button",{className:"pv-bg-stroke pv-bg-shadow",onClick:()=>{s(!a)}},(0,n.createElement)(l.ff,null)),a&&(0,n.createElement)("div",{className:"pv-dropdown-content pv-show"},(0,n.createElement)("a",{onClick:e=>((e,t)=>{e.preventDefault(),m()&&(s(!1),o(!0))})(e)},v.imp),(0,n.createElement)("a",{onClick:e=>((e,t)=>{e.preventDefault(),m()&&(s(!1),d(!0))})(e)},v.exp))))}},41251:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(51609);const r=e=>(0,n.createElement)("nav",{className:"pv-breadcrumb"},(0,n.createElement)("ul",{className:""},(0,n.createElement)("li",null,(0,n.createElement)("a",{href:"#",className:""},ndpv.i18n.home)),(0,n.createElement)("li",null,(0,n.createElement)("svg",{width:5,height:10,viewBox:"0 0 5 10",fill:"none"},(0,n.createElement)("path",{d:"M0.5 1.25L4.25 5L0.5 8.75",stroke:"#718096",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,n.createElement)("li",{className:"pv-active"},"Lead"==e.title?ndpv.i18n.lead:"Deal Pipeline"==e.title?ndpv.i18n.deal_pipeline:"Estimate"==e.title?ndpv.i18n.est:"Invoice"==e.title?ndpv.i18n.inv:"Client"==e.title?ndpv.i18n.client:"Project"==e.title?ndpv.i18n.project:"Task"==e.title?ndpv.i18n.task:"Contact Book"==e.title?ndpv.i18n.ct_book:"Settings"==e.title?ndpv.i18n.settings:e.title)))},22803:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(51609),r=a(17604);const l=e=>{const{title:t,clickHandler:a,isClient:l,boardView:s,searchVal:i,logo:o=""}=e,{i18n:c,caps:d}=ndpv,p=e.mod?e.mod:"";let m=c.created,u=c.notAdd;return"package"==p&&d.includes("ndpv_client_role")&&(u=c.noResClient,m=""),(0,n.createElement)("div",{className:"pv-empty-content pv-text-center"},(0,n.createElement)("svg",{width:"77",height:"76",viewBox:"0 0 77 76",fill:"none"},(0,n.createElement)("path",{d:"M61.8594 1.30469V14.8447H75.3985L61.8594 1.30469Z",fill:"#4C6FFF",fillOpacity:"0.5"}),(0,n.createElement)("path",{d:"M59.6328 19.2969C58.4032 19.2969 57.4062 18.3 57.4062 17.0703V0H25.4922C21.809 0 18.8125 2.99651 18.8125 6.67969V31.571C19.5461 31.5045 20.2884 31.4688 21.0391 31.4688C28.6284 31.4688 35.4222 34.9386 39.9182 40.375H64.0859C65.3156 40.375 66.3125 41.3719 66.3125 42.6016C66.3125 43.8312 65.3156 44.8281 64.0859 44.8281H42.8517C44.2434 47.5439 45.1409 50.5526 45.429 53.7344H64.0859C65.3156 53.7344 66.3125 54.7313 66.3125 55.9609C66.3125 57.1906 65.3156 58.1875 64.0859 58.1875H45.429C44.7631 65.5409 40.8342 71.9664 35.1047 76H70.0234C73.7066 76 76.7031 73.0035 76.7031 69.3203V19.2969H59.6328ZM64.0859 31.4688H31.4297C30.2 31.4688 29.2031 30.4718 29.2031 29.2422C29.2031 28.0125 30.2 27.0156 31.4297 27.0156H64.0859C65.3156 27.0156 66.3125 28.0125 66.3125 29.2422C66.3125 30.4718 65.3156 31.4688 64.0859 31.4688Z",fill:"#4C6FFF"}),(0,n.createElement)("circle",{cx:"20",cy:"56",r:"20",fill:"#A5B7FF"}),(0,n.createElement)("path",{d:"M17.9091 67.6136V45.1136H21.7273V67.6136H17.9091ZM8.56818 58.2727V54.4545H31.0682V58.2727H8.56818Z",fill:"white"})),!i.length&&(0,n.createElement)("h2",{className:"pv-empty-title"},l?s?c.no_req_project:c.no_project:(0,r.sprintf)(u,"lead"==p||"client"==p||"person"==p||"org"==p||"team"==p?c.added:m,t)),i.length>0&&(0,n.createElement)("h2",{className:"pv-empty-title"},(0,r.sprintf)(c.noRes,t)),!d.includes("ndpv_client_role")&&"order"!=p&&(0,n.createElement)("button",{className:"pv-btn pv-bg-blue pv-bg-hover-blue",onClick:()=>a("new")},(0,n.createElement)("svg",{width:14,height:12,viewBox:"0 0 12 15",fill:"none"},(0,n.createElement)("path",{d:"M2.5 8H13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.createElement)("path",{d:"M8 2.5V13.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),"lead"==p||"client"==p||"person"==p||"org"==p||"team"==p?c.let_start_adding:c.let_start_creating))}},92536:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(51609),r=a.n(n),l=a(21241),s=a(74263),i=a(51945);function o({label:e=ndpv.i18n.upload,btnClass:t="",imgClass:a="",data:o,multiple:c,clipOnly:d,readOnly:p,...m}){const[u,h]=(0,n.useState)(!1),v=r().createRef(),f=e=>{confirm(ndpv.i18n.aConf)&&(m.multiple?m.changeHandler(e,!0):m.changeHandler(null),s.A.remove(e).then((e=>{e.data.success||e.data.data.forEach((function(e){l.oR.error(e)}))})))},g=e=>{e.preventDefault(),m.library?h(!0):v.current.click()};let E=void 0===m.remove;return(0,n.createElement)("div",{className:"pv-field-logo-wrap "+a},!1,o&&!c&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"pv-field-logo"},"application/pdf"==o.type?(0,n.createElement)("a",{href:o.src,target:"_blank"},o.name):(0,n.createElement)("div",{style:{width:m.small?40:100,display:"inline-block"}},(0,n.createElement)(i.A,{small:o.src,large:o.src})),E&&(0,n.createElement)("span",{className:"pv-field-logo-close",onClick:()=>f(o.id)},"×"))),c&&o.length>0&&(0,n.createElement)(n.Fragment,null,o&&o.map(((e,t)=>(0,n.createElement)("div",{className:"pv-field-logo",key:t,style:{marginRight:10}},"application/pdf"==e.type?e.name:(0,n.createElement)("img",{src:e.src,width:m.small?"40":"100"}),E&&(0,n.createElement)("span",{className:"pv-field-logo-close",onClick:()=>f(e.id)},"×"))))),!m.viewOnly&&(!o||c)&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("input",{type:"file",ref:v,onChange:e=>{(e=>{m.isSelectedFile&&m.selectedFile(e.target.files[0])})(e),(e=>{const t=new FormData;t.append("file",e);const a=m.attach_type||"ndpv";t.append("attach_type",a);let n=void 0!==m.permission;t.append("permission",n),s.A.create(t).then((e=>{e.data.success?m.changeHandler(e.data.data):e.data.data.forEach((function(e){l.oR.error(e)}))}))})(e.target.files[0])},style:{display:"none"}}),!d&&(0,n.createElement)("button",{className:"pv-btn pv-bg-stroke pv-bg-hover-stroke "+t,onClick:e=>g(e),style:{padding:m.padding?m.padding:"10px 20px",border:"1px solid #E2E8F0"},disabled:p},(0,n.createElement)("svg",{width:25,height:25,viewBox:"0 0 14 14",fill:"none"},(0,n.createElement)("path",{d:"M3.66824 10.0907C3.01193 10.0915 2.37842 9.85536 1.88909 9.42768C1.39976 9 1.08901 8.41081 1.01638 7.773C0.943746 7.13518 1.11434 6.49358 1.49547 5.97112C1.87661 5.44866 2.44148 5.08208 3.08188 4.94161C2.89659 4.09662 3.06217 3.21426 3.5422 2.48865C4.02223 1.76304 4.77738 1.25361 5.64153 1.07243C6.50568 0.891248 7.40804 1.05316 8.1501 1.52254C8.89217 1.99193 9.41315 2.73034 9.59844 3.57533H9.66507C10.4913 3.57451 11.2883 3.87392 11.9014 4.41541C12.5146 4.9569 12.9001 5.70185 12.9831 6.50564C13.0662 7.30943 12.8408 8.11472 12.3508 8.76517C11.8608 9.41562 11.1411 9.86483 10.3314 10.0256M8.99875 8.13612L6.99981 6.1815M6.99981 6.1815L5.00087 8.13612M6.99981 6.1815V13",stroke:"#4C6FFF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),(0,n.createElement)("span",null,e)),d&&(0,n.createElement)("span",{className:"pv-paper-clip",onClick:e=>g(e)},(0,n.createElement)("svg",{width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M10.5001 4.24894L3.99228 10.8661C3.77683 11.1039 3.66107 11.4154 3.66897 11.7362C3.67687 12.057 3.80782 12.3624 4.03471 12.5893C4.2616 12.8162 4.56705 12.9472 4.88783 12.9551C5.2086 12.963 5.52013 12.8472 5.75791 12.6318L13.5157 4.76457C13.9466 4.28901 14.1781 3.66595 14.1623 3.0244C14.1465 2.38286 13.8846 1.77195 13.4309 1.31817C12.9771 0.864391 12.3662 0.602491 11.7246 0.586696C11.0831 0.5709 10.46 0.802418 9.98447 1.23332L2.22666 9.10051C1.52425 9.80292 1.12964 10.7556 1.12964 11.7489C1.12964 12.7423 1.52425 13.695 2.22666 14.3974C2.92907 15.0998 3.88174 15.4944 4.8751 15.4944C5.86845 15.4944 6.82112 15.0998 7.52353 14.3974L13.9376 7.99894",stroke:"#2D3748",strokeLinecap:"round",strokeLinejoin:"round"})))))}},36478:(e,t,a)=>{"use strict";a.d(t,{_H:()=>c,cK:()=>o,sf:()=>d});var n=a(51609),r=a(21241),l=a(55800),s=a(394),i=a(29425);const o=(0,n.createContext)({});function c({submitHandler:e,submitPreloader:t=!1,close:a,submitLabel:l,children:s,formTag:c=!0,isMultipart:d=!1,isPro:m=!1,showSubmitButton:u=!0}){const[h,v]=(0,n.useState)({}),[f,g]=(0,n.useState)({}),[E,b]=(0,n.useState)({}),[y,k]=(0,n.useState)(!1),[C,w]=(0,n.useState)();(0,n.useEffect)((()=>{y&&C&&(0===_(f)?e(C):r.oR.error("Invalid submission!!!"),k(!1))}),[y,f]);const _=e=>e&&"object"==typeof e?Object.values(e).reduce((function(e,t){return e+t.length}),0):0,N=e=>{e.preventDefault(),(0,i.hs)(h,v,g),k(!0),w(e)},x=(0,n.createElement)(n.Fragment,null,s,(0,n.createElement)(p,{close:a,submitPreloader:t,submitLabel:l,formTag:c,onSubmit:N,isPro:m,showSubmitButton:u}));return(0,n.createElement)(o.Provider,{value:{form:h,setForm:v,setErrorFields:g,groupFields:E,setGroupFields:b}},c?d?(0,n.createElement)("form",{onSubmit:N,encType:"multipart/form-data"},x):(0,n.createElement)("form",{onSubmit:N},x):(0,n.createElement)("div",null,x))}function d({formStyleClass:e,children:t}){return(0,n.createElement)("div",{className:"pv-content"},(0,n.createElement)("div",{className:e},t))}function p({close:e,submitPreloader:t,submitLabel:a,formTag:r,onSubmit:i,isPro:o,showSubmitButton:c}){const d=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-modal-footer"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},e&&(0,n.createElement)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:()=>e()},d.cancel)),c&&(0,n.createElement)("div",{className:"col"},(0,n.createElement)("button",{type:"submit",disabled:t,...r?{}:{onClick:i},className:"pv-btn pv-bg-blue pv-bg-hover-blue  pv-float-right pv-color-white"},t&&(0,n.createElement)(l.A,{submit:!0})," ",a||d.save,o&&(0,n.createElement)(s.A,{blueBtn:!0})))))}},29425:(e,t,a)=>{"use strict";a.d(t,{UF:()=>r,hs:()=>l});const n={required:"field is required",email:"is invalid"},r=(e,t,a,n,r)=>{for(const[l,i]of Object.entries(a[e].validation))s(l,i,e,t,n,r)},l=(e,t,a)=>{for(const[n,{value:r,validation:l}]of Object.entries(e))for(const[e,i]of Object.entries(l))s(e,i,n,r,t,a)},s=(e,t,a,n,r,l)=>{switch(e){case"required":i(e,t,a,n,r,l);break;case"email":o(e,t,a,n,r,l)}},i=(e,t,a,n,r,l)=>{t?.value&&0===n?.length?d(e,t,a,r,l):p(e,a,r,l,!0)},o=(e,t,a,n,r,l)=>{!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,63}$/.test(n)&&n.length>0?d(e,t,a,r,l):p(e,a,r,l,!0)},c=(e,t,a,n,r="default")=>{e((e=>(r="default"!==r?r:e[t].validation[a].value,{...e,[t]:{...e[t],validation:{...e[t].validation,[a]:{...e[t].validation[a],value:r,error:n}}}})))},d=(e,t,a,r,l)=>{var s;const i=null!==(s=t.message)&&void 0!==s?s:a+" "+n[e];c(r,a,e,i),l((t=>{const n=Array.isArray(t[a])?[...t[a],e]:[e];return{...t,[a]:[...new Set(n)]}}))},p=(e,t,a,n,r=!1)=>{c(a,t,e,"",r),n((a=>{if(a[t]&&Array.isArray(a[t])){const n=a[t].indexOf(e);-1!==n&&a[t].splice(n,1)}return a}))}},7280:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(51609),r=a(49764),l=a.n(r);const s=e=>(0,n.createElement)("div",{className:"pv-pagination-content"},(0,n.createElement)(l(),{previousClassName:"pv-previous",nextClassName:"pv-next",disabledClassName:"pv-disabled",previousLabel:(0,n.createElement)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none"},(0,n.createElement)("path",{d:"M7.5 12.833L1.667 7 7.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),nextLabel:(0,n.createElement)("svg",{width:9,height:14,viewBox:"0 0 9 14",fill:"none"},(0,n.createElement)("path",{d:"M1.5 12.833L7.333 7 1.5 1.167",stroke:"#4C6FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),breakLabel:(0,n.createElement)("svg",{width:15,height:15,viewBox:"0 0 24 24",fill:"none"},(0,n.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12a2 2 0 10-4 0 2 2 0 004 0zM14 12a2 2 0 10-4 0 2 2 0 004 0zM21 12a2 2 0 10-4 0 2 2 0 004 0z",fill:"#718096"})),breakClassName:"break",forcePage:e.forcePage,pageCount:e.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e.onPageChange,containerClassName:"pv-pagination",activeClassName:"pv-active"}))},9519:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(51609),r=a(43516);const l=e=>{const{rows:t=5}=e;return(0,n.createElement)(r.Ay,{viewBox:"0 0 1500 "+60*t,...e},new Array(t).fill(" ").map(((e,a)=>{const r=e=>t>1?e+60*a:e;return(0,n.createElement)(n.Fragment,{key:a},(0,n.createElement)("rect",{x:"20",y:`${r(20)}`,rx:"4",ry:"4",width:"40",height:"20"}),(0,n.createElement)("rect",{x:"100",y:`${r(20)}`,rx:"10",ry:"4",width:"600",height:"20"}),(0,n.createElement)("rect",{x:"750",y:`${r(20)}`,rx:"10",ry:"4",width:"600",height:"20"}),(0,n.createElement)("rect",{x:"1450",y:`${r(20)}`,rx:"4",ry:"4",width:"20",height:"20"}),(0,n.createElement)("rect",{y:`${r(59)}`,x:"10",ry:"10",width:"1500",height:"1"}))})))}},25928:(e,t,a)=>{"use strict";function n(){document.getElementById("pv-pro-alert").style.display="block"}a.d(t,{A:()=>n})},394:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(51609);const r=e=>(0,n.createElement)(n.Fragment,null,wage.length>0&&(0,n.createElement)("span",{className:"pv-pro-label",onClick:()=>{document.getElementById("pv-pro-alert").style.display="block"},style:{background:e.blueBtn?"#FFEED9":"auto"}},(0,n.createElement)("svg",{width:13,height:10,viewBox:"0 0 13 10",fill:"none"},(0,n.createElement)("path",{d:"M1.71013 8.87452C1.72412 8.93204 1.7495 8.98616 1.78477 9.0337C1.82003 9.08124 1.86447 9.12123 1.91545 9.15131C1.96643 9.18139 2.02292 9.20094 2.08158 9.20882C2.14025 9.2167 2.19989 9.21274 2.257 9.19718C4.86395 8.47534 7.61803 8.47534 10.225 9.19718C10.2821 9.21274 10.3417 9.2167 10.4004 9.20882C10.4591 9.20094 10.5156 9.18139 10.5665 9.15131C10.6175 9.12123 10.6619 9.08124 10.6972 9.0337C10.7325 8.98616 10.7579 8.93204 10.7718 8.87452L12.1664 2.95187C12.1855 2.87259 12.1821 2.78954 12.1566 2.71209C12.131 2.63464 12.0843 2.56588 12.0218 2.51356C11.9592 2.46123 11.8833 2.42744 11.8025 2.41599C11.7218 2.40454 11.6395 2.41588 11.5648 2.44874L8.79763 3.67921C8.69737 3.72336 8.5843 3.72879 8.48027 3.69445C8.37624 3.6601 8.28863 3.58843 8.23435 3.49327L6.62653 0.594837C6.5887 0.526455 6.53324 0.469456 6.46592 0.429765C6.3986 0.390074 6.32187 0.369141 6.24372 0.369141C6.16557 0.369141 6.08885 0.390074 6.02153 0.429765C5.95421 0.469456 5.89874 0.526455 5.86091 0.594837L4.2531 3.49327C4.19882 3.58843 4.1112 3.6601 4.00717 3.69445C3.90314 3.72879 3.79008 3.72336 3.68982 3.67921L0.922629 2.44874C0.847988 2.41588 0.765648 2.40454 0.684901 2.41599C0.604154 2.42744 0.528216 2.46123 0.465658 2.51356C0.403099 2.56588 0.35641 2.63464 0.330861 2.71209C0.305312 2.78954 0.301919 2.87259 0.321067 2.95187L1.71013 8.87452Z",fill:"#FF6B00"})),"Pro"))},5393:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>I});var n=a(51609),r=a(21241),l=a(47767),s=a(99652),i=a(64027),o=a(41251),c=a(7280),d=a(9519),p=a(56303),m=a(57536),u=a(60235);const h=u.y0+"actions",v=e=>m.A.post(h,e,u.Sh),f=(e,t)=>m.A.put(`${h}/${e}`,t,u.Sh);var g=a(56564),E=a(93300),b=a.n(E),y=a(92536),k=a(43065);class C extends n.Component{constructor(e){super(e),this.state={form:{}}}handleChange=e=>{const{name:t,value:a}=e.target;this.setState({form:{...this.state.form,[t]:a}})};handleUploadChange=(e,t=null)=>{let a={...this.state.form};a.attachment=e,this.setState({form:a})};render(){const e=this.props.data,t=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content"},(0,n.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,n.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,n.createElement)(k.OM,null)),(0,n.createElement)("h2",{className:"pv-modal-title"},t.fdbk),(0,n.createElement)("p",null,"Here is the client feedback")),(0,n.createElement)("div",{className:"pv-content"},(0,n.createElement)("div",{className:"pv-form-style-one"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-note"},t.addiNote),(0,n.createElement)("p",{style:{margin:0},dangerouslySetInnerHTML:{__html:e.feedback.note}}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-receipt"},t.addiAtch),(0,n.createElement)(y.A,{attach_type:"secret",viewOnly:!0,library:!1,data:e.feedback.attachment,changeHandler:this.handleUploadChange,remove:!1}))))),(0,n.createElement)("div",{className:"pv-modal-footer"})))}}const w=C;var _=a(394),N=a(7834);const x=e=>{const t=(0,n.useRef)(),[a,r]=(0,n.useState)(!1),l=(0,n.useCallback)((()=>r(!1)),[]);(0,N.A)(t,l);const s=e.row;let i=!0;switch(s.status){case"accept":case"decline":case"paid":i=!1}const{i18n:o,caps:c}=ndpv;s.invoice.recurring;const d=c.includes("ndpv_client_role");return(0,n.createElement)("div",{className:"pv-action-content"},(0,n.createElement)("button",{className:a?"pv-active":"",onClick:()=>r((e=>!e)),style:{padding:"0 5px"}},(0,n.createElement)(k.ff,null)),a&&(0,n.createElement)("div",{className:"pv-dropdown-content pv-show",ref:t},!d&&i&&(0,n.createElement)("a",{onClick:()=>{r(!1),e.single(s)}},o.edit),!d&&(0,n.createElement)("a",{onClick:()=>e.single(s,"/tab/preview")},o.prv),(0,n.createElement)("a",{target:"_blank",href:e.client_url},d?o.prv:o.client_prv),!1,!d&&"paid"!=s.status&&"accept"!=s.status&&(0,n.createElement)("a",{onClick:()=>{r(!1),e.action("sent",s.id)}},o.mark_as_sent),!d&&"invoice"==s.path&&"paid"!=s.status&&(0,n.createElement)("a",{onClick:()=>{r(!1),e.action("paid",s.id)}},o.mark_as_paid),!d&&"estimate"==s.path&&(0,n.createElement)("a",{onClick:()=>{r(!1),e.action("accept",s.id)}},o.mark_as_acpt),!d&&"estimate"==s.path&&(0,n.createElement)("a",{onClick:()=>{r(!1),e.action("decline",s.id)}},o.mark_as_decl),!d&&(0,n.createElement)("a",{onClick:()=>{r(!1),e.action("copy",s.id)}},o.dup," ",(0,n.createElement)(_.A,null)),!d&&"estimate"==s.path&&(0,n.createElement)("a",{onClick:()=>{r(!1),e.action("copy-to-inv",s.id)}},o.copy_to_inv," ",(0,n.createElement)(_.A,null)),!d&&(0,n.createElement)("a",{onClick:()=>{r(!1),e.deleteEntry("single",s.id)}},o.del)))};var S=a(95616),A=a(56087),F=a(94989);const{i18n:L,caps:M}=ndpv,O=M.includes("ndpv_client_role"),j=e=>(0,n.createElement)("thead",null,(0,n.createElement)("tr",null,(0,n.createElement)("th",null,!O&&(0,n.createElement)("input",{type:"checkbox",checked:e.checkedBoxes.data.length===e.checkedBoxes.totalRow,onChange:t=>e.checkedBoxes.handle(t,"all")})),(0,n.createElement)("th",null,"invoice"==e.path?L.inv:L.est," ID"),!O&&(0,n.createElement)("th",null,L.ct),(0,n.createElement)("th",null,L.total),(0,n.createElement)("th",null,L.status),"invoice"==e.path&&(0,n.createElement)("th",null,L.paymentMethod),(0,n.createElement)("th",null,L.due_date),(0,n.createElement)("th",null,L.action))),B=e=>{let t=(0,l.Zp)();function a(a,n="",r,l){if(r){const e=window.open(l,"_blank","noopener,noreferrer");return void(e&&(e.opener=null))}let s=e.path,i="";n&&(i=n),t(`/${s}/${a.id}${i}`)}const r=ndpv.i18n;let s=e.tableData.map(((t,l)=>{var s;const i=-1!==e.checkedBoxes.data.indexOf(t.id);let o,c;switch(t.status){case"draft":o=(0,n.createElement)("span",{className:"pv-badge pv-bg-pink"},r.dft);break;case"sent":o=(0,n.createElement)("span",{className:"pv-badge",style:{backgroundColor:"#F4F2FE",color:"#8775EC"}},r.sent);break;case"viewed":o=(0,n.createElement)("span",{className:"pv-badge",style:{backgroundColor:"#E0F0EC",color:"#4BB99E"}},r.viewed);break;case"accept":o=(0,n.createElement)("span",{className:"pv-badge pv-cursor-pointer",style:{backgroundColor:"#DDFFDE",color:"#0BA24B"},onClick:()=>e.infoModal(t,"feedback")},r.acptd);break;case"decline":o=(0,n.createElement)("span",{className:"pv-badge pv-cursor-pointer",style:{backgroundColor:"#FFF0F1",color:"#FF6771"},onClick:()=>e.infoModal(t,"feedback")},r.dec);break;case"paid_req":o=(0,n.createElement)("span",{className:"pv-badge pv-cursor-pointer",style:{backgroundColor:"#ECF9FC",color:"#33C3E2"}},r.paid," ",r.req);break;case"paid":let a=t.invoice.recurring;o=(0,n.createElement)("span",{className:"pv-badge pv-cursor-pointer",style:{backgroundColor:"#DDFFDE",color:"#0BA24B"}},a&&a.status&&a.hasOwnProperty("subscription")&&a.subscription?r.subsed:r.paid)}switch(t.payment_method){case"bank":c=(0,n.createElement)("span",{className:"pv-badge pv-cursor-pointer",style:{color:"#fff",backgroundColor:"#4A5568"},onClick:()=>e.infoModal(t,"bank")},r.bank);break;case"paypal":c=(0,n.createElement)("span",{className:"pv-badge pv-cursor-pointer",style:{color:"#fff",backgroundColor:"#009cde"},onClick:()=>e.infoModal(t,"paypal")},r.paypal);break;case"stripe":c=(0,n.createElement)("span",{className:"pv-badge pv-cursor-pointer",style:{color:"#fff",backgroundColor:"#5433FF"},onClick:()=>e.infoModal(t,"stripe")},r.stripe)}let d=t.id,p=t.token,m=("invoice"==t.path?ndpv.invoice_page_url:ndpv.estimate_page_url).replace("invoice_id",d).replace("invoice_token",p);const u=t.num?t.num:e.prefix+t.id;return(0,n.createElement)("tr",{key:l},(0,n.createElement)("td",null,!O&&(0,n.createElement)("input",{type:"checkbox",value:t.id,checked:i,onChange:a=>e.checkedBoxes.handle(a,"single",t.id)})),(0,n.createElement)("td",{onClick:()=>{a(t,"/tab/preview",O,m)},className:"pv-cursor-pointer"},(0,n.createElement)("span",{className:"pv-list-title"},u)),!O&&!e.client_id&&(0,n.createElement)("td",{onClick:()=>{a(t,"/tab/preview",O,m)},className:"pv-cursor-pointer"},null!==(s=t.to.first_name)&&void 0!==s?s:t.to.org_name),(0,n.createElement)("td",{onClick:()=>{a(t,"/tab/preview",O,m)},className:"pv-cursor-pointer"},(0,g.Gl)(t.total,t.invoice.currency,t.invoice.lang)),(0,n.createElement)("td",null,o),"invoice"==e.path&&(0,n.createElement)("td",null,c),(0,n.createElement)("td",{onClick:()=>{a(t,"/tab/preview",O,m)},className:"pv-cursor-pointer"},t.due_date&&(0,n.createElement)(b(),{format:ndpv.date_format},t.due_date)),(0,n.createElement)("td",{className:"pv-action"},(0,n.createElement)(x,{row:t,client_url:m,single:a,action:e.action,deleteEntry:e.deleteEntry})))}));return(0,n.createElement)("tbody",null,s)},P=e=>{const[t,a]=(0,n.useState)(!1),[r,l]=(0,n.useState)(null),{prefix:s,tableData:i,editEntry:o,checkedBoxes:c,deleteEntry:d,client_id:p,path:m,action:u}=e;return(0,n.createElement)(n.Fragment,null,i.length>0&&(0,n.createElement)("div",{className:"pv-table-wrap"},t&&(0,n.createElement)(n.Fragment,null,("accept"==r.status||"decline"==r.status)&&(0,n.createElement)(w,{data:r,show:t,reload:e.reload,close:()=>a(!1)}),"bank"==r.payment_method&&(0,n.createElement)(S.A,{data:r,show:t,reload:e.reload,close:()=>a(!1)}),"paypal"==r.payment_method&&(0,n.createElement)(A.A,{data:r,show:t,reload:e.reload,close:()=>a(!1)}),"stripe"==r.payment_method&&(0,n.createElement)(F.A,{data:r,show:t,reload:e.reload,close:()=>a(!1)})),(0,n.createElement)("table",{className:"pv-table pv-table-four"},(0,n.createElement)(j,{checkedBoxes:c,client_id:p,path:m}),(0,n.createElement)(B,{infoModal:e=>{l(e),a(!0)},prefix:s,tableData:i,editEntry:o,checkedBoxes:c,deleteEntry:d,client_id:p,path:m,action:u}))))};var R=a(25928);class H extends n.Component{constructor(e){super(e),this.state={form:{text:"",level:"",tag:""},recurring:!1,searchModal:!1},this.timeout=0}handleChange=e=>{const{name:t,value:a}=e.target;this.setState({form:{...this.state.form,[t]:a}},(()=>{"text"==t?(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.props.handleSubmit(this.state.form)}),300)):this.props.handleSubmit(this.state.form)}))};showRecurring=e=>{wage.length>0&&e?(0,R.A)():this.state.recurring!=e&&this.setState({recurring:e},(()=>{let e={...this.state.form};this.state.recurring&&(e.recurring=!0),this.props.handleSubmit(e)}))};render(){const{title:e,showing:t,showItem:a,total:r}=this.props,l="#4A5568",s="#A0AEC0",i=this.state.recurring,o=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-search-bar"},"invoice"==this.props.path&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("button",{className:"pv-btn pv-btn-icon pv-bg-hover-shadow pv-mr-5",onClick:()=>this.showRecurring(!1),style:{marginLeft:0},title:o.all+" "+o.inv},(0,n.createElement)("svg",{height:"20",width:"20",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("g",{clipPath:"url(#clip0_7584_99984)"},(0,n.createElement)("path",{d:"M10 14.7266C10 17.3154 7.90133 19.4141 5.3125 19.4141C2.72367 19.4141 0.625 17.3154 0.625 14.7266C0.625 12.1377 2.72367 10.0391 5.3125 10.0391C7.90133 10.0391 10 12.1377 10 14.7266Z",stroke:i?s:l,strokeLinecap:"round",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M4.98699 14.7266H5.63805C5.99762 14.7266 6.28906 15.018 6.28906 15.3776V16.0286C6.28906 16.3882 5.99762 16.6797 5.63805 16.6797H4.98699C4.62742 16.6797 4.33594 16.3882 4.33594 16.0286",stroke:i?s:l,strokeLinecap:"round",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M5.63801 14.7266H4.98695C4.62738 14.7266 4.33594 14.4351 4.33594 14.0755V13.4245C4.33594 13.0649 4.62738 12.7734 4.98695 12.7734H5.63801C5.99758 12.7734 6.28906 13.0649 6.28906 13.4245",stroke:i?s:l,strokeLinecap:"round",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M5.3125 12.7734V11.9922",stroke:i?s:l,strokeLinecap:"round",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M5.3125 17.4609V16.6797",stroke:i?s:l,strokeLinecap:"round",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M5.3125 19.4141H18.2031C18.8503 19.4141 19.375 18.8894 19.375 18.2422V4.49231L15.4689 0.585939H6.48438C5.83719 0.585939 5.3125 1.11063 5.3125 1.75781V10.0391",stroke:i?s:l,strokeLinecap:"round",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M15.4688 0.585938V4.49219H19.375L15.4688 0.585938Z",stroke:i?s:l,strokeLinecap:"round",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M8.4126 11.2109H16.6406",stroke:i?s:l,strokeLinecap:"round",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M8.04688 7.69531H16.6406",stroke:i?s:l,strokeLinecap:"round",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M10 14.7266H16.6406",stroke:i?s:l,strokeLinecap:"round",strokeWidth:"1.2"})),(0,n.createElement)("defs",null,(0,n.createElement)("clipPath",{id:"clip0_7584_99984"},(0,n.createElement)("rect",{height:"20",width:"20",fill:"white"}))))),(0,n.createElement)("button",{className:"pv-btn pv-btn-icon pv-bg-hover-shadow",onClick:()=>this.showRecurring(!0),style:{marginLeft:0,marginRight:10},title:o.recur+" "+o.inv},(0,n.createElement)("svg",{height:"20",width:"16",fill:"none",viewBox:"0 0 16 20",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M1 17.9141C1 18.7425 1.67157 19.4141 2.5 19.4141H13.8906C14.5378 19.4141 15.0625 18.8894 15.0625 18.2422V4.49231L11.1564 0.585939H2.17188C1.52469 0.585939 1 1.11063 1 1.75781V17.9141Z",stroke:i?l:s,strokeLinecap:"round",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M11.1562 0.585938V4.49219H15.0625L11.1562 0.585938Z",stroke:i?l:s,strokeLinecap:"round",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M13.1457 7.08325V9.68742C13.1457 9.82555 13.0908 9.95802 12.9931 10.0557C12.8954 10.1534 12.763 10.2082 12.6248 10.2082H10.0207C9.88254 10.2082 9.75006 10.1534 9.65239 10.0557C9.55471 9.95802 9.49984 9.82555 9.49984 9.68742C9.49984 9.54928 9.55471 9.41681 9.65239 9.31913C9.75006 9.22146 9.88254 9.16658 10.0207 9.16658H11.5363C11.0987 8.40686 10.4323 7.80486 9.63208 7.44657C8.83191 7.08828 7.93898 6.99202 7.08084 7.17155C6.2227 7.35108 5.44324 7.79722 4.85381 8.44623C4.26438 9.09523 3.89512 9.91392 3.7988 10.7853C3.78494 10.9129 3.7245 11.0308 3.62906 11.1165C3.53362 11.2023 3.4099 11.2498 3.28161 11.2499C3.26247 11.2499 3.24334 11.2489 3.22432 11.2468C3.08722 11.2318 2.96165 11.1631 2.87514 11.0557C2.78864 10.9483 2.74826 10.811 2.76286 10.6739C2.87766 9.63615 3.30192 8.65693 3.98049 7.86346C4.65906 7.06999 5.56059 6.49895 6.56794 6.22452C7.57528 5.95009 8.64188 5.98496 9.62915 6.32461C10.6164 6.66426 11.4787 7.29298 12.104 8.12908V7.08325C12.104 6.94511 12.1589 6.81264 12.2566 6.71496C12.3542 6.61729 12.4867 6.56242 12.6248 6.56242C12.763 6.56242 12.8954 6.61729 12.9931 6.71496C13.0908 6.81264 13.1457 6.94511 13.1457 7.08325ZM12.6504 11.253C12.5132 11.2384 12.3759 11.2788 12.2685 11.3653C12.1611 11.4518 12.0924 11.5774 12.0774 11.7145C11.9815 12.5864 11.6124 13.4056 11.0229 14.0551C10.4333 14.7046 9.65354 15.151 8.79498 15.3306C7.93642 15.5102 7.04306 15.4137 6.24263 15.055C5.4422 14.6962 4.77568 14.0936 4.33838 13.3332H5.854C5.99214 13.3332 6.12461 13.2784 6.22229 13.1807C6.31996 13.083 6.37484 12.9505 6.37484 12.8124C6.37484 12.6743 6.31996 12.5418 6.22229 12.4441C6.12461 12.3465 5.99214 12.2916 5.854 12.2916H3.24984C3.1117 12.2916 2.97923 12.3465 2.88155 12.4441C2.78388 12.5418 2.729 12.6743 2.729 12.8124V15.4166C2.729 15.5547 2.78388 15.6872 2.88155 15.7849C2.97923 15.8825 3.1117 15.9374 3.24984 15.9374C3.38797 15.9374 3.52045 15.8825 3.61812 15.7849C3.7158 15.6872 3.77067 15.5547 3.77067 15.4166V14.3707C4.3959 15.2068 5.25811 15.8355 6.24529 16.1752C7.23248 16.5149 8.299 16.5499 9.30632 16.2756C10.3136 16.0013 11.2152 15.4304 11.8938 14.6371C12.5725 13.8437 12.9968 12.8646 13.1118 11.827C13.1267 11.6897 13.0865 11.5521 12.9999 11.4445C12.9134 11.3368 12.7877 11.268 12.6504 11.253Z",fill:i?l:s})))),(0,n.createElement)("div",{className:"pv-search-box pv-medium-search-bar"},(0,n.createElement)(k.vj,null),(0,n.createElement)("input",{type:"text",className:"pv-search-input",placeholder:o.search+" "+e,name:"text",value:this.state.form.text,onChange:this.handleChange})),(0,n.createElement)("div",{className:"pv-total-list"},(0,n.createElement)("p",null,o.show," ",(0,n.createElement)("select",{onChange:a},(0,n.createElement)("option",{value:"10"},"10"),(0,n.createElement)("option",{value:"20"},"20"),(0,n.createElement)("option",{value:"30"},"30"),(0,n.createElement)("option",{value:"50"},"50"),(0,n.createElement)("option",{value:"99"},"99"),(0,n.createElement)("option",{value:"99999"},o.all)),e," ",o.from," ",(0,n.createElement)("span",null,r))))}}var D=a(22803);class $ extends n.Component{constructor(e){super(e),this.state={prefix:"",title:"",path:"",empty:!1,preloader:!0,formModal:!1,searchModal:!1,formModalType:"new",invoice:{id:null},invoices:[],summary:{total:0,paid:0,unpaid:0,draft:0,sent:0},checkedBoxes:[],offset:0,perPage:10,total:1,totalPage:1,currentPage:1,searchVal:""},this.timeout=0}componentDidMount(){const e=ndpv.i18n;let t="/invoice"==this.props.path?e.inv:e.est,a="/invoice"==this.props.path?"invoice":"estimate";this.setState({title:t,path:a},(()=>{this.getLists()}))}getLists=(e=null)=>{let t={page:this.state.currentPage,per_page:this.state.perPage};t.path=this.state.path,this.props.invoice_id&&(t.invoice_id=this.props.invoice_id),this.props.module_id&&(t.module_id=this.props.module_id),this.props.client_mod&&(t.client_mod=!0),this.props.dashboard&&(t.dashboard=!0),e&&(e=Object.entries(e).reduce(((e,[t,a])=>a?(e[t]=a,e):e),{}),t={...t,...e});let a=new URLSearchParams(t).toString();p.A.get("invoices",a).then((e=>{let t=e.data.data.prefix,a=e.data.data.result,n=e.data.data.total,r=!a.length;this.setState({prefix:t,invoices:a,preloader:!1,empty:r,total:n,totalPage:Math.ceil(n/this.state.perPage)})}))};handleSearch=e=>{const{value:t}=e.target;this.setState({searchVal:t},(()=>{this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.getLists({s:this.state.searchVal})}),300)}))};showItem=e=>{const{value:t}=e.target;this.setState({perPage:t},(()=>{this.getLists()}))};deleteEntry=(e,t)=>{if(confirm(ndpv.i18n.aConf)){let a="single"==e?t:this.state.checkedBoxes.toString();p.A.del("invoices",a).then((t=>{t.data.success?(r.oR.success(ndpv.i18n.aDel),"single"!=e&&this.setState({checkedBoxes:[]}),this.getLists()):t.data.data.forEach((function(e){r.oR.error(e)}))}))}};closeForm=(e="new")=>{"new"==e?this.setState({formModal:!1}):this.setState({searchModal:!1})};handleCheckbox=(e,t,a=null)=>{let n=this.state.checkedBoxes;if("single"==t)e.target.checked?(n.push(a),this.setState({checkedBoxes:n})):(n.splice(n.indexOf(a),1),this.setState({checkedBoxes:n}));else if(e.target.checked){let e=[];this.state.invoices.map((t=>{e.push(t.id)})),this.setState({checkedBoxes:e})}else this.setState({checkedBoxes:[]})};handlePageClick=e=>{const t=e.selected+1,a=t*this.state.perPage;this.setState({currentPage:t,offset:a},(()=>{this.getLists()}))};newInvoie=()=>{this.props.routeChange()};handleBulkAction=async e=>{let t=this.state.checkedBoxes;await this.applyUpdateAction(t,e),await this.copyToInvoiceAction(t,e),this.setState({checkedBoxes:[]}),this.getLists()};applyUpdateAction=async(e,t)=>{if("copy-to-inv"==t)return;if(!(e=this.actionIdsToUpdate(e,t).toString()))return;const a=await f(e,{type:t});a.data.success||a.data.data.forEach((function(e){r.oR.error(e)}))};actionIdsToUpdate=(e,t)=>e.filter((e=>{const a=this.state.invoices.find((t=>t.id===e));return"sent"!==t||"paid"!==a.status||(r.oR.error(`Can not be sent ${a.num} after paid!!!`),!1)}));copyToInvoiceAction=async(e,t)=>{const a=e.toString();if("copy-to-inv"===t&&a)try{const e=await v({id:a,type:t});e.data.success?r.oR.success("Copy to invoice action successful"):e.data.data.forEach((e=>{r.oR.error(e)}))}catch(e){console.error(e)}};handleAction=(e,t)=>{const a=ndpv.i18n;wage.length>0&&("copy"==e||"copy-to-inv"==e)?(0,R.A)():"sent"==e||"paid"==e||"accept"==e||"decline"==e?f(t,{type:e}).then((t=>{t.data.success?("sent"==e?r.oR.success(a.scf+" "+a.mark_as_sent):"paid"==e?r.oR.success(a.scf+" "+a.mark_as_paid):"accept"==e?r.oR.success(a.scf+" "+a.mark_as_acpt):"decline"==e&&r.oR.success(a.scf+" "+a.mark_as_decl),this.getLists()):t.data.data.forEach((function(e){r.oR.error(e)}))})):"copy"!=e&&"copy-to-inv"!=e||v({id:t,type:e}).then((t=>{t.data.success?"copy"==e?(r.oR.success(ndpv.i18n.scf+" "+ndpv.i18n.cc),this.getLists()):"copy-to-inv"==e&&r.oR.success(a.scf+" "+a.copy_to_inv):t.data.data.forEach((function(e){r.oR.error(e)}))}))};actions={common:[{slug:"delete",type:"selected",label:ndpv.i18n.del,handleClick:this.deleteEntry}],estimate:[{slug:"mark_accepted",type:"accept",label:ndpv.i18n.mark+" "+ndpv.i18n.acptd,handleClick:this.handleBulkAction},{slug:"mark_declined",type:"decline",label:ndpv.i18n.mark+" "+ndpv.i18n.dec,handleClick:this.handleBulkAction},{slug:"copy_to_invoicce",type:"copy-to-inv",label:ndpv.i18n.copy_to_inv,handleClick:this.handleBulkAction}],invoice:[{slug:"mark_sent",type:"sent",label:ndpv.i18n.mark+" "+ndpv.i18n.sent,handleClick:this.handleBulkAction},{slug:"mark_paid",type:"paid",label:ndpv.i18n.mark+" "+ndpv.i18n.paid,handleClick:this.handleBulkAction}]};render(){const{prefix:e,title:t,invoices:a,checkedBoxes:r,searchVal:l}=this.state,{total:p,paid:m,unpaid:u,draft:h,sent:v}=this.state.summary,f=ndpv.caps;return(0,n.createElement)("div",{className:"ndpv-components"},!this.props.module_id&&!this.props.dashboard&&(0,n.createElement)(o.A,{title:t}),!this.props.dashboard&&(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},(0,n.createElement)("h2",{className:"pv-page-title"},t)),(0,n.createElement)("div",{className:"col"},!f.includes("ndpv_client_role")&&(0,n.createElement)(s.A,{title:t,openForm:()=>this.newInvoie()}))),!this.props.module_id&&!this.props.dashboard&&!1,!this.props.module_id&&!this.props.dashboard&&(0,n.createElement)(H,{path:this.state.path,title:t,showing:a.length,showItem:this.showItem,total:this.state.total,handleSubmit:this.getLists}),r.length>0&&(0,n.createElement)(i.A,{path:this.state.path,length:r.length,uncheckAll:()=>this.setState({checkedBoxes:[]}),actions:this.actions}),this.state.empty&&!this.props.dashboard&&(0,n.createElement)(D.A,{title:t,searchVal:l,clickHandler:()=>this.newInvoie()}),this.state.preloader?(0,n.createElement)(d.A,null):(0,n.createElement)(P,{prefix:e,reload:this.getLists,tableData:a,checkedBoxes:{data:r,handle:this.handleCheckbox,totalRow:this.state.invoices.length},deleteEntry:this.deleteEntry,invoice_id:this.props.invoice_id,path:this.state.path,action:this.handleAction}),this.state.totalPage>1&&(0,n.createElement)(c.A,{forcePage:this.state.currentPage-1,pageCount:this.state.totalPage,onPageChange:this.handlePageClick}))}}const I=function(e){let t=(0,l.zy)().pathname,a=null,r=!1;e.path&&(t="/"+e.path),e.module_id&&(a=e.module_id),e.client_mod&&(r=!0);let s=(0,l.Zp)();return(0,n.createElement)(n.Fragment,null,(0,n.createElement)($,{routeChange:()=>{s(a?`${t}/new?module=${e.parent}&module_id=${a}`:`${t}/new`)},path:t,module:e.parent,module_id:a,client_mod:r,dashboard:e.dashboard,key:t}))}},95616:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(51609),r=a(21241),l=a(88477),s=a(92536),i=a(43065);const{i18n:o,caps:c}=ndpv,d=c.includes("ndpv_client_role");class p extends n.Component{constructor(e){super(e),this.state={status:"",form:{invoice_id:null,payment_details:"",receipt:"",note:"",date:""}}}componentDidMount(){this.state.form.invoice_id!=this.props.data.id&&this.setState({status:this.props.data.status,form:this.props.data.payment_info})}handleChange=e=>{const{name:t,value:a}=e.target;this.setState({form:{...this.state.form,[t]:a}})};handleSubmit=e=>{e.preventDefault();let t={...this.state.form};t.payment_method="bank",t.invoice_id=this.props.data.id,this.props.type&&"package"==this.props.type&&(t.type=this.props.type),t.mark_as_paid=!0,l.A.create(t).then((e=>{e.data.success?(this.props.close(),this.props.reload(),r.oR.success(o.scf+" "+o.paid)):r.oR.error("Invalid submission!!!")}))};render(){const{note:e,receipt:t,payment_details:a}=this.state.form;return(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content"},(0,n.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,n.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,n.createElement)(i.OM,null)),(0,n.createElement)("h2",{className:"pv-modal-title"},o.paymentInfo),(0,n.createElement)("p",null,"Here is the payment information")),(0,n.createElement)("form",{onSubmit:this.handleSubmit},(0,n.createElement)("div",{className:"pv-content"},(0,n.createElement)("div",{className:"pv-form-style-one"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-payment_details"},o.payment," ",o.dtl),(0,n.createElement)("textarea",{id:"form-payment_details",readOnly:!0,rows:4,name:"payment_details",value:a,onChange:this.handleChange}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-md"},(0,n.createElement)("label",{htmlFor:"field-receipt"},o.payment," ",o.receipt),(0,n.createElement)(s.A,{label:o.upload,attach_type:"secret",permission:!0,library:!1,data:t,changeHandler:this.handleUploadChange}))),!d&&(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-note"},o.addiNote),(0,n.createElement)("textarea",{id:"form-note",rows:3,name:"note",value:e,onChange:this.handleChange}))))),(0,n.createElement)("div",{className:"pv-modal-footer"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col"},(0,n.createElement)("button",{type:"reset",className:"pv-btn pv-text-hover-blue",onClick:()=>this.props.close()},o.cancel)),(0,n.createElement)("div",{className:"col"},!d&&"paid"!=this.state.status&&(0,n.createElement)("button",{type:"submit",className:"pv-btn pv-bg-blue pv-bg-hover-blue pv-btn-big pv-float-right pv-color-white"},o.mark_as_paid)))))))}}const m=p},56087:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(51609),r=a(43065);class l extends n.Component{constructor(e){super(e),this.state={form:{invoice_id:null,date:"",note:""}}}componentDidMount(){this.state.form.invoice_id!=this.props.data.id&&this.setState({form:this.props.data.payment_info})}handleChange=e=>{const{name:t,value:a}=e.target;this.setState({form:{...this.state.form,[t]:a}})};render(){const e=this.props.data,t=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content"},(0,n.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,n.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,n.createElement)(r.OM,null)),(0,n.createElement)("h2",{className:"pv-modal-title"},"Paypal ",t.paymentInfo),(0,n.createElement)("p",null,"Here is the payment information")),(0,n.createElement)("div",{className:"pv-content"},(0,n.createElement)("div",{className:"pv-form-style-one"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-name"},t.name),(0,n.createElement)("input",{id:"form-name",type:"text",required:!0,name:"name",value:e.payment_info.billing_address.name.given_name,onChange:this.handleChange})),(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-email"},t.email),(0,n.createElement)("input",{id:"form-email",type:"text",required:!0,name:"email",value:e.payment_info.billing_address.email_address,onChange:this.handleChange}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-transection_id"},t.txn," ",t.id),(0,n.createElement)("input",{id:"form-transection_id",type:"text",required:!0,name:"transection_id",value:e.payment_info.id,onChange:this.handleChange}))))),(0,n.createElement)("div",{className:"pv-modal-footer"})))}}const s=l},94989:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(51609),r=a(43065);class l extends n.Component{constructor(e){super(e),this.state={form:{invoice_id:null,date:"",note:""}}}componentDidMount(){this.state.form.invoice_id!=this.props.data.id&&this.setState({form:this.props.data.payment_info})}handleChange=e=>{const{name:t,value:a}=e.target;this.setState({form:{...this.state.form,[t]:a}})};render(){const e=this.props.data,t=ndpv.i18n;return(0,n.createElement)("div",{className:"pv-overlay pv-show"},(0,n.createElement)("div",{className:"pv-modal-content"},(0,n.createElement)("div",{className:"pv-modal-header pv-gradient"},(0,n.createElement)("span",{className:"pv-close",onClick:()=>this.props.close()},(0,n.createElement)(r.OM,null)),(0,n.createElement)("h2",{className:"pv-modal-title"},t.stripe," ",t.paymentInfo),(0,n.createElement)("p",null,"Here is the payment information")),(0,n.createElement)("div",{className:"pv-content"},(0,n.createElement)("div",{className:"pv-form-style-one"},(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-name"},t.name),(0,n.createElement)("input",{id:"form-name",type:"text",required:!0,name:"name",value:e.payment_info.billing_address.name,onChange:this.handleChange})),(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-email"},t.email),(0,n.createElement)("input",{id:"form-email",type:"text",required:!0,name:"email",value:e.payment_info.billing_address.email,onChange:this.handleChange}))),(0,n.createElement)("div",{className:"row"},(0,n.createElement)("div",{className:"col-lg"},(0,n.createElement)("label",{htmlFor:"form-transection_id"},t.txn," ",t.id),(0,n.createElement)("input",{id:"form-transection_id",type:"text",required:!0,name:"transection_id",value:e.payment_info.id,onChange:this.handleChange}))))),(0,n.createElement)("div",{className:"pv-modal-footer"})))}}const s=l},56564:(e,t,a)=>{"use strict";a.d(t,{Fi:()=>l,Gl:()=>r,QF:()=>s,rL:()=>i});var n=a(81083);const r=(e,t="USD",a="en")=>{try{return new Intl.NumberFormat(a,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}catch(t){return e}},l=(e="")=>{if(e){let t=n.T9.find(((t,a)=>{if(t[1]===e)return!0}));if(t)return t[0]}},s=()=>{let e=window.location.hash,t=document.querySelectorAll("#toplevel_page_ndpv ul > li");for(let a=0,n=t.length;a<n;a++){const n=t[a].querySelector("a");e=e.replace(/[0-9]|\/+$/g,""),e&&n&&n.getAttribute("href").includes(e)?t[a].classList.add("current"):(t[a].classList.remove("current"),!e&&n&&"admin.php?page=ndpv#"===n.getAttribute("href")&&t[a].classList.add("current"))}},i=(...e)=>{const t={};return e.forEach((e=>{for(const a in e)e.hasOwnProperty(a)&&("first_name"!==a&&void 0!==e[a]&&null!==e[a]&&""!==e[a]?t[a]=e[a]:t.hasOwnProperty(a)||(t[a]=e[a]))})),t}},7364:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(51609),r=a(47767);const l=e=>t=>{const a=(0,r.Zp)();return(0,n.createElement)(e,{navigate:a,...t})}},84941:(e,t,a)=>{e.exports=a(30133)},64656:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=(n=a(51609))&&n.__esModule?n:{default:n},s=a(16154),i=a(3132),o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"buildURI",value:function(){return s.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.headers,n=e.separator,r=e.enclosingCharacter,l=e.uFEFF,s=e.target,i=e.specs,o=e.replace;this.state.page=window.open(this.buildURI(t,l,a,n,r),s,i,o)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(l.default.Component);o.defaultProps=Object.assign(i.defaultProps,{target:"_blank"}),o.propTypes=i.propTypes,t.default=o},35968:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=(n=a(51609))&&n.__esModule?n:{default:n},i=a(16154),o=a(3132),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.buildURI=a.buildURI.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"buildURI",value:function(){return i.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var a=this.props,n=a.data,r=a.headers,l=a.separator,s=a.filename,o=a.enclosingCharacter,c=a.uFEFF,d=t&&"function"==typeof n?n():n,p=new Blob([c?"\ufeff":"",(0,i.toCSV)(d,r,l,o)]);return window.navigator.msSaveBlob(p,s),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,(function(a){!1!==a?t.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"==typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.headers,l=t.separator,i=t.filename,o=t.uFEFF,c=t.children,d=(t.onClick,t.asyncOnClick,t.enclosingCharacter),p=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),m="undefined"==typeof window?"":this.buildURI(a,o,n,l,d);return s.default.createElement("a",r({download:i},p,{ref:function(t){return e.link=t},target:"_self",href:m,onClick:this.handleClick()}),c)}}]),t}(s.default.Component);c.defaultProps=o.defaultProps,c.propTypes=o.propTypes,t.default=c},16154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var r=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},l=t.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===(void 0===e?"undefined":a(e))&&!(e instanceof Array)}))},s=t.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},i=t.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return new Set([].concat(n(e),n(t)))}),[]))},o=t.jsons2arrays=function(e,t){var a=t=t||i(e),r=t;l(t)&&(a=t.map((function(e){return e.label})),r=t.map((function(e){return e.key})));var s=e.map((function(e){return r.map((function(t){return c(t,e)}))}));return[a].concat(n(s))},c=t.getHeaderValue=function(e,t){var a=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,a,n){var r=e[t];if(null!=r)return r;n.splice(1)}),t);return void 0===a?e in t?t[e]:"":a},d=t.elementOrEmpty=function(e){return null==e?"":e},p=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return d(e)})).map((function(e){return""+a+e+a})).join(t)})).join("\n")},m=t.arrays2csv=function(e,t,a,r){return p(t?[t].concat(n(e)):e,a,r)},u=t.jsons2csv=function(e,t,a,n){return p(o(e,t),a,n)},h=t.string2csv=function(e,t,a,n){return t?t.join(a)+"\n"+e:e.replace(/"/g,'""')},v=t.toCSV=function(e,t,a,n){if(l(e))return u(e,t,a,n);if(s(e))return m(e,t,a,n);if("string"==typeof e)return h(e,t,a);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,a,n,l){var s=v(e,a,n,l),i=r()?"application/csv":"text/csv",o=new Blob([t?"\ufeff":"",s],{type:i}),c="data:"+i+";charset=utf-8,"+(t?"\ufeff":"")+s,d=window.URL||window.webkitURL;return void 0===d.createObjectURL?c:d.createObjectURL(o)}},30133:(e,t,a)=>{"use strict";t.CSVLink=void 0;var n=l(a(64656)),r=l(a(35968));function l(e){return e&&e.__esModule?e:{default:e}}n.default,t.CSVLink=r.default},3132:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var n,r=((n=a(51609))&&n.__esModule,a(5556));t.propTypes={data:(0,r.oneOfType)([r.string,r.array,r.func]).isRequired,headers:r.array,target:r.string,separator:r.string,filename:r.string,uFEFF:r.bool,onClick:r.func,asyncOnClick:r.bool,enclosingCharacter:r.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},17604:(e,t,a)=>{var n;!function(){"use strict";var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function l(e){return function(e,t){var a,n,s,i,o,c,d,p,m,u=1,h=e.length,v="";for(n=0;n<h;n++)if("string"==typeof e[n])v+=e[n];else if("object"==typeof e[n]){if((i=e[n]).keys)for(a=t[u],s=0;s<i.keys.length;s++){if(null==a)throw new Error(l('[sprintf] Cannot access property "%s" of undefined value "%s"',i.keys[s],i.keys[s-1]));a=a[i.keys[s]]}else a=i.param_no?t[i.param_no]:t[u++];if(r.not_type.test(i.type)&&r.not_primitive.test(i.type)&&a instanceof Function&&(a=a()),r.numeric_arg.test(i.type)&&"number"!=typeof a&&isNaN(a))throw new TypeError(l("[sprintf] expecting number but found %T",a));switch(r.number.test(i.type)&&(p=a>=0),i.type){case"b":a=parseInt(a,10).toString(2);break;case"c":a=String.fromCharCode(parseInt(a,10));break;case"d":case"i":a=parseInt(a,10);break;case"j":a=JSON.stringify(a,null,i.width?parseInt(i.width):0);break;case"e":a=i.precision?parseFloat(a).toExponential(i.precision):parseFloat(a).toExponential();break;case"f":a=i.precision?parseFloat(a).toFixed(i.precision):parseFloat(a);break;case"g":a=i.precision?String(Number(a.toPrecision(i.precision))):parseFloat(a);break;case"o":a=(parseInt(a,10)>>>0).toString(8);break;case"s":a=String(a),a=i.precision?a.substring(0,i.precision):a;break;case"t":a=String(!!a),a=i.precision?a.substring(0,i.precision):a;break;case"T":a=Object.prototype.toString.call(a).slice(8,-1).toLowerCase(),a=i.precision?a.substring(0,i.precision):a;break;case"u":a=parseInt(a,10)>>>0;break;case"v":a=a.valueOf(),a=i.precision?a.substring(0,i.precision):a;break;case"x":a=(parseInt(a,10)>>>0).toString(16);break;case"X":a=(parseInt(a,10)>>>0).toString(16).toUpperCase()}r.json.test(i.type)?v+=a:(!r.number.test(i.type)||p&&!i.sign?m="":(m=p?"+":"-",a=a.toString().replace(r.sign,"")),c=i.pad_char?"0"===i.pad_char?"0":i.pad_char.charAt(1):" ",d=i.width-(m+a).length,o=i.width&&d>0?c.repeat(d):"",v+=i.align?m+a+o:"0"===c?m+o+a:o+m+a)}return v}(function(e){if(i[e])return i[e];for(var t,a=e,n=[],l=0;a;){if(null!==(t=r.text.exec(a)))n.push(t[0]);else if(null!==(t=r.modulo.exec(a)))n.push("%");else{if(null===(t=r.placeholder.exec(a)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){l|=1;var s=[],o=t[2],c=[];if(null===(c=r.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(c[1]);""!==(o=o.substring(c[0].length));)if(null!==(c=r.key_access.exec(o)))s.push(c[1]);else{if(null===(c=r.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(c[1])}t[2]=s}else l|=2;if(3===l)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}a=a.substring(t[0].length)}return i[e]=n}(e),arguments)}function s(e,t){return l.apply(null,[e].concat(t||[]))}var i=Object.create(null);t.sprintf=l,t.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=l,window.vsprintf=s,void 0===(n=function(){return{sprintf:l,vsprintf:s}}.call(t,a,t,e))||(e.exports=n))}()}}]);